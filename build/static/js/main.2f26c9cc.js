/*! For license information please see main.2f26c9cc.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),s=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,a,o].join("|")+")"+c+l+")*"),d="(?:"+[s+r+"?",r,a,o,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,s,a,o){var l=-1,c=t.length;for(s||(s=i),o||(o=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,a,o):r(o,u):a||(o[o.length]=u)}return o}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),s=n(9841),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),s=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?i(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),s=n(6832),a=s&&s.isTypedArray,o=a?i(a):r;e.exports=o},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),s=n(9096);e.exports=function(e,t){var n={};return t=s(t,3),i(e,function(e,i,s){r(n,i,t(e,i,s))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),s=n(2761),a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),s=n(9140),a=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:s(n);return l<0&&(l=a(o+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),s=n(9096),a=n(8883),o=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(s));var f=a(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return o(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case j:return"Portal";case E:return"Profiler";case N:return"StrictMode";case _:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Se=null,Ne=null;function Ee(e){if(e=bi(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function ke(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function _e(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ne)&&(_e(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Me(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Be=null,Ue={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,s,a,o,l){Re=!1,Le=null,Me.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,St,Nt,Et,kt=!1,Ct=[],Tt=null,_t=null,At=null,Ot=new Map,Pt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){kt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==_t&&Ft(_t)&&(_t=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Bt),Pt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==_t&&Vt(_t,e),null!==At&&Vt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return _t=Rt(_t,e,t,n,r,i),!0;case"mouseover":return At=Rt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Rt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Rt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),xn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Nn}var kn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),Tn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(On),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(xi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Nr={};function Er(e){if(Sr[e])return Sr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Sr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var kr=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),_r=Er("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Ir=0;Ir<Or.length;Ir++){var Dr=Or[Ir];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=s,i=we(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case kr:case Cr:case Tr:l=yn;break;case _r:l=An;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Wn(o))if(Jn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?xi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var ji=[],Si=-1;function Ni(e){return{current:e}}function Ei(e){0>Si||(e.current=ji[Si],ji[Si]=null,Si--)}function ki(e,t){Si++,ji[Si]=e.current,e.current=t}var Ci={},Ti=Ni(Ci),_i=Ni(!1),Ai=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ei(_i),Ei(Ti)}function Di(e,t,n){if(Ti.current!==Ci)throw Error(s(168));ki(Ti,t),ki(_i,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ti.current,ki(Ti,e),ki(_i,_i.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(_i),Ei(Ti),ki(Ti,e)):Ei(_i),ki(_i,n)}var Fi=null,Bi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case j:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),is&&$i(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&$i(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&$i(i,m),c}function g(i,o,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return is&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),is&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Mc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case j:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(M(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=bs(!0),ws=bs(!1),js=Ni(null),Ss=null,Ns=null,Es=null;function ks(){Es=Ns=Ss=null}function Cs(e){var t=js.current;Ei(js),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _s(e,t){Ss=e,Es=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===Ss)throw Error(s(308));Ns=e,Ss.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Os=null;function Ps(e){null===Os?Os=[e]:Os.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Hs=Ni(Ws),Ks=Ni(Ws),Gs=Ni(Ws);function Qs(e){if(e===Ws)throw Error(s(174));return e}function Ys(e,t){switch(ki(Gs,t),ki(Ks,e),ki(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Hs),ki(Hs,t)}function Xs(){Ei(Hs),Ei(Ks),Ei(Gs)}function Js(e){Qs(Gs.current);var t=Qs(Hs.current),n=le(t,e.type);t!==n&&(ki(Ks,e),ki(Hs,n))}function $s(e){Ks.current===e&&(Ei(Hs),Ei(Ks))}var Zs=Ni(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?$a:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ja(){}function Sa(e,t){var n=aa,r=va(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ma(ka.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Aa(9,Ea.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(s(349));0!==(30&sa)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function ka(e,t,n){return n(function(){Ca(t)&&Ta(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ta(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function _a(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return va().memoizedState}function Pa(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ia(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function Da(e,t){return Pa(8390656,8,e,t)}function Ma(e,t){return Ia(2048,8,e,t)}function Ra(e,t){return Ia(4,2,e,t)}function La(e,t){return Ia(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ia(4,4,Fa.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ha(){return va().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Is(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Is(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},$a={readContext:As,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:_a,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=_a(!1),t=e[0];return e=Wa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===_l)throw Error(s(349));0!==(30&sa)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(ka.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=_l.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:As,useCallback:Va,useContext:As,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:Ra,useLayoutEffect:La,useMemo:za,useReducer:xa,useRef:Oa,useState:function(){return xa(ba)},useDebugValue:Ua,useDeferredValue:function(e){return qa(va(),oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],va().memoizedState]},useMutableSource:ja,useSyncExternalStore:Sa,useId:Ha,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:Va,useContext:As,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:Ra,useLayoutEffect:La,useMemo:za,useReducer:wa,useRef:Oa,useState:function(){return wa(ba)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:ja,useSyncExternalStore:Sa,useId:Ha,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Pi(t)?Ai:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Pi(t)?Ai:Ti.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return _s(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function jo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Ic(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,r,i)}function No(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Il,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Il,Pl),Pl|=r;return xo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,i){var s=Pi(n)?Ai:Ti.current;return s=Oi(t,s),_s(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Co(e,t,n,r,i){if(Pi(n)){var s=!0;Ri(t)}else s=!1;if(_s(t,i),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Oi(t,c=Pi(n)?Ai:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ms=!1;var h=t.memoizedState;a.state=h,zs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||_i.current||Ms?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ms||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Oi(t,l=Pi(n)?Ai:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Ms=!1,h=t.memoizedState,a.state=h,zs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||_i.current||Ms?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ms||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Wo(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ys(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xo(e,t,n,r),t.child}var Oo,Po,Io,Do,Mo={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,i,0,null),e=Mc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Mo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=_l)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),nc(r,e,i,-1))}return mc(),Bo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ic(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Ic(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&ps(r),xs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Ko(t),null;case 3:return r=t.stateNode,Xs(),Ei(_i),Ei(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Po(e,t),Ko(t),null;case 5:$s(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Qs(Hs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Hs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Xs(),Po(e,t),null===e&&zr(t.stateNode.containerInfo),Ko(t),null;case 10:return Cs(t.type._context),Ko(t),null;case 19:if(Ei(Zs),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>zl&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Je()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ei(_i),Ei(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return Xs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Hs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hl(e,t,n),Xo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Nc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Nc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Nc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,ml(t,e),Xo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,$o=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?jl(i):null!==l?(l.return=a,$o=l):jl(i);for(;null!==s;)$o=s,bl(s,t,n),s=s.sibling;$o=i,Yo=o,Xo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):xl(e)}}function xl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&il(t)}catch(f){Nc(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function jl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Nc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Nc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Nc(t,a,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Sl,Nl=Math.ceil,El=x.ReactCurrentDispatcher,kl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Tl=0,_l=null,Al=null,Ol=0,Pl=0,Il=Ni(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Bl=null,Ul=null,Vl=0,zl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,Jl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Tl)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));yt(e,n,r),0!==(2&Tl)&&e===_l||(e===_l&&(0===(2&Tl)&&(Ll|=n),4===Dl&&oc(e,Ol)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(zl=Je()+500,Bi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===_l?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai(function(){0===(6&Tl)&&zi()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var a=pc();for(_l===e&&Ol===t||(ql=null,zl=Je()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}ks(),El.current=a,Tl=i,null!==Al?t=0:(_l=null,Ol=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ml,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ul,ql),t);break}wc(e,Ul,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ul,ql),r);break}wc(e,Ul,ql);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,ql),rc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(zl=Je()+500,Bi&&zi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&jc();var t=Tl;Tl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Tl=t))&&zi()}}function dc(){Pl=Il.current,Ei(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:Xs(),Ei(_i),Ei(Ti),na();break;case 5:$s(r);break;case 4:Xs();break;case 13:case 19:Ei(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(_l=e,Al=e=Ic(e.current,null),Ol=Pl=t,Dl=0,Ml=null,Fl=Ll=Rl=0,Ul=Bl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Os=null}return e}function fc(e,t){for(;;){var n=Al;try{if(ks(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,kl.current=null,null===n||null===n.return){Dl=1,Ml=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,fo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===_l||0===(268435455&Rl)&&0===(268435455&Ll)||oc(_l,Ol)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(_l===e&&Ol===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(ks(),Tl=n,El.current=r,null!==Al)throw Error(s(261));return _l=null,Ol=0,Dl}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Ye();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,kl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Pl)))return void(Al=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{jc()}while(null!==Ql);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===_l&&(Al=_l=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,_c(tt,function(){return jc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,kl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Tl=l,bt=o,Cl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,zi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function jc(){if(null!==Ql){var e=xt(Yl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(sl(d),d===u){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$o=v;break e}$o=a.return}}var b=e.current;for($o=b;null!==$o;){var x=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,$o=x;else e:for(o=b;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Nc(l,l.return,j)}if(l===o){$o=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$o=w;break e}$o=l.return}}if(Tl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(j){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Sc(e,t,n){e=Bs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Ol&n)===n&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>Je()-Vl?hc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function _c(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Mc(n.children,i,a,t);case N:o=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case _:return(e=Oc(13,n,t,i)).elementType=_,e.lanes=a,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=a,e;case I:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case T:o=11;break e;case O:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Vc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(i,t,a))&&(nc(e,i,a,s),Us(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:_o(t),fs();break;case 5:Js(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(js,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(ki(Zs,1&Zs.current),null!==(e=Wo(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);_s(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),i){case 0:t=ko(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(_o(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Eo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(js,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!_i.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_s(t,n),r=r(i=As(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),jo(e,t,r,i=to(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,_s(t,n),so(t,r,i),oo(t,r,i,n),To(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return No(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Tl)&&(zl=Je()+500,zi()))}break;case 13:uc(function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Nt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,_e=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,ke,Ce,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[i(t[n++])];return n&&n==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),s=n(4052),a=n(4543),o=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),s=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),a=void 0===a?t<n?1:-1:s(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),s=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:s)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),s=n(8114);e.exports=function(e,t,n,a,o,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!s(g,t)&&(y===e||o(y,e,n,a,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!o(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),s=n(2597),a=n(914);e.exports=function(e){return s(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),s=n(801),a=Math.max,o=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function x(){var e=i();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-f);return g?o(n,u-(e-p)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function j(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(x,t),v(f)}return void 0===h&&(h=setTimeout(x,t)),d}return t=s(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(s(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?d:w(i())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)}),t});e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,i)&&!N.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),_(a,t,i,"",function(e){return e})):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=_(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=_(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),s=n(1558),a=n(8114),o=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=s;else if(d>=200){var m=t?null:o(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),s=t&&!t.nodeType&&t,a=s&&e&&!e.nodeType&&e,o=a&&a.exports===s?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[o]=n:delete e[o]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),s=n(2165),a=n(4052),o=n(929);e.exports=function(e,t,n){var l=a(e)?r:s;return n&&o(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,i){return n=!!t(e,r,i)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),s=n(438),a=n(9394),o=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),s=n(3366),a=n(2597),o=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&o(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?s(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),s=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:s(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),s=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),s=n(793),a=n(7760),o=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=s,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,a=-1,o=i(s.length-t,0),l=Array(o);++a<o;)l[a]=s[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=s[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),s=n(6350);e.exports=function(e,t){return s(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,o){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(s)var b=l?s(v,y,h,t,e,o):s(y,v,h,e,t,o);if(!(void 0===b?y===v||a(y,v,n,s,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++i<o;){var c=r(s[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var l=a[e?o:++i];if(!1===n(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case o:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===s}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),s=n(9987),a=n(5752),o=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?h:o(e),w=b?h:o(t),j=(x=x==d?f:x)==f,S=(w=w==d?f:w)==f,N=x==w;if(N&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(N&&!j)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):s(e,t,x,n,m,g,y);if(!(1&n)){var E=j&&p.call(e,"__wrapped__"),k=S&&p.call(t,"__wrapped__");if(E||k){var C=E?e.value():e,T=k?t.value():t;return y||(y=new r),g(C,T,n,m,y)}}return!!N&&(y||(y=new r),a(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&!1!==i(o[a],a,o););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,s){var a=n.length,o=a,l=!s;if(null==e)return!o;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(s)var p=s(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,s,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),s=16-(i-r);if(r=i,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,s=e===e,a=r(e),o=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||i&&o&&c||!n&&c||!s)return 1;if(!i&&!a&&!u&&e<t||u&&n&&s&&!i&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i&&r.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),s=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),s=n(5387),a=n(2070),o=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(s),v=c(a),b=c(o),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||s&&x(s.resolve())!=d||a&&x(new a)!=h||o&&x(new o)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),i=n(7857),s=n(6686),a=n(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?h:o).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,s,a,o){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,s,a,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),s=n(9096),a=n(4052),o=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&o(e,t,n)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),s=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),s=n(4190),a=n(1946),o=n(9333);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,I(j);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function j(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,E=null,k=-1,C=5,T=-1;function _(){return!(t.unstable_now()-T<C)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(N=!1,E=null)}}else N=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){y(A,0)};function I(e){E=e,N||(N=!0,S())}function D(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,D(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,I(j))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,s||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,s,a){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||a(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),s=n(5647),a=n(929),o=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=o},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),s=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?s(t):void 0,o=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return o[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),s=n(2074),a=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,s=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,s,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?T(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),s>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((l=c.length)-(s=u.length)<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/p|0,c[s]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,o?T(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(s+=E(n)),s+=r;(n=7-(r=(a=e[t])+"").length)&&(s+=E(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return s+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(i=e.d.length)?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return T(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,s=r.precision,a=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(o=!1,t=w(k(n,a),k(e,a),a),o=!0,T(t,s))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):T(new r(n),i)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return k(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):_(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,s,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),o=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(s=r).plus(w(c,s,a+2)).times(.5),x(s.d).slice(0,a)===(t=x(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(T(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;a+=4}return o=!0,T(r,n)},y.times=y.mul=function(e){var t,n,r,i,s,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(s=f,f=m,m=s,a=c,c=u,u=a),s=[],r=a=c+u;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=s[i]+m[r]*f[i-r-1]+t,s[i--]=l%p|0,t=l/p|0;s[i]=(s[i]+t)%p|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,o?T(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,s),void 0===t?t=r.rounding:b(t,0,8),T(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=A(r,!0):(b(e,0,s),void 0===t?t=i.rounding:b(t,0,8),n=A(r=T(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?A(i):(b(e,0,s),void 0===t?t=a.rounding:b(t,0,8),n=A((r=T(new a(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return T(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,s,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return T(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(s=new h(i),t=Math.ceil(r/7+4),o=!1;n%2&&O((s=s.times(u)).d,t),0!==(n=d(n/2));)O((u=u.times(u)).d,t);return o=!0,e.s<0?new h(i).div(s):T(s,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,s=e.times(k(u,r+12)),o=!0,(s=j(s)).s=a,s},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=A(i,(n=S(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,s),void 0===t?t=a.rounding:b(t,0,8),r=A(i=T(new a(i),e,t),e<=(n=S(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,s),void 0===t?t=n.rounding:b(t,0,8)),T(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,a){var o,c,u,d,h,f,m,g,y,v,b,x,w,j,N,E,k,C,_=r.constructor,A=r.s==i.s?1:-1,O=r.d,P=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,k=P.length,N=O.length,g=(m=new _(A)).d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--c,(x=null==s?s=_.precision:a?s+(S(r)-S(i))+1:s)<0)return new _(0);if(x=x/7+2|0,u=0,1==k)for(d=0,P=P[0],x++;(u<N||d)&&x--;u++)w=d*p+(O[u]||0),g[u]=w/P|0,d=w%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),O=e(O,d),k=P.length,N=O.length),j=k,v=(y=O.slice(0,k)).length;v<k;)y[v++]=0;(C=P.slice()).unshift(0),E=P[0],P[1]>=p/2&&++E;do{d=0,(o=t(P,y,k,v))<0?(b=y[0],k!=v&&(b=b*p+(y[1]||0)),(d=b/E|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(P,d),y,f=h.length,v=y.length))&&(d--,n(h,k<f?C:P,f))):(0==d&&(o=d=1),h=P.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==o&&(o=t(P,y,k,v=y.length))<1&&(d++,n(y,k<v?C:P,v)),v=y.length):0===o&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=O[j]||0:(y=[O[j]],v=1)}while((j++<N||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,T(m,a?s+S(m)+1:s)}}();function j(e,t){var n,r,s,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(o=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=s=new f(i),f.precision=l;;){if(r=T(r.times(e),l),n=n.times(++c),x((a=s.plus(w(r,n,l))).d).slice(0,l)===x(s.d).slice(0,l)){for(;d--;)s=T(s.times(s),l);return f.precision=p,null==t?(o=!0,T(s,p)):s}s=a}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function N(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return T(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function k(e,t){var n,r,s,a,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(o=!1,h=v):h=t,m.eq(10))return null==t&&(o=!0),N(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),a=S(m),!(Math.abs(a)<15e14))return d=N(y,h+2,v).times(a+""),m=k(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(o=!0,T(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(a=S(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=T(m.times(m),h),s=3;;){if(c=T(c.times(f),h),x((d=u.plus(w(c,new y(s),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(N(y,h+2,v).times(a+""))),u=w(u,new y(p),h),y.precision=v,null==t?(o=!0,T(u,v)):u;u=d,s+=2}}function C(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function T(e,t,n){var r,i,s,a,l,c,f,m,y=e.d;for(a=1,s=y[0];s>=10;s/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(s=y.length))return e;for(f=s=y[m],a=1;s>=10;s/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(s=h(10,a-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%s,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(s=S(e),y.length=1,t=t-s-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,s=1,m--):(y.length=m+1,s=h(10,7-r),y[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*s:0),c)for(;;){if(0==m){(y[0]+=s)==p&&(y[0]=1,++e.e);break}if(y[m]+=s,y[m]!=p)break;y[m--]=0,s=1}for(r=y.length;0===y[--r];)y.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function _(e,t){var n,r,i,s,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?T(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(s=i;s&&0===c[--s];)c[s]=p-1;--c[s],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?T(t,m):t):new f(0)}function A(e,t,n){var r,i=S(e),s=x(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+E(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+E(-i-1)+s,n&&(r=n-a)>0&&(s+=E(r))):i>=a?(s+=E(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+E(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=E(r))),e.s<0?"-"+s:s}function O(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);C(t,e)}if(s.prototype=y,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),s=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),s=n(4020);e.exports=function(e,t,n){return t===t?s(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),s=n(4052),a=n(9841),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),s=n(2154),a=n(8734),o=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,s=i(e)?Array(e.length):[];return r(e,function(e,r,i){s[++n]=t(e,r,i)}),s}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),s=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=s,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),s=n(4052),a=n(9194),o=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&o(u)&&a(h,u)&&(s(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),s=n(3279),a=n(4052),o=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):o(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),s=n(715);e.exports=function(e){return i(e)?s(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),s=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9333:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),s=n(8673);e.exports=function(e){return r(e,s,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),s=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return s.call(e,t)}))}:i;e.exports=o},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,s){for(var a=-1,o=n(t((r-e)/(i||1)),0),l=Array(o);o--;)l[s?o:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,s=e.length;++i<s;){var a=e[i],o=t(a);if(null!=o&&(void 0===l?o===o&&!r(o):n(o,l)))var l=o,c=a}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var s=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:s,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),s=n(3211),a=n(3668),o=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),s=n(8673);e.exports=function(e){return function(t,n,a){var o=Object(t);if(!i(t)){var l=r(n,3);t=s(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,a);return c>-1?o[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>Lk,Encoder:()=>Mk,PacketType:()=>Dk,protocol:()=>Ik});var t={};n.r(t),n.d(t,{scaleBand:()=>QI,scaleDiverging:()=>EB,scaleDivergingLog:()=>kB,scaleDivergingPow:()=>TB,scaleDivergingSqrt:()=>_B,scaleDivergingSymlog:()=>CB,scaleIdentity:()=>bR,scaleImplicit:()=>KI,scaleLinear:()=>vR,scaleLog:()=>TR,scaleOrdinal:()=>GI,scalePoint:()=>XI,scalePow:()=>LR,scaleQuantile:()=>YR,scaleQuantize:()=>XR,scaleRadial:()=>UR,scaleSequential:()=>vB,scaleSequentialLog:()=>bB,scaleSequentialPow:()=>wB,scaleSequentialQuantile:()=>SB,scaleSequentialSqrt:()=>jB,scaleSequentialSymlog:()=>xB,scaleSqrt:()=>FR,scaleSymlog:()=>PR,scaleThreshold:()=>JR,scaleTime:()=>pB,scaleUtc:()=>mB,tickFormat:()=>gR});var r,i=n(5043),s=n.t(i,2),a=n(4391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=r.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){p=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:x.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),m=e,()=>{s.removeEventListener(l,v),m=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(x.location,e,t);n&&n(i,e),g=y()+1;let o=d(i,g),l=x.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:x.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(x.location,e,t);n&&n(i,e),g=y();let s=d(i,g),o=x.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=O(i);a=_(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=L([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=x(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,j=3,S=2,N=1,E=10,k=-2,C=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=S),n.filter(e=>!C(e)).reduce((e,t)=>e+(w.test(t)?j:""===t?N:E),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:L([s,u.pathname]),pathnameBase:F(L([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=L([s,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function R(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:U(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function J(){return null!=i.useContext(Q)}function $(){return J()||c(!1),i.useContext(Q).location}function Z(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);Z(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))},[e,t]);return r}():function(){J()||c(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(Y),{pathname:a}=$(),o=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=i.useRef(!1);Z(()=>{l.current=!0});let u=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=R(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:L([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e]);return u}()}const te=i.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:s}=i.useContext(Y),{pathname:a}=$(),o=JSON.stringify(M(s,r.v7_relativeSplatPath));return i.useMemo(()=>R(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function re(e,t,n,s){J()||c(!1);let{navigator:a}=i.useContext(G),{matches:o}=i.useContext(Y),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=$();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let x=le(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:L([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&x?i.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function ie(){let e=function(){var e;let t=i.useContext(X),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,c=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,u&&(d<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):d===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(H);return t||c(!1),t}function he(e){let t=i.useContext(K);return t||c(!1),t}function fe(e){let t=function(){let e=i.useContext(Y);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:s}=e;J()||c(!1);let{future:a,static:o}=i.useContext(G),{matches:l}=i.useContext(Y),{pathname:u}=$(),d=ee(),h=R(t,M(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return i.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function ye(e){return function(e){let t=i.useContext(Y).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function ve(e){c(!1)}function be(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;J()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=s,b=i.useMemo(()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:a}},[d,f,m,g,y,v,a]);return null==b?null:i.createElement(G.Provider,{value:h},i.createElement(Q.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return re(we(t),n)}new Promise(()=>{});i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ve&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,s)),n.push(a)}),n}var je=n(7950),Se=n.t(je,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ce=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(yQ){}const Te=i.createContext({isTransitioning:!1});new Map;const _e=s.startTransition;Se.flushSync,s.useId;function Ae(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback(e=>{d&&_e?_e(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(p),[l,p]),i.useEffect(()=>me(r),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=Ee(e,ke),{basename:g}=i.useContext(G),y=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Oe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(yQ){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;J()||c(!1);let{basename:r,navigator:s}=i.useContext(G),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:L([r,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=$(),d=ne(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});return i.createElement("a",Ne({},m,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))});const De=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=Ee(e,Ce),f=ne(l,{relative:h.relative}),p=$(),m=i.useContext(K),{navigator:g,basename:y}=i.useContext(G),v=null!=m&&function(e,t){void 0===t&&(t={});let n=i.useContext(Te);null==n&&c(!1);let{basename:r}=Le(Me.useViewTransitionState),s=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=A(s.pathname,o)||null!=A(s.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=P(w,y)||w);const j="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,N=x===b||!a&&x.startsWith(b)&&"/"===x.charAt(j),E=null!=w&&(w===b||!a&&w.startsWith(b)&&"/"===w.charAt(b.length)),k={isActive:N,isPending:E,isTransitioning:v},C=N?n:void 0;S="function"===typeof s?s(k):[s,N?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof o?o(k):o;return i.createElement(Ie,Ne({},h,{"aria-current":C,className:S,ref:t,style:T,to:l,viewTransition:u}),"function"===typeof d?d(k):d)});var Me,Re;function Le(e){let t=i.useContext(H);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Fe=n(579);const Be=(0,i.createContext)({});function Ue(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Ve=(0,i.createContext)(null),ze=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class qe extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function We(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),s=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,i.useContext)(ze);return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:l}=a.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[n]),(0,Fe.jsx)(qe,{isPresent:n,childRef:s,sizeRef:a,children:i.cloneElement(t,{ref:s})})}const He=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=Ue(Ke),u=(0,i.useId)(),d=(0,i.useCallback)(e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},[c,s]),h=(0,i.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:a,onExitComplete:d,register:e=>(c.set(e,!1),()=>c.delete(e))}),o?[Math.random(),d]:[r,d]);return(0,i.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),i.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),"popLayout"===l&&(t=(0,Fe.jsx)(We,{isPresent:r,children:t})),(0,Fe.jsx)(Ve.Provider,{value:h,children:t})};function Ke(){return new Map}function Ge(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(Ve);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=(0,i.useId)();(0,i.useEffect)(()=>{e&&s(a)},[e]);const o=(0,i.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Qe=e=>e.key||"";function Ye(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}const Xe="undefined"!==typeof window,Je=Xe?i.useLayoutEffect:i.useEffect,$e=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1}=e;const[c,u]=Ge(l),d=(0,i.useMemo)(()=>Ye(t),[t]),h=l&&!c?[]:d.map(Qe),f=(0,i.useRef)(!0),p=(0,i.useRef)(d),m=Ue(()=>new Map),[g,y]=(0,i.useState)(d),[v,b]=(0,i.useState)(d);Je(()=>{f.current=!1,p.current=d;for(let e=0;e<v.length;e++){const t=Qe(v[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[v,h.length,h.join("-")]);const x=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){const n=v[t],r=Qe(n);h.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===o&&x.length&&(e=x),b(Ye(e)),void y(d)}const{forceRender:w}=(0,i.useContext)(Be);return(0,Fe.jsx)(Fe.Fragment,{children:v.map(e=>{const t=Qe(e),i=!(l&&!c)&&(d===v||h.includes(t));return(0,Fe.jsx)(He,{isPresent:i,initial:!(f.current&&!r)&&void 0,custom:i?void 0:n,presenceAffectsLayout:a,mode:o,onExitComplete:i?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null===w||void 0===w||w(),b(p.current),l&&(null===u||void 0===u||u()),s&&s())},children:e},t)})})},Ze="dp_theme_v1";function et(e){document.documentElement.setAttribute("data-bs-theme",e),document.body.dataset.theme=e;const t=new CustomEvent("themechange",{detail:{theme:e}});window.dispatchEvent(t)}function tt(e){const t="dark"===e?"light":"dark";var n;return et(t),n=t,localStorage.setItem(Ze,n),t}const nt=function(){const[e,t]=(0,i.useState)("light");return(0,i.useEffect)(()=>{const e=function(){const e=localStorage.getItem(Ze);return"dark"===e||"light"===e?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}();t(e),et(e)},[]),(0,Fe.jsxs)("button",{className:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-2",onClick:()=>{t(e=>tt(e))},title:"Toggle theme",children:[(0,Fe.jsx)("i",{className:"bi ".concat("dark"===e?"bi-moon-stars":"bi-brightness-high")}),(0,Fe.jsx)("span",{className:"d-none d-md-inline",children:"dark"===e?"Dark":"Light"})]})};function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function it(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rt(t)?t:t+""}function st(e,t,n){return(t=it(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach(function(t){st(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const ct=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ct(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new dt;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ht=function(e){return function(e){const t=ct(e);return ut.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ft=function(e){try{return ut.decodeString(e,!0)}catch(yQ){console.error("base64Decode failed: ",yQ)}return null};function pt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const mt=()=>{try{return pt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(yQ){return}const t=e&&ft(e[1]);return t&&JSON.parse(t)})()}catch(yQ){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(yQ))}},gt=e=>{var t;return null===(t=mt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},yt=()=>{var e;return null===(e=mt())||void 0===e?void 0:e.config},vt=e=>{var t;return null===(t=mt())||void 0===t?void 0:t["_".concat(e)]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function xt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function wt(e){return(await fetch(e,{credentials:"include"})).ok}const jt={};let St=!1;function Nt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!xt(window.location.host)||jt[e]===t||jt[e]||St)return;function n(e){return"__firebase__banner__".concat(e)}jt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(jt))jt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{St=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Et(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function kt(){var e;const t=null===(e=mt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(yQ){return!1}}function Ct(){return!kt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tt(){try{return"object"===typeof indexedDB}catch(yQ){return!1}}class _t extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ot,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new _t(n,s,t)}}const Ot=/\{\$([^}]+)}/g;function Pt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(It(n)&&It(s)){if(!Pt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function It(e){return null!==e&&"object"===typeof e}function Dt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Rt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Lt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ft),void 0===r.error&&(r.error=Ft),void 0===r.complete&&(r.complete=Ft);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(yQ){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(yQ){"undefined"!==typeof console&&console.error&&console.error(yQ)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}function Bt(e){return e&&e._delegate?e._delegate:e}class Ut{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vt="[DEFAULT]";class zt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new bt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(yQ){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(yQ){if(r)return null;throw yQ}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vt})}catch(yQ){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(yQ){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Vt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.component?this.component.multipleInstances?e:Vt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wt=[];var Ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ht||(Ht={}));const Kt={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},Gt=Ht.INFO,Qt={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},Yt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Qt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Xt{constructor(e){this.name=e,this._logLevel=Gt,this._logHandler=Yt,this._userLogHandler=null,Wt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Kt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}let Jt,$t;const Zt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap;let sn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return en.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function an(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($t||($t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cn(this),n),ln(Zt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ln(e.apply(cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(cn(this),t,...r);return tn.set(s,t.sort?t.sort():[t]),ln(s)}}function on(e){return"function"===typeof e?an(e):(e instanceof IDBTransaction&&function(e){if(en.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});en.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Jt||(Jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,sn):e)}function ln(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ln(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Zt.set(t,e)}).catch(()=>{}),rn.set(t,e),t}(e);if(nn.has(e))return nn.get(e);const t=on(e);return t!==e&&(nn.set(e,t),rn.set(t,e)),t}const cn=e=>rn.get(e);const un=["get","getKey","getAll","getAllKeys","count"],dn=["put","add","delete","clear"],hn=new Map;function fn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(hn.get(t))return hn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=dn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!un.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return hn.set(t,s),s}sn=(e=>ot(ot({},e),{},{get:(t,n,r)=>fn(t,n)||e.get(t,n,r),has:(t,n)=>!!fn(t,n)||e.has(t,n)}))(sn);class pn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const mn="@firebase/app",gn="0.14.2",yn=new Xt("@firebase/app"),vn="@firebase/app-compat",bn="@firebase/analytics-compat",xn="@firebase/analytics",wn="@firebase/app-check-compat",jn="@firebase/app-check",Sn="@firebase/auth",Nn="@firebase/auth-compat",En="@firebase/database",kn="@firebase/data-connect",Cn="@firebase/database-compat",Tn="@firebase/functions",_n="@firebase/functions-compat",An="@firebase/installations",On="@firebase/installations-compat",Pn="@firebase/messaging",In="@firebase/messaging-compat",Dn="@firebase/performance",Mn="@firebase/performance-compat",Rn="@firebase/remote-config",Ln="@firebase/remote-config-compat",Fn="@firebase/storage",Bn="@firebase/storage-compat",Un="@firebase/firestore",Vn="@firebase/ai",zn="@firebase/firestore-compat",qn="firebase",Wn="[DEFAULT]",Hn={[mn]:"fire-core",[vn]:"fire-core-compat",[xn]:"fire-analytics",[bn]:"fire-analytics-compat",[jn]:"fire-app-check",[wn]:"fire-app-check-compat",[Sn]:"fire-auth",[Nn]:"fire-auth-compat",[En]:"fire-rtdb",[kn]:"fire-data-connect",[Cn]:"fire-rtdb-compat",[Tn]:"fire-fn",[_n]:"fire-fn-compat",[An]:"fire-iid",[On]:"fire-iid-compat",[Pn]:"fire-fcm",[In]:"fire-fcm-compat",[Dn]:"fire-perf",[Mn]:"fire-perf-compat",[Rn]:"fire-rc",[Ln]:"fire-rc-compat",[Fn]:"fire-gcs",[Bn]:"fire-gcs-compat",[Un]:"fire-fst",[zn]:"fire-fst-compat",[Vn]:"fire-vertex","fire-js":"fire-js",[qn]:"fire-js-all"},Kn=new Map,Gn=new Map,Qn=new Map;function Yn(e,t){try{e.container.addComponent(t)}catch(yQ){yn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),yQ)}}function Xn(e){const t=e.name;if(Qn.has(t))return yn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Qn.set(t,e);for(const n of Kn.values())Yn(n,e);for(const n of Gn.values())Yn(n,e);return!0}function Jn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $n(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Zn=new At("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class er{constructor(e,t,n){this._isDeleted=!1,this._options=ot({},e),this._config=ot({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const tr="12.2.0";function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=ot({name:Wn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(n||(n=yt()),!n)throw Zn.create("no-options");const s=Kn.get(i);if(s){if(Pt(n,s.options)&&Pt(r,s.config))return s;throw Zn.create("duplicate-app",{appName:i})}const a=new qt(i);for(const l of Qn.values())a.addComponent(l);const o=new er(n,r,a);return Kn.set(i,o),o}function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn;const t=Kn.get(e);if(!t&&e===Wn&&yt())return nr();if(!t)throw Zn.create("no-app",{appName:e});return t}function ir(e,t,n){var r;let i=null!==(r=Hn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yn.warn(e.join(" "))}Xn(new Ut("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const sr="firebase-heartbeat-store";let ar=null;function or(){return ar||(ar=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ln(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ln(a.result),e.oldVersion,e.newVersion,ln(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(sr)}catch(yQ){console.warn(yQ)}}}).catch(e=>{throw Zn.create("idb-open",{originalErrorMessage:e.message})})),ar}async function lr(e,t){try{const n=(await or()).transaction(sr,"readwrite"),r=n.objectStore(sr);await r.put(t,cr(e)),await n.done}catch(yQ){if(yQ instanceof _t)yn.warn(yQ.message);else{const t=Zn.create("idb-set",{originalErrorMessage:null===yQ||void 0===yQ?void 0:yQ.message});yn.warn(t.message)}}}function cr(e){return"".concat(e.name,"!").concat(e.options.appId)}class ur{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dr();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(yQ){yn.warn(yQ)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=dr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),fr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ht(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(yQ){return yn.warn(yQ),""}}}function dr(){return(new Date).toISOString().substring(0,10)}class hr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Tt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await or()).transaction(sr),n=await t.objectStore(sr).get(cr(e));return await t.done,n}catch(yQ){if(yQ instanceof _t)yn.warn(yQ.message);else{const t=Zn.create("idb-get",{originalErrorMessage:null===yQ||void 0===yQ?void 0:yQ.message});yn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fr(e){return ht(JSON.stringify({version:2,heartbeats:e})).length}var pr;pr="",Xn(new Ut("platform-logger",e=>new pn(e),"PRIVATE")),Xn(new Ut("heartbeat",e=>new ur(e),"PRIVATE")),ir(mn,gn,pr),ir(mn,gn,"esm2020"),ir("fire-js","");const mr=["providerId"],gr=["uid","auth","stsTokenManager"],yr=["providerId","signInMethod"];function vr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const br=vr,xr=new At("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wr=new Xt("@firebase/auth");function jr(e){if(wr.logLevel<=Ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.error("Auth (".concat(tr,"): ").concat(e),...n)}}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cr(e,...n)}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cr(e,...n)}function Er(e,t,n){const r=ot(ot({},br()),{},{[t]:n});return new At("auth","Firebase",r).create(t,{appName:e.name})}function kr(e){return Er(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xr.create(e,...n)}function Tr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cr(t,...r)}}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jr(t),new Error(t)}function Ar(e,t){e||_r(t)}function Or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pr(){return"http:"===Ir()||"https:"===Ir()}function Ir(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Dr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Mr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Dr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rr(e,t){Ar(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Lr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Br=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ur=new Mr(3e4,6e4);function Vr(e,t){return e.tenantId&&!t.tenantId?ot(ot({},t),{},{tenantId:e.tenantId}):t}async function zr(e,t,n,r){return qr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Dt(ot({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=ot({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&xt(e.emulatorConfig.host)&&(l.credentials="include"),Lr.fetch()(await Hr(e,e.config.apiHost,n,a),l)})}async function qr(e,t,n){e._canInitEmulator=!1;const r=ot(ot({},Fr),t);try{const t=new Gr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Qr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Qr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Qr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Er(e,o,a);Sr(e,o)}}catch(yQ){if(yQ instanceof _t)throw yQ;Sr(e,"network-request-failed",{message:String(yQ)})}}async function Wr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await zr(e,t,n,r,i);return"mfaPendingCredential"in s&&Sr(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Hr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?Rr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Br.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function Kr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Nr(this.auth,"network-request-failed")),Ur.get())})}}function Qr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(e,t,r);return i.customData._tokenResponse=n,i}function Yr(e){return void 0!==e&&void 0!==e.enterprise}class Xr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Kr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jr(e,t){return zr(e,"GET","/v2/recaptchaConfig",Vr(e,t))}async function $r(e,t){return zr(e,"POST","/v1/accounts:lookup",t)}function Zr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(yQ){}}function ei(e){return 1e3*Number(e)}function ti(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jr("JWT malformed, contained fewer than 3 sections"),null;try{const e=ft(n);return e?JSON.parse(e):(jr("Failed to decode base64 JWT payload"),null)}catch(yQ){return jr("Caught error parsing JWT payload as JSON",null===yQ||void 0===yQ?void 0:yQ.toString()),null}}function ni(e){const t=ti(e);return Tr(t,"internal-error"),Tr("undefined"!==typeof t.exp,"internal-error"),Tr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ri(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(yQ){throw yQ instanceof _t&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(yQ)&&e.auth.currentUser===e&&await e.auth.signOut(),yQ}}class ii{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(yQ){return void((null===yQ||void 0===yQ?void 0:yQ.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class si{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ai(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ri(e,$r(n,{idToken:r}));Tr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?oi(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new si(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function oi(e){return e.map(e=>{let{providerId:t}=e,n=lt(e,mr);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tr(e.idToken,"internal-error"),Tr("undefined"!==typeof e.idToken,"internal-error"),Tr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ni(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Tr(0!==e.length,"internal-error");const t=ni(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Tr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qr(e,{},async()=>{const n=Dt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Hr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&xt(e.emulatorConfig.host)&&(o.credentials="include"),Lr.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new li;return n&&(Tr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Tr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Tr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new li,this.toJSON())}_performRefresh(){return _r("not implemented")}}function ci(e,t){Tr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ui{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=lt(e,gr);this.providerId="firebase",this.proactiveRefresh=new ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new si(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ri(this,this.stsTokenManager.getToken(this.auth,e));return Tr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Bt(e),r=await n.getIdToken(t),i=ti(r);Tr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zr(ei(i.auth_time)),issuedAtTime:Zr(ei(i.iat)),expirationTime:Zr(ei(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Bt(e);await ai(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>ot({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(ot(ot({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ai(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await ri(this,async function(e,t){return zr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ot(ot({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>ot({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:j}=t;Tr(v&&j,e,"internal-error");const S=li.fromJSON(this.name,j);Tr("string"===typeof v,e,"internal-error"),ci(u,e.name),ci(d,e.name),Tr("boolean"===typeof b,e,"internal-error"),Tr("boolean"===typeof x,e,"internal-error"),ci(h,e.name),ci(f,e.name),ci(p,e.name),ci(m,e.name),ci(g,e.name),ci(y,e.name);const N=new ui({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(N.providerData=w.map(e=>ot({},e))),m&&(N._redirectEventId=m),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new li;r.updateFromServerResponse(t);const i=new ui({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ai(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Tr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?oi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new li;a.updateFromIdToken(n);const o=new ui({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new si(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const di=new Map;function hi(e){Ar(e instanceof Function,"Expected a class definition");let t=di.get(e);return t?(Ar(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,di.set(e,t),t)}class fi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fi.type="NONE";const pi=fi;function mi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class gi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=mi(this.userKey,r.apiKey,i),this.fullPersistenceKey=mi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await $r(this.auth,{idToken:e}).catch(()=>{});return t?ui._fromGetAccountInfoResponse(this.auth,t,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gi(hi(pi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||hi(pi);const s=mi(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await $r(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ui._fromGetAccountInfoResponse(e,r,t)}else n=ui._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new gi(i,e,n)):new gi(i,e,n)}}function yi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Si(t))return"Blackberry";if(Ni(t))return"Webos";if(bi(t))return"Safari";if((t.includes("chrome/")||xi(t))&&!t.includes("edge/"))return"Chrome";if(ji(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/firefox\//i.test(e)}function bi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/crios\//i.test(e)}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iemobile/i.test(e)}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/android/i.test(e)}function Si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/blackberry/i.test(e)}function Ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/webos/i.test(e)}function Ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ki(){return function(){const e=Et();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return Ei(e)||ji(e)||Ni(e)||Si(e)||/windows phone/i.test(e)||wi(e)}function Ti(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yi(Et());break;case"Worker":t="".concat(yi(Et()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(tr,"/").concat(r)}class _i{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(yQ){r(yQ)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(yQ){t.reverse();for(const n of t)try{n()}catch(hC){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===yQ||void 0===yQ?void 0:yQ.message})}}}class Ai{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Oi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ii(this),this.idTokenSubscription=new Ii(this),this.beforeStateQueue=new _i(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await gi.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(yQ){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $r(this,{idToken:e}),n=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(s=n)||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(yQ){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(yQ))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Tr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(yQ){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ai(e)}catch(yQ){if((null===yQ||void 0===yQ?void 0:yQ.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(kr(this));const t=e?Bt(e):null;return t&&Tr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return zr(e,"GET","/v2/passwordPolicy",Vr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ai(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new At("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return zr(e,"POST","/v2/accounts:revokeToken",Vr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Tr(t,this,"argument-error"),this.redirectPersistenceManager=await gi.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tr(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(wr.logLevel<=Ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.warn("Auth (".concat(tr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Pi(e){return Bt(e)}class Ii{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Lt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Tr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Di={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mi(e){return Di.loadJS(e)}function Ri(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Li{constructor(){this.enterprise=new Fi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Fi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bi="NO_RECAPTCHA";class Ui{constructor(e){this.type="recaptcha-enterprise",this.auth=Pi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Yr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Bi)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Li).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Jr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Xr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Yr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Di.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Mi(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Vi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ui(e);let a;if(i)a=Bi;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=ot({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zi(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Vi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Vi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Vi(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Vi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Vi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function qi(e){const t=Pi(e),n=await Jr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Xr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ui(t).verify()}}function Wi(e,t,n){const r=Pi(e);Tr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Hi(t),{host:a,port:o}=function(e){const t=Hi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ki(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ki(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Tr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Tr(Pt(c,r.config.emulator)&&Pt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,xt(a)?(wt("".concat(s,"//").concat(a).concat(l)),Nt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ki(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function Qi(e,t){return zr(e,"POST","/v1/accounts:signUp",t)}async function Yi(e,t){return Wr(e,"POST","/v1/accounts:signInWithPassword",Vr(e,t))}async function Xi(e,t){return zr(e,"POST","/v1/accounts:sendOobCode",Vr(e,t))}async function Ji(e,t){return Xi(e,t)}class $i extends Gi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new $i(e,t,"password")}static _fromEmailAndCode(e,t){return new $i(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return zi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Yi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wr(e,"POST","/v1/accounts:signInWithEmailLink",Vr(e,t))}(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return zi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wr(e,"POST","/v1/accounts:signInWithEmailLink",Vr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zi(e,t){return Wr(e,"POST","/v1/accounts:signInWithIdp",Vr(e,t))}class es extends Gi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=lt(t,yr);if(!n||!r)return null;const s=new es(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Zi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dt(t)}return e}}async function ts(e,t){return zr(e,"POST","/v1/accounts:sendVerificationCode",Vr(e,t))}const ns={USER_NOT_FOUND:"user-not-found"};class rs extends Gi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new rs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new rs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wr(e,"POST","/v1/accounts:signInWithPhoneNumber",Vr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wr(e,"POST","/v1/accounts:signInWithPhoneNumber",Vr(e,t));if(n.temporaryProof)throw Qr(e,"account-exists-with-different-credential",n);return n}(e,ot({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wr(e,"POST","/v1/accounts:signInWithPhoneNumber",Vr(e,ot(ot({},t),{},{operation:"REAUTH"})),ns)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new rs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class is{constructor(e){var t,n,r,i,s,a;const o=Mt(Rt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Tr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Mt(Rt(e)).link,n=t?Mt(Rt(t)).deep_link_id:null,r=Mt(Rt(e)).deep_link_id;return(r?Mt(Rt(r)).link:null)||r||n||t||e}(e);try{return new is(t)}catch(n){return null}}}class ss{constructor(){this.providerId=ss.PROVIDER_ID}static credential(e,t){return $i._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=is.parseLink(t);return Tr(n,"argument-error"),$i._fromEmailAndCode(e,n.code,n.tenantId)}}ss.PROVIDER_ID="password",ss.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ss.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class as{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class os extends as{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends os{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch(n){return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",ls.PROVIDER_ID="facebook.com";class cs extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return es._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cs.credential(n,r)}catch(i){return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com",cs.PROVIDER_ID="google.com";class us extends os{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch(n){return null}}}us.GITHUB_SIGN_IN_METHOD="github.com",us.PROVIDER_ID="github.com";class ds extends os{constructor(){super("twitter.com")}static credential(e,t){return es._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ds.credential(n,r)}catch(i){return null}}}async function hs(e,t){return Wr(e,"POST","/v1/accounts:signUp",Vr(e,t))}ds.TWITTER_SIGN_IN_METHOD="twitter.com",ds.PROVIDER_ID="twitter.com";class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ui._fromIdTokenResponse(e,n,r),s=ps(n);return new fs({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ps(n);return new fs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ps(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ms extends _t{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ms.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ms(e,t,n,r)}}function gs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ms._fromErrorAndOperation(e,n,t,r);throw n})}async function ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ri(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fs._forOperation(e,"link",r)}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if($n(r.app))return Promise.reject(kr(r));const i="reauthenticate";try{const s=await ri(e,gs(r,i,t,e),n);Tr(s.idToken,r,"internal-error");const a=ti(s.idToken);Tr(a,r,"internal-error");const{sub:o}=a;return Tr(e.uid===o,r,"user-mismatch"),fs._forOperation(e,i,s)}catch(yQ){throw(null===yQ||void 0===yQ?void 0:yQ.code)==="auth/".concat("user-not-found")&&Sr(r,"user-mismatch"),yQ}}async function bs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($n(e.app))return Promise.reject(kr(e));const r="signIn",i=await gs(e,r,t),s=await fs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function xs(e,t){return bs(Pi(e),t)}function ws(e,t,n){var r;Tr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Tr("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function js(e){const t=Pi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ss(e,t,n){if($n(e.app))return Promise.reject(kr(e));const r=Pi(e),i=zi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hs,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&js(e),t}),a=await fs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Ns(e,t){return zr(e,"POST","/v2/accounts/mfaEnrollment:start",Vr(e,t))}new WeakMap;const Es="__sak";class ks{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Es,"1"),this.storage.removeItem(Es),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Cs extends ks{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ci(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ki()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cs.type="LOCAL";const Ts=Cs;function _s(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function As(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Os{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=As(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return _s(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=As(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=As(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=_s(n);const i=setInterval(()=>{const e=_s(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Os.type="COOKIE";class Ps extends ks{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ps.type="SESSION";const Is=Ps;class Ds{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ds(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ds.receivers=[];class Rs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Ms("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Ls(){return window}function Fs(){return"undefined"!==typeof Ls().WorkerGlobalScope&&"function"===typeof Ls().importScripts}const Bs="firebaseLocalStorageDb",Us="firebaseLocalStorage",Vs="fbase_key";class zs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qs(e,t){return e.transaction([Us],t?"readwrite":"readonly").objectStore(Us)}function Ws(){const e=indexedDB.open(Bs,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Us,{keyPath:Vs})}catch(yQ){n(yQ)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Us)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Bs);return new zs(e).toPromise()}(),t(await Ws()))})})}async function Hs(e,t,n){const r=qs(e,!0).put({[Vs]:t,value:n});return new zs(r).toPromise()}function Ks(e,t){const n=qs(e,!0).delete(t);return new zs(n).toPromise()}class Gs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ws()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(yQ){if(t++>3)throw yQ;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ds._getInstance(Fs()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Rs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ws();return await Hs(e,Es,"1"),await Ks(e,Es),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hs(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=qs(e,!1).get(t),r=await new zs(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ks(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=qs(e,!1).getAll();return new zs(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gs.type="LOCAL";const Qs=Gs;function Ys(e,t){return zr(e,"POST","/v2/accounts/mfaSignIn:start",Vr(e,t))}Ri("rcb"),new Mr(3e4,6e4);const Xs="recaptcha";async function Js(e,t,n){if(!e._getRecaptchaConfig())try{await qi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Tr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=zi(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Bi){Tr((null===n||void 0===n?void 0:n.type)===Xs,e,"argument-error");return Ns(e,await $s(e,t,n))}return Ns(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Tr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Tr(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=zi(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Bi){Tr((null===n||void 0===n?void 0:n.type)===Xs,e,"argument-error");return Ys(e,await $s(e,t,n))}return Ys(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=zi(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Bi){Tr((null===n||void 0===n?void 0:n.type)===Xs,e,"argument-error");return ts(e,await $s(e,t,n))}return ts(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function $s(e,t,n){Tr(n.type===Xs,e,"argument-error");const r=await n.verify();Tr("string"===typeof r,e,"argument-error");const i=ot({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Zs{constructor(e){this.providerId=Zs.PROVIDER_ID,this.auth=Pi(e)}verifyPhoneNumber(e,t){return Js(this.auth,e,Bt(t))}static credential(e,t){return rs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zs.credentialFromTaggedObject(t)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?rs._fromTokenResponse(n,r):null}}function ea(e,t){return t?hi(t):(Tr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zs.PROVIDER_ID="phone",Zs.PHONE_SIGN_IN_METHOD="phone";class ta extends Gi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function na(e){return bs(e.auth,new ta(e),e.bypassAuthState)}function ra(e){const{auth:t,user:n}=e;return Tr(n,t,"internal-error"),vs(n,new ta(e),e.bypassAuthState)}async function ia(e){const{auth:t,user:n}=e;return Tr(n,t,"internal-error"),ys(n,new ta(e),e.bypassAuthState)}class sa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(yQ){this.reject(yQ)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(yQ){this.reject(yQ)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return na;case"linkViaPopup":case"linkViaRedirect":return ia;case"reauthViaPopup":case"reauthViaRedirect":return ra;default:Sr(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aa=new Mr(2e3,1e4);class oa extends sa{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tr(e,this.auth,"internal-error"),e}async onExecution(){Ar(1===this.filter.length,"Popup operations only handle one event");const e=Ms();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,aa.get())};e()}}oa.currentPopupAction=null;const la=new Map;class ca extends sa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=la.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ha(t),r=da(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(yQ){e=()=>Promise.reject(yQ)}la.set(this.auth._key(),e)}return this.bypassAuthState||la.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ua(e,t){la.set(e._key(),t)}function da(e){return hi(e._redirectPersistence)}function ha(e){return mi("pendingRedirect",e.config.apiKey,e.name)}async function fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($n(e.app))return Promise.reject(kr(e));const r=Pi(e),i=ea(r,t),s=new ca(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class pa{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ga(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ga(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ma(e))}saveEventToCache(e){this.cachedEventUids.add(ma(e)),this.lastProcessedEventTime=Date.now()}}function ma(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ga(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ya=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,va=/^https?/;async function ba(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return zr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(xa(r))return}catch(n){}Sr(e,"unauthorized-domain")}function xa(e){const t=Or(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!va.test(n))return!1;if(ya.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wa=new Mr(3e4,6e4);function ja(){const e=Ls().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Sa(e){return new Promise((t,n)=>{var r,i;function s(){ja(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ja(),n(Nr(e,"network-request-failed"))},timeout:wa.get()})}if(null!==(r=Ls().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Ls().gapi)||void 0===i||!i.load){const t=Ri("iframefcb");return Ls()[t]=()=>{gapi.load?s():n(Nr(e,"network-request-failed"))},Mi("".concat(Di.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Na=null,e})}let Na=null;const Ea=new Mr(5e3,15e3),ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ca=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ta(e){const t=e.config;Tr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Rr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:tr},i=Ca.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Dt(r).slice(1))}async function _a(e){const t=await function(e){return Na=Na||Sa(e),Na}(e),n=Ls().gapi;return Tr(n,e,"internal-error"),t.open({where:document.body,url:Ta(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ka,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Nr(e,"network-request-failed"),s=Ls().setTimeout(()=>{r(i)},Ea.get());function a(){Ls().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Aa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oa{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(yQ){}}}function Pa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=ot(ot({},Aa),{},{width:r.toString(),height:i.toString(),top:s,left:a}),c=Et().toLowerCase();n&&(o=xi(c)?"_blank":n),vi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Ei(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Oa(null);const d=window.open(t||"",o,u);Tr(d,e,"popup-blocked");try{d.focus()}catch(yQ){}return new Oa(d)}const Ia="__/auth/handler",Da="emulator/auth/handler",Ma=encodeURIComponent("fac");async function Ra(e,t,n,r,i,s){Tr(e.config.authDomain,e,"auth-domain-config-required"),Tr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tr,eventId:i};if(t instanceof as){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof os){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ma,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ia);return Rr(t,Da)}(e),"?").concat(Dt(o).slice(1)).concat(c)}const La="webStorageSupport";const Fa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=fa,this._overrideRedirectResult=ua}async _openPopup(e,t,n,r){var i;Ar(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Pa(e,await Ra(e,t,n,Or(),r),Ms())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ls().location.href=e}(await Ra(e,t,n,Or(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ar(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await _a(e),n=new pa(e);return t.register("authEvent",t=>{Tr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(La,{type:La},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[La];void 0!==i&&t(!!i),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ba(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ci()||bi()||Ei()}};var Ba="@firebase/auth",Ua="1.11.0";class Va{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const za=vt("authIdTokenMaxAge")||300;let qa=null;var Wa;!function(e){Di=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Nr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Wa="Browser",Xn(new Ut("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Tr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Wa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ti(Wa)},c=new Oi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Xn(new Ut("auth-internal",e=>(e=>new Va(e))(Pi(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ir(Ba,Ua,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wa)),ir(Ba,Ua,"esm2020");var Ha,Ka,Ga="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ka=Qa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Ha=Qa.Integer=r}).apply("undefined"!==typeof Ga?Ga:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ya,Xa,Ja,$a,Za,eo,to,no,ro="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},io={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ro&&ro];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function N(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new k,e=>e.reset());class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(O)}};var O=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(VA){S(VA)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(VA){}return e}();function M(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(rC){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,I);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new B(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[W]=null)):U(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;w(t=new I(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){I.call(this,"d")}function be(){I.call(this,"c")}d(ve,I),d(be,I);var xe={},we=null;function je(){return we=we||new ne}function Se(e){I.call(this,xe.La,e)}function Ne(e){const t=je();re(t,new Se(t))}function Ee(e,t){I.call(this,xe.STAT_EVENT,e),this.stat=t}function ke(e){const t=je();re(t,new Ee(t,e))}function Ce(e,t){I.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(nC){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Se,I),xe.STAT_EVENT="statevent",d(Ee,I),xe.Ma="timingevent",d(Ce,I),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Oe,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Oe=new De;var Le={},Fe={};function Be(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||on(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}nn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),qe(o)),r.g=a}else tn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Ne(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Ht(this.g);e="";var s=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Ge(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Fe){4==h&&(this.s=4,ke(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,ke(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,ke(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ae(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=j(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ge(this),Ke(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),ke(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),Nt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jt(e,t){wt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=Et(e,t),e.g.has(t)}function Nt(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(rC){}}function Ct(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(yQ){throw t.push(r+"type="+encodeURIComponent("_badmap")),yQ}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(_t,pe),_t.prototype.g=function(){return new At(this.l,this.j)},_t.prototype.i=function(e){return function(){return e}}({}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):It(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),zt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Lt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(nC){o=""}e.l=o+" ["+e.Z()+"]",Ut(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(yQ){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(uC){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(eC){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),T||(C(),T=!0),_.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Tt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),T||(C(),T=!0),_.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=je(),new Ce(r,n)),Jt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new _e;if(i.Image){const r=new Image;r.onload=u(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(kt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new _t({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(rC){return void Bt(this,rC)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(rC){Bt(this,rC)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(WA){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(WA){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Je(this.h)||$t(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,no=io.createWebChannelTransport=function(){return new pn},to=io.getStatEventTarget=function(){return je()},eo=io.Event=xe,Za=io.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,$a=io.ErrorCode=Pe,Ie.COMPLETE="complete",Ja=io.EventType=Ie,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Xa=io.WebChannel=ge,io.FetchXmlHttpFactory=_t,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Ya=io.XhrIo=Rt}).apply("undefined"!==typeof ro?ro:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const so="@firebase/firestore",ao="4.9.1";class oo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oo.UNAUTHENTICATED=new oo(null),oo.GOOGLE_CREDENTIALS=new oo("google-credentials-uid"),oo.FIRST_PARTY=new oo("first-party-uid"),oo.MOCK_USER=new oo("mock-user");let lo="12.2.0";const co=new Xt("@firebase/firestore");function uo(){return co.logLevel}function ho(e){if(co.logLevel<=Ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mo);co.debug("Firestore (".concat(lo,"): ").concat(e),...i)}}function fo(e){if(co.logLevel<=Ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mo);co.error("Firestore (".concat(lo,"): ").concat(e),...i)}}function po(e){if(co.logLevel<=Ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mo);co.warn("Firestore (".concat(lo,"): ").concat(e),...i)}}function mo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function go(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,yo(e,r,n)}function yo(e,t,n){let r="FIRESTORE (".concat(lo,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw fo(r),new Error(r)}function vo(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||yo(t,i,r)}function bo(e,t){return e}const xo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wo extends _t{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class jo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class So{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class No{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oo.UNAUTHENTICATED))}shutdown(){}}class Eo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ko{constructor(e){this.t=e,this.currentUser=oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jo,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{ho("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ho("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jo)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ho("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vo("string"==typeof t.accessToken,31837,{l:t}),new So(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vo(null===e||"string"==typeof e,2055,{h:e}),new oo(e)}}class Co{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=oo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class To{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Co(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(oo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _o{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ao{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){vo(void 0===this.o,3512);const n=e=>{null!=e.error&&ho("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,ho("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ho("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ho("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _o(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(vo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new _o(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Oo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Po{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Oo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Io(e,t){return e<t?-1:e>t?1:0}function Do(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Lo(n)===Lo(i)?Io(n,i):Lo(n)?1:-1}return Io(e.length,t.length)}const Mo=55296,Ro=57343;function Lo(e){const t=e.charCodeAt(0);return t>=Mo&&t<=Ro}function Fo(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Bo="__name__";class Uo{constructor(e,t,n){void 0===t?t=0:t>e.length&&go(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&go(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Uo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Uo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Io(e.length,t.length)}static compareSegments(e,t){const n=Uo.isNumericId(e),r=Uo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Uo.extractNumericId(e).compare(Uo.extractNumericId(t)):Do(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class Vo extends Uo{construct(e,t,n){return new Vo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new wo(xo.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Vo(e)}static emptyPath(){return new Vo([])}}const zo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qo extends Uo{construct(e,t,n){return new qo(e,t,n)}static isValidIdentifier(e){return zo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Bo}static keyField(){return new qo([Bo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new wo(xo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new wo(xo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new wo(xo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new wo(xo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qo(t)}static emptyPath(){return new qo([])}}class Wo{constructor(e){this.path=e}static fromPath(e){return new Wo(Vo.fromString(e))}static fromName(e){return new Wo(Vo.fromString(e).popFirst(5))}static empty(){return new Wo(Vo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wo(new Vo(e.slice()))}}function Ho(e,t,n){if(!n)throw new wo(xo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ko(e){if(!Wo.isDocumentKey(e))throw new wo(xo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Go(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Qo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":go(12329,{type:typeof e})}function Yo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wo(xo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qo(e);throw new wo(xo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Xo(e,t){const n={typeString:e};return t&&(n.value=t),n}function Jo(e,t){if(!Go(e))throw new wo(xo.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new wo(xo.INVALID_ARGUMENT,n);return!0}const $o=-62135596800,Zo=1e6;class el{static now(){return el.fromMillis(Date.now())}static fromDate(e){return el.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Zo);return new el(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wo(xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wo(xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$o)throw new wo(xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wo(xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zo}_compareTo(e){return this.seconds===e.seconds?Io(this.nanoseconds,e.nanoseconds):Io(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:el._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,el._jsonSchema))return new el(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$o;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}el._jsonSchemaVersion="firestore/timestamp/1.0",el._jsonSchema={type:Xo("string",el._jsonSchemaVersion),seconds:Xo("number"),nanoseconds:Xo("number")};class tl{static fromTimestamp(e){return new tl(e)}static min(){return new tl(new el(0,0))}static max(){return new tl(new el(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nl=-1;class rl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}rl.UNKNOWN_ID=-1;function il(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=tl.fromTimestamp(1e9===r?new el(n+1,0):new el(n,r));return new al(i,Wo.empty(),t)}function sl(e){return new al(e.readTime,e.key,nl)}class al{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new al(tl.min(),Wo.empty(),nl)}static max(){return new al(tl.max(),Wo.empty(),nl)}}function ol(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Wo.comparator(e.documentKey,t.documentKey),0!==n?n:Io(e.largestBatchId,t.largestBatchId))}const ll="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ul(e){if(e.code!==xo.FAILED_PRECONDITION||e.message!==ll)throw e;ho("LocalStore","Unexpectedly lost primary lease")}class dl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&go(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new dl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof dl?t:dl.resolve(t)}catch(e){return dl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):dl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):dl.reject(t)}static resolve(e){return new dl((t,n)=>{t(e)})}static reject(e){return new dl((t,n)=>{n(e)})}static waitFor(e){return new dl((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=dl.resolve(!1);for(const n of e)t=t.next(e=>e?dl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new dl((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new dl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function hl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(e){return"IndexedDbTransactionError"===e.name}class pl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pl.ce=-1;const ml=-1;function gl(e){return null==e}function yl(e){return 0===e&&1/e==-1/0}function vl(e){return"number"==typeof e&&Number.isInteger(e)&&!yl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const bl="\x01";function xl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=jl(t)),t=wl(e.get(n),t);return jl(t)}function wl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case bl:n+="\x01\x11";break;default:n+=t}}return n}function jl(e){return e+bl+"\x01"}const Sl="remoteDocuments",Nl="owner",El="mutationQueues",kl="mutations";const Cl="documentMutations",Tl="remoteDocumentsV14",_l="remoteDocumentGlobal",Al="targets",Ol="targetDocuments",Pl="targetGlobal",Il="collectionParents",Dl="clientMetadata",Ml="bundles",Rl="namedQueries",Ll="indexConfiguration",Fl="indexState",Bl="indexEntries",Ul="documentOverlays",Vl="globals",zl=[El,kl,Cl,Sl,Al,Nl,Pl,Ol,Dl,_l,Il,Ml,Rl],ql=[El,kl,Cl,Tl,Al,Nl,Pl,Ol,Dl,_l,Il,Ml,Rl,Ul],Wl=ql,Hl=[...Wl,Ll,Fl,Bl];function Kl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ql(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Yl{constructor(e,t){this.comparator=e,this.root=t||Jl.EMPTY}insert(e,t){return new Yl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jl.BLACK,null,null))}remove(e){return new Yl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xl(this.root,e,this.comparator,!0)}}class Xl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Jl.RED,this.left=null!=r?r:Jl.EMPTY,this.right=null!=i?i:Jl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Jl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw go(43730,{key:this.key,value:this.value});if(this.right.isRed())throw go(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw go(27949);return e+(this.isRed()?0:1)}}Jl.EMPTY=null,Jl.RED=!0,Jl.BLACK=!1,Jl.EMPTY=new class{constructor(){this.size=0}get key(){throw go(57766)}get value(){throw go(16141)}get color(){throw go(16727)}get left(){throw go(29726)}get right(){throw go(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Jl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $l{constructor(e){this.comparator=e,this.data=new Yl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof $l))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $l(this.comparator);return t.data=e,t}}class Zl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ec{constructor(e){this.fields=e,e.sort(qo.comparator)}static empty(){return new ec([])}unionWith(e){let t=new $l(qo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ec(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class tc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new tc("Invalid base64 string: "+e):e}}(e);return new nc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new nc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Io(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nc.EMPTY_BYTE_STRING=new nc("");const rc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ic(e){if(vo(!!e,39018),"string"==typeof e){let t=0;const n=rc.exec(e);if(vo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:sc(e.seconds),nanos:sc(e.nanos)}}function sc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ac(e){return"string"==typeof e?nc.fromBase64String(e):nc.fromUint8Array(e)}const oc="server_timestamp",lc="__type__",cc="__previous_value__",uc="__local_write_time__";function dc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[lc])||void 0===t?void 0:t.stringValue)===oc}function hc(e){const t=e.mapValue.fields[cc];return dc(t)?hc(t):t}function fc(e){const t=ic(e.mapValue.fields[uc].timestampValue);return new el(t.seconds,t.nanos)}class pc{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const mc="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||mc}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===mc}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}const yc="__type__",vc="__max__",bc={mapValue:{fields:{__type__:{stringValue:vc}}}},xc="__vector__",wc="value";function jc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dc(e)?4:Fc(e)?9007199254740991:Rc(e)?10:11:go(28295,{value:e})}function Sc(e,t){if(e===t)return!0;const n=jc(e);if(n!==jc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fc(e).isEqual(fc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ic(e.timestampValue),r=ic(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ac(e.bytesValue).isEqual(ac(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sc(e.geoPointValue.latitude)===sc(t.geoPointValue.latitude)&&sc(e.geoPointValue.longitude)===sc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sc(e.integerValue)===sc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=sc(e.doubleValue),r=sc(t.doubleValue);return n===r?yl(n)===yl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fo(e.arrayValue.values||[],t.arrayValue.values||[],Sc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Kl(n)!==Kl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sc(n[i],r[i])))return!1;return!0}(e,t);default:return go(52216,{left:e})}}function Nc(e,t){return void 0!==(e.values||[]).find(e=>Sc(e,t))}function Ec(e,t){if(e===t)return 0;const n=jc(e),r=jc(t);if(n!==r)return Io(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Io(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=sc(e.integerValue||e.doubleValue),r=sc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kc(e.timestampValue,t.timestampValue);case 4:return kc(fc(e),fc(t));case 5:return Do(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ac(e),r=ac(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Io(n[i],r[i]);if(0!==e)return e}return Io(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Io(sc(e.latitude),sc(t.latitude));return 0!==n?n:Io(sc(e.longitude),sc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cc(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,s){const a=e.fields||{},o=t.fields||{},l=null===(n=a[wc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[wc])||void 0===r?void 0:r.arrayValue,u=Io((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Cc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bc.mapValue&&t===bc.mapValue)return 0;if(e===bc.mapValue)return 1;if(t===bc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Do(r[a],s[a]);if(0!==e)return e;const t=Ec(n[r[a]],i[s[a]]);if(0!==t)return t}return Io(r.length,s.length)}(e.mapValue,t.mapValue);default:throw go(23264,{he:n})}}function kc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Io(e,t);const n=ic(e),r=ic(t),i=Io(n.seconds,r.seconds);return 0!==i?i:Io(n.nanos,r.nanos)}function Cc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ec(n[i],r[i]);if(e)return e}return Io(n.length,r.length)}function Tc(e){return _c(e)}function _c(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ic(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ac(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=_c(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(_c(e.fields[i]));return n+"}"}(e.mapValue):go(61005,{value:e})}function Ac(e){switch(jc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hc(e);return t?16+Ac(t):16;case 5:return 2*e.stringValue.length;case 6:return ac(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ac(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Gl(e.fields,(e,n)=>{t+=e.length+Ac(n)}),t}(e.mapValue);default:throw go(13486,{value:e})}}function Oc(e){return!!e&&"integerValue"in e}function Pc(e){return!!e&&"arrayValue"in e}function Ic(e){return!!e&&"nullValue"in e}function Dc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mc(e){return!!e&&"mapValue"in e}function Rc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[yc])||void 0===t?void 0:t.stringValue)===xc}function Lc(e){if(e.geoPointValue)return{geoPointValue:ot({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:ot({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Lc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Lc(e.arrayValue.values[n]);return t}return ot({},e)}function Fc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vc}class Bc{constructor(e){this.value=e}static empty(){return new Bc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(t)}setAll(e){let t=qo.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Lc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Gl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Bc(Lc(this.value))}}function Uc(e){const t=[];return Gl(e.fields,(e,n)=>{const r=new qo([e]);if(Mc(n)){const e=Uc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ec(t)}class Vc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Vc(e,0,tl.min(),tl.min(),tl.min(),Bc.empty(),0)}static newFoundDocument(e,t,n,r){return new Vc(e,1,t,tl.min(),n,r,0)}static newNoDocument(e,t){return new Vc(e,2,t,tl.min(),tl.min(),Bc.empty(),0)}static newUnknownDocument(e,t){return new Vc(e,3,t,tl.min(),tl.min(),Bc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class zc{constructor(e,t){this.position=e,this.inclusive=t}}function qc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Wo.comparator(Wo.fromName(a.referenceValue),n.key):Ec(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Wc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sc(e.position[n],t.position[n]))return!1;return!0}class Hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Gc{}class Qc extends Gc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nu(e,t,n):"array-contains"===t?new au(e,n):"in"===t?new ou(e,n):"not-in"===t?new lu(e,n):"array-contains-any"===t?new cu(e,n):new Qc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ru(e,n):new iu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ec(t,this.value)):null!==t&&jc(this.value)===jc(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return go(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yc extends Gc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Yc(e,t)}matches(e){return Xc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xc(e){return"and"===e.op}function Jc(e){return $c(e)&&Xc(e)}function $c(e){for(const t of e.filters)if(t instanceof Yc)return!1;return!0}function Zc(e){if(e instanceof Qc)return e.field.canonicalString()+e.op.toString()+Tc(e.value);if(Jc(e))return e.filters.map(e=>Zc(e)).join(",");{const t=e.filters.map(e=>Zc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function eu(e,t){return e instanceof Qc?function(e,t){return t instanceof Qc&&e.op===t.op&&e.field.isEqual(t.field)&&Sc(e.value,t.value)}(e,t):e instanceof Yc?function(e,t){return t instanceof Yc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&eu(n,t.filters[r]),!0)}(e,t):void go(19439)}function tu(e){return e instanceof Qc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Tc(e.value))}(e):e instanceof Yc?function(e){return e.op.toString()+" {"+e.getFilters().map(tu).join(" ,")+"}"}(e):"Filter"}class nu extends Qc{constructor(e,t,n){super(e,t,n),this.key=Wo.fromName(n.referenceValue)}matches(e){const t=Wo.comparator(e.key,this.key);return this.matchesComparison(t)}}class ru extends Qc{constructor(e,t){super(e,"in",t),this.keys=su("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iu extends Qc{constructor(e,t){super(e,"not-in",t),this.keys=su("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function su(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Wo.fromName(e.referenceValue))}class au extends Qc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pc(t)&&Nc(t.arrayValue,this.value)}}class ou extends Qc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nc(this.value.arrayValue,t)}}class lu extends Qc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Nc(this.value.arrayValue,t)}}class cu extends Qc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Nc(this.value.arrayValue,e))}}class uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function du(e){return new uu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hu(e){const t=bo(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Zc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),gl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Tc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Tc(e)).join(",")),t.Te=e}return t.Te}function fu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!eu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wc(e.startAt,t.startAt)&&Wc(e.endAt,t.endAt)}function pu(e){return Wo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class mu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gu(e,t,n,r,i,s,a,o){return new mu(e,t,n,r,i,s,a,o)}function yu(e){return new mu(e)}function vu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bu(e){return null!==e.collectionGroup}function xu(e){const t=bo(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new $l(qo.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Hc(r,n))}),e.has(qo.keyField().canonicalString())||t.Ie.push(new Hc(qo.keyField(),n))}return t.Ie}function wu(e){const t=bo(e);return t.Ee||(t.Ee=ju(t,xu(e))),t.Ee}function ju(e,t){if("F"===e.limitType)return du(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Hc(e.field,t)});const n=e.endAt?new zc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zc(e.startAt.position,e.startAt.inclusive):null;return du(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Su(e,t,n){return new mu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nu(e,t){return fu(wu(e),wu(t))&&e.limitType===t.limitType}function Eu(e){return"".concat(hu(wu(e)),"|lt:").concat(e.limitType)}function ku(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>tu(e)).join(", "),"]")),gl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Tc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Tc(e)).join(",")),"Target(".concat(t,")")}(wu(e)),"; limitType=").concat(e.limitType,")")}function Cu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xu(e),t))&&!(e.endAt&&!function(e,t,n){const r=qc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xu(e),t))}(e,t)}function Tu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _u(e){return(t,n)=>{let r=!1;for(const i of xu(e)){const e=Au(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Au(e,t,n){const r=e.field.isKeyField()?Wo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ec(r,i):go(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return go(19790,{direction:e.dir})}}class Ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Ql(this.inner)}size(){return this.innerSize}}const Pu=new Yl(Wo.comparator);function Iu(){return Pu}const Du=new Yl(Wo.comparator);function Mu(){let e=Du;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ru(e){let t=Du;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Lu(){return Bu()}function Fu(){return Bu()}function Bu(){return new Ou(e=>e.toString(),(e,t)=>e.isEqual(t))}const Uu=new Yl(Wo.comparator),Vu=new $l(Wo.comparator);function zu(){let e=Vu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qu=new $l(Io);function Wu(){return qu}function Hu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(t)?"-0":t}}function Ku(e){return{integerValue:""+e}}function Gu(e,t){return vl(t)?Ku(t):Hu(e,t)}class Qu{constructor(){this._=void 0}}function Yu(e,t,n){return e instanceof $u?function(e,t){const n={fields:{[lc]:{stringValue:oc},[uc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dc(t)&&(t=hc(t)),t&&(n.fields[cc]=t),{mapValue:n}}(n,t):e instanceof Zu?ed(e,t):e instanceof td?nd(e,t):function(e,t){const n=Ju(e,t),r=id(n)+id(e.Ae);return Oc(n)&&Oc(e.Ae)?Ku(r):Hu(e.serializer,r)}(e,t)}function Xu(e,t,n){return e instanceof Zu?ed(e,t):e instanceof td?nd(e,t):n}function Ju(e,t){return e instanceof rd?function(e){return Oc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class $u extends Qu{}class Zu extends Qu{constructor(e){super(),this.elements=e}}function ed(e,t){const n=sd(t);for(const r of e.elements)n.some(e=>Sc(e,r))||n.push(r);return{arrayValue:{values:n}}}class td extends Qu{constructor(e){super(),this.elements=e}}function nd(e,t){let n=sd(t);for(const r of e.elements)n=n.filter(e=>!Sc(e,r));return{arrayValue:{values:n}}}class rd extends Qu{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function id(e){return sc(e.integerValue||e.doubleValue)}function sd(e){return Pc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ad{constructor(e,t){this.version=e,this.transformResults=t}}class od{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new od}static exists(e){return new od(void 0,e)}static updateTime(e){return new od(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cd{}function ud(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xd(e.key,od.none()):new md(e.key,e.data,od.none());{const n=e.data,r=Bc.empty();let i=new $l(qo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gd(e.key,r,new ec(i.toArray()),od.none())}}function dd(e,t,n){e instanceof md?function(e,t,n){const r=e.value.clone(),i=vd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gd?function(e,t,n){if(!ld(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=vd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hd(e,t,n,r){return e instanceof md?function(e,t,n,r){if(!ld(e.precondition,t))return n;const i=e.value.clone(),s=bd(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gd?function(e,t,n,r){if(!ld(e.precondition,t))return n;const i=bd(e.fieldTransforms,r,t),s=t.data;return s.setAll(yd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return ld(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function fd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ju(r.transform,e||null);null!=i&&(null===n&&(n=Bc.empty()),n.set(r.field,i))}return n||null}function pd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zu&&t instanceof Zu||e instanceof td&&t instanceof td?Fo(e.elements,t.elements,Sc):e instanceof rd&&t instanceof rd?Sc(e.Ae,t.Ae):e instanceof $u&&t instanceof $u}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class md extends cd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gd extends cd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function vd(e,t,n){const r=new Map;vo(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Xu(a,o,n[i]))}return r}function bd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Yu(e,s,t))}return r}class xd extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wd extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&dd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Fu();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=ud(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(tl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zu())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(e,t)=>pd(e,t))&&Fo(this.baseMutations,e.baseMutations,(e,t)=>pd(e,t))}}class Sd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){vo(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Uu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Sd(e,t,n,r)}}class Nd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ed{constructor(e,t){this.count=e,this.unchangedNames=t}}var kd,Cd;function Td(e){switch(e){case xo.OK:return go(64938);case xo.CANCELLED:case xo.UNKNOWN:case xo.DEADLINE_EXCEEDED:case xo.RESOURCE_EXHAUSTED:case xo.INTERNAL:case xo.UNAVAILABLE:case xo.UNAUTHENTICATED:return!1;case xo.INVALID_ARGUMENT:case xo.NOT_FOUND:case xo.ALREADY_EXISTS:case xo.PERMISSION_DENIED:case xo.FAILED_PRECONDITION:case xo.ABORTED:case xo.OUT_OF_RANGE:case xo.UNIMPLEMENTED:case xo.DATA_LOSS:return!0;default:return go(15467,{code:e})}}function _d(e){if(void 0===e)return fo("GRPC error has no .code"),xo.UNKNOWN;switch(e){case kd.OK:return xo.OK;case kd.CANCELLED:return xo.CANCELLED;case kd.UNKNOWN:return xo.UNKNOWN;case kd.DEADLINE_EXCEEDED:return xo.DEADLINE_EXCEEDED;case kd.RESOURCE_EXHAUSTED:return xo.RESOURCE_EXHAUSTED;case kd.INTERNAL:return xo.INTERNAL;case kd.UNAVAILABLE:return xo.UNAVAILABLE;case kd.UNAUTHENTICATED:return xo.UNAUTHENTICATED;case kd.INVALID_ARGUMENT:return xo.INVALID_ARGUMENT;case kd.NOT_FOUND:return xo.NOT_FOUND;case kd.ALREADY_EXISTS:return xo.ALREADY_EXISTS;case kd.PERMISSION_DENIED:return xo.PERMISSION_DENIED;case kd.FAILED_PRECONDITION:return xo.FAILED_PRECONDITION;case kd.ABORTED:return xo.ABORTED;case kd.OUT_OF_RANGE:return xo.OUT_OF_RANGE;case kd.UNIMPLEMENTED:return xo.UNIMPLEMENTED;case kd.DATA_LOSS:return xo.DATA_LOSS;default:return go(39323,{code:e})}}(Cd=kd||(kd={}))[Cd.OK=0]="OK",Cd[Cd.CANCELLED=1]="CANCELLED",Cd[Cd.UNKNOWN=2]="UNKNOWN",Cd[Cd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cd[Cd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cd[Cd.NOT_FOUND=5]="NOT_FOUND",Cd[Cd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cd[Cd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cd[Cd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cd[Cd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cd[Cd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cd[Cd.ABORTED=10]="ABORTED",Cd[Cd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cd[Cd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cd[Cd.INTERNAL=13]="INTERNAL",Cd[Cd.UNAVAILABLE=14]="UNAVAILABLE",Cd[Cd.DATA_LOSS=15]="DATA_LOSS";let Ad=null;function Od(){return new TextEncoder}const Pd=new Ha([4294967295,4294967295],0);function Id(e){const t=Od().encode(e),n=new Ka;return n.update(t),new Uint8Array(n.digest())}function Dd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ha([n,r],0),new Ha([i,s],0)]}class Md{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Rd("Invalid padding: ".concat(t));if(n<0)throw new Rd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Rd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Rd("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Ha.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ha.fromNumber(n)));return 1===r.compare(Pd)&&(r=new Ha([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Id(e),[n,r]=Dd(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Md(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=Id(e),[n,r]=Dd(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ld{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ld(tl.min(),r,new Yl(Io),Iu(),zu())}}class Fd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Fd(n,t,zu(),zu(),zu())}}class Bd{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Ud{constructor(e,t){this.targetId=e,this.Ce=t}}class Vd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zd{constructor(){this.ve=0,this.Fe=Hd(),this.Me=nc.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zu(),t=zu(),n=zu();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:go(38017,{changeType:i})}}),new Fd(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Hd()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qd{constructor(e){this.Ge=e,this.ze=new Map,this.je=Iu(),this.Je=Wd(),this.He=Wd(),this.Ye=new Yl(Io)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:go(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(pu(s))if(0===n){const e=new Wo(s.path);this.et(t,e,Vc.newNoDocument(e,tl.min()))}else vo(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Ad)||void 0===i||i.lt(function(e,t,n,r,i,s,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=ac(n).toUint8Array()}catch(e){if(e instanceof tc)return po("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Md(s,r,i)}catch(e){return po(e instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&pu(i.target)){const t=new Wo(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Vc.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=zu();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Ld(e,t,this.Ye,this.je,n);return this.je=Iu(),this.Je=Wd(),this.He=Wd(),this.Ye=new Yl(Io),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $l(Io),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $l(Io),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||ho("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wd(){return new Yl(Wo.comparator)}function Hd(){return new Yl(Wo.comparator)}const Kd={asc:"ASCENDING",desc:"DESCENDING"},Gd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qd={and:"AND",or:"OR"};class Yd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xd(e,t){return e.useProto3Json||gl(t)?t:{value:t}}function Jd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $d(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zd(e,t){return Jd(e,t.toTimestamp())}function eh(e){return vo(!!e,49232),tl.fromTimestamp(function(e){const t=ic(e);return new el(t.seconds,t.nanos)}(e))}function th(e,t){return nh(e,t).canonicalString()}function nh(e,t){const n=function(e){return new Vo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function rh(e){const t=Vo.fromString(e);return vo(Sh(t),10190,{key:t.toString()}),t}function ih(e,t){return th(e.databaseId,t.path)}function sh(e,t){const n=rh(t);if(n.get(1)!==e.databaseId.projectId)throw new wo(xo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wo(xo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wo(ch(n))}function ah(e,t){return th(e.databaseId,t)}function oh(e){const t=rh(e);return 4===t.length?Vo.emptyPath():ch(t)}function lh(e){return new Vo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ch(e){return vo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function uh(e,t,n){return{name:ih(e,t),fields:n.value.mapValue.fields}}function dh(e,t){let n;if(t instanceof md)n={update:uh(e,t.key,t.value)};else if(t instanceof xd)n={delete:ih(e,t.key)};else if(t instanceof gd)n={update:uh(e,t.key,t.data),updateMask:jh(t.fieldMask)};else{if(!(t instanceof wd))return go(16599,{Vt:t.type});n={verify:ih(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof $u)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof td)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rd)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw go(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:go(27497)}(e,t.precondition)),n}function hh(e,t){return{documents:[ah(e,t.path)]}}function fh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ah(e,i);const s=function(e){if(0!==e.length)return wh(Yc.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:bh(e.field),direction:gh(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Xd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function ph(e){let t=oh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vo(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=mh(e);return t instanceof Yc&&Jc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Hc(xh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,gl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new zc(n,t)}(n.endAt)),gu(t,i,a,s,o,"F",l,c)}function mh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xh(e.unaryFilter.field);return Qc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xh(e.unaryFilter.field);return Qc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xh(e.unaryFilter.field);return Qc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xh(e.unaryFilter.field);return Qc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return go(61313);default:return go(60726)}}(e):void 0!==e.fieldFilter?function(e){return Qc.create(xh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return go(58110);default:return go(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yc.create(e.compositeFilter.filters.map(e=>mh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return go(1026)}}(e.compositeFilter.op))}(e):go(30097,{filter:e})}function gh(e){return Kd[e]}function yh(e){return Gd[e]}function vh(e){return Qd[e]}function bh(e){return{fieldPath:e.canonicalString()}}function xh(e){return qo.fromServerFormat(e.fieldPath)}function wh(e){return e instanceof Qc?function(e){if("=="===e.op){if(Dc(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NAN"}};if(Ic(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dc(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NAN"}};if(Ic(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(e.field),op:yh(e.op),value:e.value}}}(e):e instanceof Yc?function(e){const t=e.getFilters().map(e=>wh(e));return 1===t.length?t[0]:{compositeFilter:{op:vh(e.op),filters:t}}}(e):go(54877,{filter:e})}function jh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Sh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Nh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tl.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Eh{constructor(e){this.yt=e}}function kh(e){const t=ph({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Su(t,t.limit,"L"):t}class Ch{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(sc(e.integerValue));else if("doubleValue"in e){const n=sc(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),yl(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ic(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ac(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Fc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Rc(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):go(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=wc,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(sc(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Wo.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ch.Kt=new Ch;class Th{constructor(){this.Cn=new _h}addToCollectionParentIndex(e,t){return this.Cn.add(t),dl.resolve()}getCollectionParents(e,t){return dl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return dl.resolve()}deleteFieldIndex(e,t){return dl.resolve()}deleteAllFieldIndexes(e){return dl.resolve()}createTargetIndexes(e,t){return dl.resolve()}getDocumentsMatchingTarget(e,t){return dl.resolve(null)}getIndexType(e,t){return dl.resolve(0)}getFieldIndexes(e,t){return dl.resolve([])}getNextCollectionGroupToUpdate(e){return dl.resolve(null)}getMinOffset(e,t){return dl.resolve(al.min())}getMinOffsetFromCollectionGroup(e,t){return dl.resolve(al.min())}updateCollectionGroup(e,t,n){return dl.resolve()}updateIndexEntries(e,t){return dl.resolve()}}class _h{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $l(Vo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new $l(Vo.comparator)).toArray()}}new Uint8Array(0);const Ah={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Oh=41943040;class Ph{static withCacheSize(e){return new Ph(e,Ph.DEFAULT_COLLECTION_PERCENTILE,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ph.DEFAULT_COLLECTION_PERCENTILE=10,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ph.DEFAULT=new Ph(Oh,Ph.DEFAULT_COLLECTION_PERCENTILE,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ph.DISABLED=new Ph(-1,0,0);class Ih{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ih(0)}static cr(){return new Ih(-1)}}const Dh="LruGarbageCollector",Mh=1048576;function Rh(e,t){let[n,r]=e,[i,s]=t;const a=Io(n,i);return 0===a?Io(r,s):a}class Lh{constructor(e){this.Ir=e,this.buffer=new $l(Rh),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Rh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){ho(Dh,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fl(e)?ho(Dh,"Ignoring IndexedDB error during garbage collection: ",e):await ul(e)}await this.Vr(3e5)})}}class Bh{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return dl.resolve(pl.ce);const n=new Lh(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ho("LruGarbageCollector","Garbage collection skipped; disabled"),dl.resolve(Ah)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ho("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ah):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ho("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),uo()<=Ht.DEBUG&&ho("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),dl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Uh(e,t){return new Bh(e,t)}class Vh{constructor(){this.changes=new Ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?dl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&hd(n.mutation,e,ec.empty(),el.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,zu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zu();const r=Lu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Mu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Lu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,zu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Iu();const s=Bu(),a=Bu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof gd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),hd(a.mutation,t,a.mutation.getFieldMask(),el.now())):s.set(t.key,ec.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new zh(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Bu();let r=new Yl((e,t)=>e-t),i=zu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ec.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||zu()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Fu();l.forEach(e=>{if(!i.has(e)){const r=ud(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return dl.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Wo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):dl.resolve(Lu());let a=nl,o=i;return s.next(t=>dl.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?dl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,zu())).next(e=>({batchId:a,changes:Ru(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wo(t)).next(e=>{let t=Mu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Mu();return this.indexManager.getCollectionParents(e,i).next(a=>dl.forEach(a,a=>{const o=function(e,t){return new mu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vc.newInvalidDocument(r)))});let n=Mu();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&hd(s.mutation,r,ec.empty(),el.now()),Cu(t,r)&&(n=n.insert(e,r))}),n})}}class Wh{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return dl.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:eh(e.createTime)}}(t)),dl.resolve()}getNamedQuery(e,t){return dl.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:kh(e.bundledQuery),readTime:eh(e.readTime)}}(t)),dl.resolve()}}class Hh{constructor(){this.overlays=new Yl(Wo.comparator),this.qr=new Map}getOverlay(e,t){return dl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Lu();return dl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),dl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),dl.resolve()}getOverlaysForCollection(e,t,n){const r=Lu(),i=t.length+1,s=new Wo(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return dl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Yl((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Lu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Lu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return dl.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Nd(t,n));let i=this.qr.get(t);void 0===i&&(i=zu(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Kh{constructor(){this.sessionToken=nc.EMPTY_BYTE_STRING}getSessionToken(e){return dl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,dl.resolve()}}class Gh{constructor(){this.Qr=new $l(Qh.$r),this.Ur=new $l(Qh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Qh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Qh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Wo(new Vo([])),n=new Qh(t,e),r=new Qh(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Wo(new Vo([])),n=new Qh(t,e),r=new Qh(t,e+1);let i=zu();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Qh(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Qh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Wo.comparator(e.key,t.key)||Io(e.Yr,t.Yr)}static Kr(e,t){return Io(e.Yr,t.Yr)||Wo.comparator(e.key,t.key)}}class Yh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $l(Qh.$r)}checkEmpty(e){return dl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jd(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new Qh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return dl.resolve(s)}lookupMutationBatch(e,t){return dl.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return dl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return dl.resolve(0===this.mutationQueue.length?ml:this.tr-1)}getAllMutationBatches(e){return dl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Qh(t,0),r=new Qh(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),dl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $l(Io);return t.forEach(e=>{const t=new Qh(e,0),r=new Qh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),dl.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wo.isDocumentKey(i)||(i=i.child(""));const s=new Qh(new Wo(i),0);let a=new $l(Io);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),dl.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){vo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return dl.forEach(t.mutations,r=>{const i=new Qh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Qh(t,0),r=this.Zr.firstAfterOrEqual(n);return dl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,dl.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Xh{constructor(e){this.ri=e,this.docs=new Yl(Wo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return dl.resolve(n?n.document.mutableCopy():Vc.newInvalidDocument(t))}getEntries(e,t){let n=Iu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vc.newInvalidDocument(e))}),dl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Iu();const s=t.path,a=new Wo(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ol(sl(a),n)<=0||(r.has(a.key)||Cu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return dl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){go(9500)}ii(e,t){return dl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Jh(this)}getSize(e){return dl.resolve(this.size)}}class Jh extends Vh{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),dl.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class $h{constructor(e){this.persistence=e,this.si=new Ou(e=>hu(e),fu),this.lastRemoteSnapshotVersion=tl.min(),this.highestTargetId=0,this.oi=0,this._i=new Gh,this.targetCount=0,this.ai=Ih.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),dl.resolve()}getLastRemoteSnapshotVersion(e){return dl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return dl.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),dl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),dl.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ih(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,dl.resolve()}updateTargetData(e,t){return this.Pr(t),dl.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,dl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),dl.waitFor(i).next(()=>r)}getTargetCount(e){return dl.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return dl.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),dl.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),dl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),dl.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return dl.resolve(n)}containsKey(e,t){return dl.resolve(this._i.containsKey(t))}}class Zh{constructor(e,t){this.ui={},this.overlays={},this.ci=new pl(0),this.li=!1,this.li=!0,this.hi=new Kh,this.referenceDelegate=e(this),this.Pi=new $h(this),this.indexManager=new Th,this.remoteDocumentCache=function(e){return new Xh(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Eh(t),this.Ii=new Wh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Yh(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ho("MemoryPersistence","Starting transaction:",e);const r=new ef(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return dl.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class ef extends cl{constructor(e){super(),this.currentSequenceNumber=e}}class tf{constructor(e){this.persistence=e,this.Ri=new Gh,this.Vi=null}static mi(e){return new tf(e)}get fi(){if(this.Vi)return this.Vi;throw go(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),dl.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),dl.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),dl.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dl.forEach(this.fi,n=>{const r=Wo.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,tl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return dl.or([()=>dl.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class nf{constructor(e,t){this.persistence=e,this.pi=new Ou(e=>xl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Uh(this,t)}static mi(e,t){return new nf(e,t)}Ei(){}di(e){return dl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return dl.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?dl.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,tl.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),dl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),dl.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),dl.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),dl.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ac(e.data.value)),t}br(e,t,n){return dl.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return dl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=zu(),r=zu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new rf(e,t.fromCache,n,r)}}class sf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class af{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Ct()?8:hl(Et())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new sf;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(uo()<=Ht.DEBUG&&ho("QueryEngine","SDK will not create cache indexes for query:",ku(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),dl.resolve()):(uo()<=Ht.DEBUG&&ho("QueryEngine","Query:",ku(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(uo()<=Ht.DEBUG&&ho("QueryEngine","The SDK decides to create cache indexes for query:",ku(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wu(t))):dl.resolve())}ys(e,t){if(vu(t))return dl.resolve(null);let n=wu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Su(t,null,"F"),n=wu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=zu(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Su(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return vu(t)||r.isEqual(tl.min())?dl.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?dl.resolve(null):(uo()<=Ht.DEBUG&&ho("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ku(t)),this.vs(e,s,t,il(r,nl)).next(e=>e))})}Ds(e,t){let n=new $l(_u(e));return t.forEach((t,r)=>{Cu(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return uo()<=Ht.DEBUG&&ho("QueryEngine","Using full collection scan to execute query:",ku(t)),this.ps.getDocumentsMatchingQuery(e,t,al.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const of="LocalStore";class lf{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Yl(Io),this.xs=new Ou(e=>hu(e),fu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qh(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function cf(e,t,n,r){return new lf(e,t,n,r)}async function uf(e,t){const n=bo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=zu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function df(e){const t=bo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function hf(e,t,n){let r=zu(),i=zu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Iu();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(tl.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ho(of,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}function ff(e,t){const n=bo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ml),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function pf(e,t){const n=bo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,dl.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Nh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function mf(e,t,n){const r=bo(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!fl(e))throw e;ho(of,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function gf(e,t,n){const r=bo(e);let i=tl.min(),s=zu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=bo(e),i=r.xs.get(n);return void 0!==i?dl.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,wu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:tl.min(),n?s:zu())).next(e=>(yf(r,Tu(t),e),{documents:e,Qs:s})))}function yf(e,t,n){let r=e.Os.get(t)||tl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class vf{constructor(){this.activeTargetIds=Wu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bf{constructor(){this.Mo=new vf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xf{Oo(e){}shutdown(){}}const wf="ConnectivityMonitor";class jf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ho(wf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ho(wf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sf=null;function Nf(){return null===Sf?Sf=268435456+Math.round(2147483648*Math.random()):Sf++,"0x"+Sf.toString(16)}const Ef="RestConnection",kf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===mc?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=Nf(),a=this.zo(e,t.toUriEncodedString());ho(Ef,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),c=xt(l);return this.Jo(e,a,o,n,c).then(t=>(ho(Ef,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw po(Ef,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=kf[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Tf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _f="WebChannelConnection";class Af extends Cf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Nf();return new Promise((i,a)=>{const o=new Ya;o.setWithCredentials(!0),o.listenOnce(Ja.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case $a.NO_ERROR:const n=o.getResponseJson();ho(_f,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case $a.TIMEOUT:ho(_f,"RPC '".concat(e,"' ").concat(s," timed out")),a(new wo(xo.DEADLINE_EXCEEDED,"Request time out"));break;case $a.HTTP_ERROR:const r=o.getStatus();if(ho(_f,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(xo).indexOf(t)>=0?t:xo.UNKNOWN}(n.status);a(new wo(e,n.message))}else a(new wo(xo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wo(xo.UNAVAILABLE,"Connection failed."));break;default:go(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{ho(_f,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);ho(_f,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Nf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=no(),a=to(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ho(_f,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new Tf({Yo:t=>{h?ho(_f,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ho(_f,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ho(_f,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Xa.EventType.OPEN,()=>{h||(ho(_f,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Xa.EventType.CLOSE,()=>{h||(h=!0,ho(_f,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Xa.EventType.ERROR,t=>{h||(h=!0,po(_f,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new wo(xo.UNAVAILABLE,"The operation could not be completed")))}),p(u,Xa.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];vo(!!i,16349);const s=i,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ho(_f,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=kd[e];if(void 0!==t)return _d(t)}(t),i=a.message;void 0===n&&(n=xo.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.a_(new wo(n,i)),u.close()}else ho(_f,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(a,eo.STAT_EVENT,t=>{t.stat===Za.PROXY?ho(_f,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Za.NOPROXY&&ho(_f,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Of(){return"undefined"!=typeof document?document:null}function Pf(e){return new Yd(e,!0)}class If{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ho("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Df="PersistentStream";class Mf{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new If(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===xo.RESOURCE_EXHAUSTED?(fo(t.toString()),fo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===xo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new wo(xo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ho(Df,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ho(Df,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rf extends Mf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:go(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(vo(void 0===t||"string"==typeof t,58123),nc.fromBase64String(t||"")):(vo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),nc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?xo.UNKNOWN:_d(e.code);return new wo(t,e.message||"")}(a);n=new Vd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sh(e,r.document.name),s=eh(r.document.updateTime),a=r.document.createTime?eh(r.document.createTime):tl.min(),o=new Bc({mapValue:{fields:r.document.fields}}),l=Vc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sh(e,r.document),s=r.readTime?eh(r.readTime):tl.min(),a=Vc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Bd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sh(e,r.document),s=r.removedTargetIds||[];n=new Bd([],s,i,null)}else{if(!("filter"in t))return go(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ed(r,i),a=e.targetId;n=new Ud(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return tl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?tl.min():t.readTime?eh(t.readTime):tl.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=lh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=pu(r)?{documents:hh(e,r)}:{query:fh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$d(e,t.resumeToken);const r=Xd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(tl.min())>0){n.readTime=Jd(e,t.snapshotVersion.toTimestamp());const r=Xd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return go(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=lh(this.serializer),t.removeTarget=e,this.q_(t)}}class Lf extends Mf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return vo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){vo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(vo(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?eh(e.updateTime):eh(t);return n.isEqual(tl.min())&&(n=eh(t)),new ad(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=eh(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=lh(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>dh(this.serializer,e))};this.q_(t)}}class Ff{}class Bf extends Ff{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new wo(xo.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Go(e,nh(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wo(xo.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,nh(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wo(xo.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Uf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(fo(t),this.aa=!1):ho("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Vf="RemoteStore";class zf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Jf(this)&&(ho(Vf,"Restarting streams for network reachability change."),await async function(e){const t=bo(e);t.Ea.add(4),await Wf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await qf(t)}(this))})}),this.Ra=new Uf(n,r)}}async function qf(e){if(Jf(e))for(const t of e.da)await t(!0)}async function Wf(e){for(const t of e.da)await t(!1)}function Hf(e,t){const n=bo(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Xf(n)?Yf(n):gp(n).O_()&&Gf(n,t))}function Kf(e,t){const n=bo(e),r=gp(n);n.Ia.delete(t),r.O_()&&Qf(n,t),0===n.Ia.size&&(r.O_()?r.L_():Jf(n)&&n.Ra.set("Unknown"))}function Gf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gp(e).Y_(t)}function Qf(e,t){e.Va.Ue(t),gp(e).Z_(t)}function Yf(e){e.Va=new qd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gp(e).start(),e.Ra.ua()}function Xf(e){return Jf(e)&&!gp(e).x_()&&e.Ia.size>0}function Jf(e){return 0===bo(e).Ea.size}function $f(e){e.Va=void 0}async function Zf(e){e.Ra.set("Online")}async function ep(e){e.Ia.forEach((t,n)=>{Gf(e,t)})}async function tp(e,t){$f(e),Xf(e)?(e.Ra.ha(t),Yf(e)):e.Ra.set("Unknown")}async function np(e,t,n){if(e.Ra.set("Online"),t instanceof Vd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){ho(Vf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rp(e,n)}else if(t instanceof Bd?e.Va.Ze(t):t instanceof Ud?e.Va.st(t):e.Va.tt(t),!n.isEqual(tl.min()))try{const t=await df(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(nc.EMPTY_BYTE_STRING,r.snapshotVersion)),Qf(e,t);const i=new Nh(r.target,t,n,r.sequenceNumber);Gf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ho(Vf,"Failed to raise snapshot:",t),await rp(e,t)}}async function rp(e,t,n){if(!fl(t))throw t;e.Ea.add(1),await Wf(e),e.Ra.set("Offline"),n||(n=()=>df(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ho(Vf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qf(e)})}function ip(e,t){return t().catch(n=>rp(e,n,t))}async function sp(e){const t=bo(e),n=yp(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ml;for(;ap(t);)try{const e=await ff(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,op(t,e)}catch(e){await rp(t,e)}lp(t)&&cp(t)}function ap(e){return Jf(e)&&e.Ta.length<10}function op(e,t){e.Ta.push(t);const n=yp(e);n.O_()&&n.X_&&n.ea(t.mutations)}function lp(e){return Jf(e)&&!yp(e).x_()&&e.Ta.length>0}function cp(e){yp(e).start()}async function up(e){yp(e).ra()}async function dp(e){const t=yp(e);for(const n of e.Ta)t.ea(n.mutations)}async function hp(e,t,n){const r=e.Ta.shift(),i=Sd.from(r,t,n);await ip(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sp(e)}async function fp(e,t){t&&yp(e).X_&&await async function(e,t){if(function(e){return Td(e)&&e!==xo.ABORTED}(t.code)){const n=e.Ta.shift();yp(e).B_(),await ip(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sp(e)}}(e,t),lp(e)&&cp(e)}async function pp(e,t){const n=bo(e);n.asyncQueue.verifyOperationInProgress(),ho(Vf,"RemoteStore received new credentials");const r=Jf(n);n.Ea.add(3),await Wf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qf(n)}async function mp(e,t){const n=bo(e);t?(n.Ea.delete(2),await qf(n)):t||(n.Ea.add(2),await Wf(n),n.Ra.set("Unknown"))}function gp(e){return e.ma||(e.ma=function(e,t,n){const r=bo(e);return r.sa(),new Rf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Zf.bind(null,e),t_:ep.bind(null,e),r_:tp.bind(null,e),H_:np.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Xf(e)?Yf(e):e.Ra.set("Unknown")):(await e.ma.stop(),$f(e))})),e.ma}function yp(e){return e.fa||(e.fa=function(e,t,n){const r=bo(e);return r.sa(),new Lf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:up.bind(null,e),r_:fp.bind(null,e),ta:dp.bind(null,e),na:hp.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await sp(e)):(await e.fa.stop(),e.Ta.length>0&&(ho(Vf,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class vp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new vp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wo(xo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(e,t){if(fo("AsyncQueue","".concat(t,": ").concat(e)),fl(e))return new wo(xo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class xp{static emptySet(e){return new xp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wo.comparator(t.key,n.key):(e,t)=>Wo.comparator(e.key,t.key),this.keyedMap=Mu(),this.sortedSet=new Yl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new xp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class wp{constructor(){this.ga=new Yl(Wo.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):go(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class jp{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new jp(e,t,xp.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sp{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Np{constructor(){this.queries=Ep(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=bo(e),r=n.queries;n.queries=Ep(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new wo(xo.ABORTED,"Firestore shutting down"))}}function Ep(){return new Ou(e=>Eu(e),Nu)}async function kp(e,t){const n=bo(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Sp,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=bp(e,"Initialization of query '".concat(ku(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Ap(n)}async function Cp(e,t){const n=bo(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tp(e,t){const n=bo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Ap(n)}function _p(e,t,n){const r=bo(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Ap(e){e.Ca.forEach(e=>{e.next()})}var Op,Pp;(Pp=Op||(Op={})).Ma="default",Pp.Cache="cache";class Ip{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new jp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=jp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class Dp{constructor(e){this.key=e}}class Mp{constructor(e){this.key=e}}class Rp{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zu(),this.mutatedKeys=zu(),this.eu=_u(e),this.tu=new xp(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new wp,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Cu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return go(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new jp(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zu(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Mp(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Dp(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=zu();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Lp="SyncEngine";class Fp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bp{constructor(e){this.key=e,this.hu=!1}}class Up{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ou(e=>Eu(e),Nu),this.Iu=new Map,this.Eu=new Set,this.du=new Yl(Wo.comparator),this.Au=new Map,this.Ru=new Gh,this.Vu={},this.mu=new Map,this.fu=Ih.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Vp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=lm(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await qp(r,t,n,!0),i}async function zp(e,t){const n=lm(e);await qp(n,t,!0,!1)}async function qp(e,t,n,r){const i=await pf(e.localStore,wu(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Wp(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Hf(e.remoteStore,i),o}async function Wp(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await gf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return nm(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await gf(e.localStore,t,!0),a=new Rp(t,s.Qs),o=a.ru(s.documents),l=Fd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);nm(e,n,c.au);const u=new Fp(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Hp(e,t,n){const r=bo(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Nu(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kf(r.remoteStore,i.targetId),em(r,i.targetId)}).catch(ul)):(em(r,i.targetId),await mf(r.localStore,i.targetId,!0))}async function Kp(e,t){const n=bo(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kf(n.remoteStore,r.targetId))}async function Gp(e,t){const n=bo(e);try{const e=await function(e,t){const n=bo(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(nc.EMPTY_BYTE_STRING,tl.min()).withLastLimboFreeSnapshotVersion(tl.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=Iu(),l=zu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(hf(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(tl.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return dl.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(vo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?vo(r.hu,14607):e.removedDocuments.size>0&&(vo(r.hu,42227),r.hu=!1))}),await sm(n,e,t)}catch(e){await ul(e)}}function Qp(e,t,n){const r=bo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=bo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Ap(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yp(e,t,n){const r=bo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new Yl(Wo.comparator);e=e.insert(s,Vc.newNoDocument(s,tl.min()));const n=zu().add(s),i=new Ld(tl.min(),new Map,new Yl(Io),e,n);await Gp(r,i),r.du=r.du.remove(s),r.Au.delete(t),im(r)}else await mf(r.localStore,t,!1).then(()=>em(r,t,n)).catch(ul)}async function Xp(e,t){const n=bo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=dl.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);vo(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Zp(n,r,null),$p(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sm(n,e)}catch(e){await ul(e)}}async function Jp(e,t,n){const r=bo(e);try{const e=await function(e,t){const n=bo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(vo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Zp(r,t,n),$p(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sm(r,e)}catch(n){await ul(n)}}function $p(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Zp(e,t,n){const r=bo(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function em(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||tm(e,t)})}function tm(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Kf(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),im(e))}function nm(e,t,n){for(const r of n)r instanceof Dp?(e.Ru.addReference(r.key,t),rm(e,r)):r instanceof Mp?(ho(Lp,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||tm(e,r.key)):go(19791,{wu:r})}function rm(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ho(Lp,"New document in limbo: "+n),e.Eu.add(r),im(e))}function im(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Wo(Vo.fromString(t)),r=e.fu.next();e.Au.set(r,new Bp(n)),e.du=e.du.insert(n,r),Hf(e.remoteStore,new Nh(wu(yu(n.path)),r,"TargetPurposeLimboResolution",pl.ce))}}async function sm(e,t,n){const r=bo(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=rf.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=bo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>dl.forEach(t,t=>dl.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>dl.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fl(e))throw e;ho(of,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function am(e,t){const n=bo(e);if(!n.currentUser.isEqual(t)){ho(Lp,"User change. New user:",t.toKey());const e=await uf(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new wo(xo.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await sm(n,e.Ls)}}function om(e,t){const n=bo(e),r=n.Au.get(t);if(r&&r.hu)return zu().add(r.key);{let e=zu();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function lm(e){const t=bo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=om.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yp.bind(null,t),t.Pu.H_=Tp.bind(null,t.eventManager),t.Pu.yu=_p.bind(null,t.eventManager),t}function cm(e){const t=bo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jp.bind(null,t),t}class um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return cf(this.persistence,new af,e.initialUser,this.serializer)}Cu(e){return new Zh(tf.mi,this.serializer)}Du(e){return new bf}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}um.provider={build:()=>new um};class dm extends um{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){vo(this.persistence.referenceDelegate instanceof nf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Fh(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Ph.withCacheSize(this.cacheSizeBytes):Ph.DEFAULT;return new Zh(e=>nf.mi(e,t),this.serializer)}}class hm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=am.bind(null,this.syncEngine),await mp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Np}createDatastore(e){const t=Pf(e.databaseInfo.databaseId),n=function(e){return new Af(e)}(e.databaseInfo);return function(e,t,n,r){return new Bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Qp(this.syncEngine,e,0),jf.v()?new jf:new xf)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Up(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=bo(e);ho(Vf,"RemoteStore shutting down."),t.Ea.add(5),await Wf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}hm.provider={build:()=>new hm};class fm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const pm="FirestoreClient";class mm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=oo.UNAUTHENTICATED,this.clientId=Po.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{ho(pm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ho(pm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bp(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gm(e,t){e.asyncQueue.verifyOperationInProgress(),ho(pm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await uf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ym(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vm(e);ho(pm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>pp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>pp(t.remoteStore,n)),e._onlineComponents=t}async function vm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ho(pm,"Using user provided OfflineComponentProvider");try{await gm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===xo.FAILED_PRECONDITION||e.code===xo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await gm(e,new um)}}else ho(pm,"Using default OfflineComponentProvider"),await gm(e,new dm(void 0));return e._offlineComponents}async function bm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ho(pm,"Using user provided OnlineComponentProvider"),await ym(e,e._uninitializedComponentsProvider._online)):(ho(pm,"Using default OnlineComponentProvider"),await ym(e,new hm))),e._onlineComponents}function xm(e){return bm(e).then(e=>e.syncEngine)}async function wm(e){const t=await bm(e),n=t.eventManager;return n.onListen=Vp.bind(null,t.syncEngine),n.onUnlisten=Hp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Kp.bind(null,t.syncEngine),n}function jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new jo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new fm({next:o=>{s.Nu(),t.enqueueAndForget(()=>Cp(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new wo(xo.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new wo(xo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Ip(yu(n.path),s,{includeMetadataChanges:!0,qa:!0});return kp(e,a)}(await wm(e),e.asyncQueue,t,n,r)),r.promise}function Sm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Nm=new Map,Em="firestore.googleapis.com",km=!0;class Cm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new wo(xo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Em,this.ssl=km}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:km;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Oh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Mh)throw new wo(xo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new wo(xo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new wo(xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new wo(xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new wo(xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wo(xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wo(xo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new No;switch(e.type){case"firstParty":return new To(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wo(xo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nm.get(e);t&&(ho("ComponentProvider","Removing Datastore"),Nm.delete(e),t.terminate())}(this),Promise.resolve()}}function _m(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Yo(e,Tm);const i=xt(t),s=e._getSettings(),a=ot(ot({},s),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(wt("https://".concat(o)),Nt("Firestore",!0)),s.host!==Em&&s.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=ot(ot({},s),{},{host:o,ssl:i,emulatorOptions:r});if(!Pt(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=oo.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=ot({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ht(JSON.stringify({alg:"none",type:"JWT"})),ht(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new wo(xo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new oo(i)}e._authCredentials=new Eo(new So(t,n))}}class Am{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Am(this.firestore,e,this._query)}}class Om{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Om(this.firestore,e,this._key)}toJSON(){return{type:Om._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Jo(t,Om._jsonSchema))return new Om(e,n||null,new Wo(Vo.fromString(t.referencePath)))}}Om._jsonSchemaVersion="firestore/documentReference/1.0",Om._jsonSchema={type:Xo("string",Om._jsonSchemaVersion),referencePath:Xo("string")};class Pm extends Am{constructor(e,t,n){super(e,t,yu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Om(this.firestore,null,new Wo(e))}withConverter(e){return new Pm(this.firestore,e,this._path)}}function Im(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bt(e),1===arguments.length&&(t=Po.newId()),Ho("doc","path",t),e instanceof Tm){const n=Vo.fromString(t,...r);return Ko(n),new Om(e,null,new Wo(n))}{if(!(e instanceof Om||e instanceof Pm))throw new wo(xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Vo.fromString(t,...r));return Ko(n),new Om(e.firestore,e instanceof Pm?e.converter:null,new Wo(n))}}const Dm="AsyncQueue";class Mm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new If(this,"async_queue_retry"),this._c=()=>{const e=Of();e&&ho(Dm,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Of();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Of();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new jo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(yQ){if(!fl(yQ))throw yQ;ho(Dm,"Operation failed with retryable error: "+yQ)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,fo("INTERNAL UNHANDLED ERROR: ",Rm(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=vp.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&go(47125,{Pc:Rm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Rm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Lm extends Tm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Mm,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function Fm(e){if(e._terminated)throw new wo(xo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Bm(e),e._firestoreClient}function Bm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new pc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Sm(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new mm(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Um{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Um(nc.fromBase64String(e))}catch(e){throw new wo(xo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Um(nc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Um._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,Um._jsonSchema))return Um.fromBase64String(e.bytes)}}Um._jsonSchemaVersion="firestore/bytes/1.0",Um._jsonSchema={type:Xo("string",Um._jsonSchemaVersion),bytes:Xo("string")};class Vm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new wo(xo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zm{constructor(e){this._methodName=e}}class qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wo(xo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wo(xo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Io(this._lat,e._lat)||Io(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qm._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,qm._jsonSchema))return new qm(e.latitude,e.longitude)}}qm._jsonSchemaVersion="firestore/geoPoint/1.0",qm._jsonSchema={type:Xo("string",qm._jsonSchemaVersion),latitude:Xo("number"),longitude:Xo("number")};class Wm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,Wm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Wm(e.vectorValues);throw new wo(xo.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wm._jsonSchemaVersion="firestore/vectorValue/1.0",Wm._jsonSchema={type:Xo("string",Wm._jsonSchemaVersion),vectorValues:Xo("object")};const Hm=/^__.*__$/;class Km{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gd(e,this.data,this.fieldMask,t,this.fieldTransforms):new md(e,this.data,t,this.fieldTransforms)}}function Gm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw go(40011,{Ac:e})}}class Qm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qm(ot(ot({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Gm(this.Ac)&&Hm.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ym{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Pf(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Qm({Ac:e,methodName:t,Dc:n,path:qo.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(e){const t=e._freezeSettings(),n=Pf(e._databaseId);return new Ym(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);tg("Data must be an object, but it was:",a,r);const o=Zm(r,a);let l,c;if(s.merge)l=new ec(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=ng(t,r,n);if(!a.contains(i))throw new wo(xo.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ag(e,i)||e.push(i)}l=new ec(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Km(new Bc(o),l,c)}function $m(e,t){if(eg(e=Bt(e)))return tg("Unsupported field value:",t,e),Zm(e,t);if(e instanceof zm)return function(e,t){if(!Gm(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$m(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Bt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=el.fromDate(e);return{timestampValue:Jd(t.serializer,n)}}if(e instanceof el){const n=new el(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jd(t.serializer,n)}}if(e instanceof qm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Um)return{bytesValue:$d(t.serializer,e._byteString)};if(e instanceof Om){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:th(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Wm)return function(e,t){return{mapValue:{fields:{[yc]:{stringValue:xc},[wc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Hu(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Qo(e)))}(e,t)}function Zm(e,t){const n={};return Ql(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gl(e,(e,r)=>{const i=$m(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function eg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof el||e instanceof qm||e instanceof Um||e instanceof Om||e instanceof zm||e instanceof Wm)}function tg(e,t,n){if(!eg(n)||!Go(n)){const r=Qo(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function ng(e,t,n){if((t=Bt(t))instanceof Vm)return t._internalPath;if("string"==typeof t)return ig(e,t);throw sg("Field path arguments must be of type string or ",e,!1,void 0,n)}const rg=new RegExp("[~\\*/\\[\\]]");function ig(e,t,n){if(t.search(rg)>=0)throw sg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Vm(...t.split("."))._internalPath}catch(Yk){throw sg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sg(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new wo(xo.INVALID_ARGUMENT,o+e+l)}function ag(e,t){return e.some(e=>e.isEqual(t))}class og{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Om(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lg extends og{data(){return super.data()}}function cg(e,t){return"string"==typeof t?ig(e,t):t instanceof Vm?t._internalPath:t._delegate._internalPath}class ug{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw go(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Gl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[wc].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>sc(e.doubleValue));return new Wm(n)}convertGeoPoint(e){return new qm(sc(e.latitude),sc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=ic(e);return new el(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Vo.fromString(e);vo(Sh(n),9688,{name:e});const r=new gc(n.get(1),n.get(3)),i=new Wo(n.popFirst(5));return r.isEqual(t)||fo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function dg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fg extends og{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wo(xo.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}fg._jsonSchemaVersion="firestore/documentSnapshot/1.0",fg._jsonSchema={type:Xo("string",fg._jsonSchemaVersion),bundleSource:Xo("string","DocumentSnapshot"),bundleName:Xo("string"),bundle:Xo("string")};class pg extends fg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class mg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new pg(this._firestore,this._userDataWriter,n.key,n,new hg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wo(xo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new pg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new pg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:gg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wo(xo.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Po.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return go(61501,{type:e})}}function yg(e){e=Yo(e,Om);const t=Yo(e.firestore,Lm);return jm(Fm(t),e._key).then(n=>wg(t,e,n))}mg._jsonSchemaVersion="firestore/querySnapshot/1.0",mg._jsonSchema={type:Xo("string",mg._jsonSchemaVersion),bundleSource:Xo("string","QuerySnapshot"),bundleName:Xo("string"),bundle:Xo("string")};class vg extends ug{constructor(e){super(),this.firestore=e}convertBytes(e){return new Um(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Om(this.firestore,null,t)}}function bg(e,t,n){e=Yo(e,Om);const r=Yo(e.firestore,Lm),i=dg(e.converter,t,n);return xg(r,[Jm(Xm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,od.none())])}function xg(e,t){return function(e,t){const n=new jo;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=cm(e);try{const e=await function(e,t){const n=bo(e),r=el.now(),i=t.reduce((e,t)=>e.add(t.key),zu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Iu(),l=zu();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=fd(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new gd(e.key,t,Uc(t.value.mapValue),od.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Ru(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Yl(Io)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await sm(r,e.changes),await sp(r.remoteStore)}catch(e){const t=bp(e,"Failed to persist write");n.reject(t)}}(await xm(e),t,n)),n.promise}(Fm(e),t)}function wg(e,t,n){const r=n.docs.get(t._key),i=new vg(e);return new fg(e,i,t._key,r,new hg(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){lo=e}(tr),Xn(new Ut("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Lm(new ko(e.getProvider("auth-internal")),new Ao(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wo(xo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(e.options.projectId,t)}(s,r),s);return i=ot({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ir(so,ao,e),ir(so,ao,"esm2020")}();ir("firebase","12.2.1","app");const jg=nr({apiKey:"AIzaSyA2rLcXVAmJZtHxN4TXy4qmKJFWlVf9TLA",authDomain:"sih2025-f718e.firebaseapp.com",projectId:"sih2025-f718e",storageBucket:"sih2025-f718e.firebasestorage.app",messagingSenderId:"753671979434",appId:"1:753671979434:web:c0eeca65cb54aaae88abd3"}),Sg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();const t=Jn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Jn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Pt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Sr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fa,persistence:[Qs,Ts,Is]}),r=vt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>za)return;const i=null===n||void 0===n?void 0:n.token;qa!==i&&(qa=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(e.toString());!function(e,t,n){Bt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Bt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=gt("auth");return i&&Wi(n,"http://".concat(i)),n}(jg),Ng=function(e,t){const n="object"==typeof e?e:rr(),r="string"==typeof e?e:t||mc,i=Jn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=gt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&_m(i,...e)}return i}(jg);let Eg=new Set,kg=null,Cg=!1;function Tg(e){kg=e,Cg=!0;const t=new CustomEvent("authchange",{detail:{user:e}});window.dispatchEvent(t),Eg.forEach(t=>{try{t(e)}catch(n){}})}function _g(){return console.log("getCurrentUser called, returning:",kg),kg}function Ag(){return Cg}function Og(e){return Eg.add(e),()=>Eg.delete(e)}async function Pg(e,t){if(!e||!t)throw new Error("Missing credentials");try{const n=await function(e,t,n){return $n(e.app)?Promise.reject(kr(e)):xs(Bt(e),ss.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&js(e),t})}(Sg,e,t),r=n.user,i=(await yg(Im(Ng,"users",r.uid))).data();console.log("Login - User data from Firestore:",i),console.log("Login - Email:",e);const s={uid:r.uid,email:r.email,role:(null===i||void 0===i?void 0:i.role)||Dg(e),name:(null===i||void 0===i?void 0:i.name)||r.displayName||e.split("@")[0],institution:(null===i||void 0===i?void 0:i.institution)||"",phone:(null===i||void 0===i?void 0:i.phone)||""};return console.log("Login - Final user profile:",s),Tg(s),s}catch(n){throw new Error(n.message)}}async function Ig(){try{await function(e){return Bt(e).signOut()}(Sg),Tg(null)}catch(e){throw new Error(e.message)}}function Dg(e){return e.includes("teacher")||e.includes("prof")||e.includes("faculty")?"teacher":e.includes("admin")||e.includes("administrator")?"admin":"student"}!function(e,t,n,r){Bt(e).onAuthStateChanged(t,n,r)}(Sg,async e=>{if(console.log("Firebase auth state changed:",e),e)try{const t=(await yg(Im(Ng,"users",e.uid))).data();if(console.log("User data from Firestore:",t),t){const n={uid:e.uid,email:e.email,role:(null===t||void 0===t?void 0:t.role)||Dg(e.email),name:(null===t||void 0===t?void 0:t.name)||e.displayName||e.email.split("@")[0],institution:(null===t||void 0===t?void 0:t.institution)||"",phone:(null===t||void 0===t?void 0:t.phone)||""};console.log("Final user profile:",n),Tg(n)}else{console.log("No user data found in Firestore, creating default profile");const t={name:e.displayName||e.email.split("@")[0],role:Dg(e.email),institution:"",phone:"",createdAt:(new Date).toISOString()};await bg(Im(Ng,"users",e.uid),t);const n={uid:e.uid,email:e.email,role:t.role,name:t.name,institution:t.institution,phone:t.phone};console.log("Created default user profile:",n),Tg(n)}}catch(t){console.error("Error fetching user data:",t);const n={uid:e.uid,email:e.email,role:Dg(e.email),name:e.displayName||e.email.split("@")[0],institution:"",phone:""};console.log("Using fallback profile:",n),Tg(n)}else Tg(null)});const Mg=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api"}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=ot({headers:ot({"Content-Type":"application/json"},t.headers)},t);try{const e=await fetch(n,r),t=await e.json();if(!e.ok)throw new Error(t.message||"Request failed");return t}catch(i){throw console.error("Points service error:",i),i}}async awardPoints(e,t,n,r){try{console.log("\ud83c\udfaf Awarding points:",{userId:e,videoId:t,videoType:n,completionPercentage:r});const i=await this.request("/points/award",{method:"POST",body:JSON.stringify({userId:e,videoId:t,videoType:n,completionPercentage:r})});return console.log("\u2705 Points API response:",i),i}catch(i){throw console.error("\u274c Failed to award points:",i),i}}getCurrentUserId(){try{const e=_g();if(e&&e.name)return console.log("\ud83d\udc64 Using AuthService user ID:",e.name),e.name}catch(t){console.log("AuthService not available, trying localStorage")}const e=localStorage.getItem("user");if(console.log("\ud83d\udd0d Stored user data:",e),e)try{const t=JSON.parse(e),n=t.name||t.email||t.displayName||"demo-user";return console.log("\ud83d\udc64 Using localStorage user ID:",n),n}catch(t){console.error("Error parsing stored user:",t)}return console.log("\ud83d\udc64 Using fallback user ID: demo-user"),"demo-user"}async getUserPoints(e){try{return(await this.request("/points/user/".concat(e))).data}catch(t){throw console.error("Failed to get user points:",t),t}}async getVideoPoints(e,t){try{return(await this.request("/points/video/".concat(e,"/").concat(t))).data}catch(n){return console.error("Failed to get video points:",n),{points:0,completionPercentage:0}}}async getLeaderboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{return(await this.request("/leaderboard?limit=".concat(e))).data.leaderboard}catch(t){throw console.error("Failed to get leaderboard:",t),t}}generateDrillVideoId(e,t){return"drill-".concat(e,"-").concat(t.toLowerCase().replace(/\s+/g,"-"))}generateModuleVideoId(e,t){return"module-".concat(e,"-").concat(t.toLowerCase().replace(/\s+/g,"-"))}generateAssignmentId(e,t){return"assignment-".concat(e,"-").concat(t.toLowerCase().replace(/\s/g,"-"))}};const Rg=function(){const[e,t]=(0,i.useState)({totalPoints:0,videosWatched:0}),[n,r]=(0,i.useState)(!0);(0,i.useEffect)(()=>{s();const e=setInterval(s,3e4);return()=>clearInterval(e)},[]);const s=async()=>{try{const e=Mg.getCurrentUserId(),n=await Mg.getUserPoints(e);t(n)}catch(e){console.error("Failed to load user points:",e)}finally{r(!1)}};return n?(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-lightning-charge"}),(0,Fe.jsx)("span",{className:"small",children:"Loading..."})]}):(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-lightning-charge text-warning"}),(0,Fe.jsx)("span",{className:"fw-semibold text-primary",children:e.totalPoints}),(0,Fe.jsx)("span",{className:"text-muted small",children:"pts"})]})};const Lg=function(){const[e,t]=(0,i.useState)(null),n=ee();return(0,i.useEffect)(()=>{const e=_g();t(e);const n=Og(e=>{console.log("Auth state changed:",e),t(e)});return n},[]),(0,Fe.jsx)("nav",{className:"navbar navbar-expand-lg bg-white border-bottom sticky-top shadow-sm",children:(0,Fe.jsxs)("div",{className:"container",children:[(0,Fe.jsxs)(Ie,{className:"navbar-brand fw-bold d-flex align-items-center gap-2",to:"/",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger"}),(0,Fe.jsx)("span",{children:"D-Prep"})]}),(0,Fe.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#nav","aria-controls":"nav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Fe.jsx)("span",{className:"navbar-toggler-icon"})}),(0,Fe.jsxs)("div",{className:"collapse navbar-collapse",id:"nav",children:[(0,Fe.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(!e||"student"===e.role)&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/learn",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard me-1"}),"Learn"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"Alerts"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/drills",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick me-1"}),"Drills"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/simulation",children:[(0,Fe.jsx)("i",{className:"bi bi-controller me-1"}),"Simulation"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/leaderboard",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-1"}),"Leaderboard"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/emergency",children:[(0,Fe.jsx)("i",{className:"bi bi-telephone me-1"}),"Emergency"]})})]}),"teacher"===(null===e||void 0===e?void 0:e.role)&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/teacher",children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-1"}),"Dashboard"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"Alerts"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/drills",children:[(0,Fe.jsx)("i",{className:"bi bi-flag me-1"}),"Drills"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/simulation",children:[(0,Fe.jsx)("i",{className:"bi bi-controller me-1"}),"Simulation"]})})]}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/admin",children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-1"}),"Dashboard"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"Alerts"]})})]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[e&&("student"===e.role||!e.role)&&(0,Fe.jsx)(Rg,{}),e?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("span",{className:"small text-muted",children:[e.name," \xb7 ",e.role]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{Ig(),n("/login",{replace:!0})},children:[(0,Fe.jsx)("i",{className:"bi bi-box-arrow-right me-1"}),"Logout"]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(De,{to:"/login",className:"btn btn-outline-primary btn-sm",children:"Login"}),(0,Fe.jsx)(De,{to:"/signup",className:"btn btn-primary btn-sm",children:"Sign up"})]}),(0,Fe.jsx)(nt,{})]})]})]})})};const Fg=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)("");return(0,Fe.jsx)("footer",{className:"border-top bg-white mt-5 pt-4",children:(0,Fe.jsxs)("div",{className:"container",children:[(0,Fe.jsxs)("div",{className:"row g-4",children:[(0,Fe.jsxs)("div",{className:"col-12 col-lg-4",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"D-Prep"})]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Preparedness for Indian schools and colleges \u2014 interactive learning, region alerts, and virtual drills to build resilient campuses."}),(0,Fe.jsxs)("div",{className:"d-flex gap-2 mt-3",children:[(0,Fe.jsx)("span",{className:"badge bg-primary-subtle text-primary border",children:"Education"}),(0,Fe.jsx)("span",{className:"badge bg-danger-subtle text-danger border",children:"Emergency"}),(0,Fe.jsx)("span",{className:"badge bg-success-subtle text-success border",children:"Readiness"})]})]}),(0,Fe.jsxs)("div",{className:"col-6 col-lg-2",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Solutions"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/learn",className:"text-decoration-none text-muted",children:"Interactive Modules"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/drills",className:"text-decoration-none text-muted",children:"Virtual Drills"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/alerts",className:"text-decoration-none text-muted",children:"Region Alerts"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/leaderboard",className:"text-decoration-none text-muted",children:"Gamified Leaderboard"})})]})]}),(0,Fe.jsxs)("div",{className:"col-6 col-lg-2",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Stakeholders"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Students"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Teachers & Staff"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Administrators"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Parents & Responders"})})]})]}),(0,Fe.jsxs)("div",{className:"col-12 col-lg-4",children:[(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Emergency Tools"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/emergency",className:"text-decoration-none text-muted",children:"SOS & Contacts"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/alerts",className:"text-decoration-none text-muted",children:"Live Alerts"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/drills",className:"text-decoration-none text-muted",children:"Drill Planner"})})]})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Compliance"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted",children:"NDMA Guidelines"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted",children:"UNDRR for Education"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted",children:"Safety Policies"})})]})]})]}),(0,Fe.jsxs)("form",{className:"mt-3 d-flex gap-2",onSubmit:async n=>{if(n.preventDefault(),e&&e.includes("@")){r(!0),a("");try{console.log("Attempting to subscribe email:",e);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api";console.log("Making request to:","".concat(n,"/mailing-list/subscribe"));const r=await fetch("".concat(n,"/mailing-list/subscribe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});console.log("Response status:",r.status),console.log("Response ok:",r.ok);const i=await r.json();console.log("Response data:",i),i.success?(a(i.message),t("")):a(i.message||"Failed to subscribe")}catch(i){console.error("Subscription error:",i),console.error("Error details:",i.message),a("Failed to subscribe: ".concat(i.message))}finally{r(!1)}}else a("Please enter a valid email address")},children:[(0,Fe.jsx)("input",{className:"form-control form-control-sm",placeholder:"Subscribe for updates",type:"email",value:e,onChange:e=>t(e.target.value),disabled:n,required:!0}),(0,Fe.jsx)("button",{className:"btn btn-primary btn-sm",type:"submit",disabled:n||!e,children:n?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Subscribing..."]}):"Subscribe"})]}),s&&(0,Fe.jsx)("div",{className:"mt-2 small ".concat(s.includes("Successfully")?"text-success":"text-danger"),children:s})]})]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-2 border-top mt-4 py-3",children:[(0,Fe.jsxs)("div",{className:"text-muted small",children:["\xa9 ",(new Date).getFullYear()," D-Prep \u2022 Building disaster-ready campuses"]}),(0,Fe.jsxs)("div",{className:"d-flex gap-3",children:[(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted small",children:"Privacy"}),(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted small",children:"Terms"}),(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted small",children:"Accessibility"})]})]})]})})};function Bg(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Ug(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Vg=e=>Array.isArray(e);function zg(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qg(e){return"string"===typeof e||Array.isArray(e)}function Wg(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Hg(e,t,n,r){if("function"===typeof t){const[i,s]=Wg(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=Wg(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function Kg(e,t,n){const r=e.getProps();return Hg(r,t,void 0!==n?n:r.custom,e)}const Gg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qg=["initial",...Gg];function Yg(e){let t;return()=>(void 0===t&&(t=e()),t)}const Xg=Yg(()=>void 0!==window.ScrollTimeline);class Jg{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(n=>Xg()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $g extends Jg{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Zg(e,t){return e?e[t]||e.default||e:void 0}const ey=2e4;function ty(e){let t=0;let n=e.next(t);for(;!n.done&&t<ey;)t+=50,n=e.next(t);return t>=ey?1/0:t}function ny(e){return"function"===typeof e}function ry(e,t){e.timeline=t,e.onfinish=null}const iy=e=>Array.isArray(e)&&"number"===typeof e[0],sy={linearEasing:void 0};function ay(e,t){const n=Yg(e);return()=>{var e;return null!==(e=sy[t])&&void 0!==e?e:n()}}const oy=ay(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(yQ){return!1}return!0},"linearEasing"),ly=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},cy=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(ly(0,i-1,s))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function uy(e){return Boolean("function"===typeof e&&oy()||!e||"string"===typeof e&&(e in hy||oy())||iy(e)||Array.isArray(e)&&e.every(uy))}const dy=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},hy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dy([0,.65,.55,1]),circOut:dy([.55,0,1,.45]),backIn:dy([.31,.01,.66,-.59]),backOut:dy([.33,1.53,.69,.99])};function fy(e,t){return e?"function"===typeof e&&oy()?cy(e,t):iy(e)?dy(e):Array.isArray(e)?e.map(e=>fy(e,t)||hy.easeOut):hy[e]:void 0}const py={x:!1,y:!1};function my(){return py.x||py.y}function gy(e,t){const n=function(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,ot(ot({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function yy(e){return t=>{"touch"===t.pointerType||my()||e(t)}}const vy=(e,t)=>!!t&&(e===t||vy(e,t.parentElement)),by=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,xy=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const wy=new WeakSet;function jy(e){return t=>{"Enter"===t.key&&e(t)}}function Sy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Ny(e){return by(e)&&!my()}function Ey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=gy(e,n),a=e=>{const r=e.currentTarget;if(!Ny(e)||wy.has(r))return;wy.add(r);const s=t(e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Ny(e)&&wy.has(r)&&(wy.delete(r),"function"===typeof s&&s(e,{success:t}))},o=e=>{a(e,n.useGlobalTarget||vy(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{(function(e){return xy.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=jy(()=>{if(wy.has(n))return;Sy(n,"down");const e=jy(()=>{Sy(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Sy(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i),i)}),s}const ky=e=>1e3*e,Cy=e=>e/1e3,Ty=e=>e;const _y=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ay=new Set(_y),Oy=new Set(["width","height","top","left","right","bottom",..._y]),Py=e=>Vg(e)?e[e.length-1]||0:e,Iy=!1,Dy=!1;const My=["read","resolveKeyframes","update","preRender","render","postRender"];function Ry(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=My.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(t){s.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{a=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(s),e),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,f=()=>{const s=Dy?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=My.reduce((t,s)=>{const o=a[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,s,a)},t},{});return{schedule:p,cancel:e=>{for(let t=0;t<My.length;t++)a[My[t]].cancel(e)},state:i,steps:a}}const{schedule:Ly,cancel:Fy,state:By,steps:Uy}=Ry("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Ty,!0);let Vy;function zy(){Vy=void 0}const qy={now:()=>(void 0===Vy&&qy.set(By.isProcessing||Dy?By.timestamp:performance.now()),Vy),set:e=>{Vy=e,queueMicrotask(zy)}};function Wy(e,t){-1===e.indexOf(t)&&e.push(t)}function Hy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ky{constructor(){this.subscriptions=[]}add(e){return Wy(this.subscriptions,e),()=>Hy(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Gy(e,t){return t?e*(1e3/t):0}const Qy={current:void 0};class Yy{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=qy.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qy.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ky);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ly.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Qy.current&&Qy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=qy.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Gy(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xy(e,t){return new Yy(e,t)}const Jy=["transitionEnd","transition"];function $y(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xy(n))}const Zy=e=>Boolean(e&&e.getVelocity);function ev(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(Zy(e)&&e.add)}(n))return n.add(t)}const tv=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nv="data-"+tv("framerAppearId");function rv(e){return e.props[nv]}const iv=!1,sv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function av(e,t,n,r){if(e===t&&n===r)return Ty;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=sv(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:sv(i(e),t,r)}const ov=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lv=e=>t=>1-e(1-t),cv=av(.33,1.53,.69,.99),uv=lv(cv),dv=ov(uv),hv=e=>(e*=2)<1?.5*uv(e):.5*(2-Math.pow(2,-10*(e-1))),fv=e=>1-Math.sin(Math.acos(e)),pv=lv(fv),mv=ov(fv),gv=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function yv(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||gv(e))}const vv=(e,t,n)=>n>t?t:n<e?e:n,bv={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},xv=ot(ot({},bv),{},{transform:e=>vv(0,1,e)}),wv=ot(ot({},bv),{},{default:1}),jv=e=>Math.round(1e5*e)/1e5,Sv=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Nv=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Ev=(e,t)=>n=>Boolean("string"===typeof n&&Nv.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),kv=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,a,o]=r.match(Sv);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Cv=ot(ot({},bv),{},{transform:e=>Math.round((e=>vv(0,255,e))(e))}),Tv={test:Ev("rgb","red"),parse:kv("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Cv.transform(t)+", "+Cv.transform(n)+", "+Cv.transform(r)+", "+jv(xv.transform(i))+")"}};const _v={test:Ev("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Tv.transform},Av=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Ov=Av("deg"),Pv=Av("%"),Iv=Av("px"),Dv=Av("vh"),Mv=Av("vw"),Rv=ot(ot({},Pv),{},{parse:e=>Pv.parse(e)/100,transform:e=>Pv.transform(100*e)}),Lv={test:Ev("hsl","hue"),parse:kv("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Pv.transform(jv(n))+", "+Pv.transform(jv(r))+", "+jv(xv.transform(i))+")"}},Fv={test:e=>Tv.test(e)||_v.test(e)||Lv.test(e),parse:e=>Tv.test(e)?Tv.parse(e):Lv.test(e)?Lv.parse(e):_v.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Tv.transform(e):Lv.transform(e)},Bv=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Uv="number",Vv="color",zv=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function qv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(zv,e=>(Fv.test(e)?(r.color.push(s),i.push(Vv),n.push(Fv.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(Uv),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:a,indexes:r,types:i}}function Wv(e){return qv(e).values}function Hv(e){const{split:t,types:n}=qv(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===Uv?jv(e[s]):t===Vv?Fv.transform(e[s]):e[s]}return i}}const Kv=e=>"number"===typeof e?0:e;const Gv={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Sv))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Bv))||void 0===n?void 0:n.length)||0)>0},parse:Wv,createTransformer:Hv,getAnimatableNone:function(e){const t=Wv(e);return Hv(e)(t.map(Kv))}},Qv=new Set(["brightness","contrast","saturate","opacity"]);function Yv(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Sv)||[];if(!r)return e;const i=n.replace(r,"");let s=Qv.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Xv=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Jv=ot(ot({},Gv),{},{getAnimatableNone:e=>{const t=e.match(Xv);return t?t.map(Yv).join(" "):e}}),$v={borderWidth:Iv,borderTopWidth:Iv,borderRightWidth:Iv,borderBottomWidth:Iv,borderLeftWidth:Iv,borderRadius:Iv,radius:Iv,borderTopLeftRadius:Iv,borderTopRightRadius:Iv,borderBottomRightRadius:Iv,borderBottomLeftRadius:Iv,width:Iv,maxWidth:Iv,height:Iv,maxHeight:Iv,top:Iv,right:Iv,bottom:Iv,left:Iv,padding:Iv,paddingTop:Iv,paddingRight:Iv,paddingBottom:Iv,paddingLeft:Iv,margin:Iv,marginTop:Iv,marginRight:Iv,marginBottom:Iv,marginLeft:Iv,backgroundPositionX:Iv,backgroundPositionY:Iv},Zv={rotate:Ov,rotateX:Ov,rotateY:Ov,rotateZ:Ov,scale:wv,scaleX:wv,scaleY:wv,scaleZ:wv,skew:Ov,skewX:Ov,skewY:Ov,distance:Iv,translateX:Iv,translateY:Iv,translateZ:Iv,x:Iv,y:Iv,z:Iv,perspective:Iv,transformPerspective:Iv,opacity:xv,originX:Rv,originY:Rv,originZ:Iv},eb=ot(ot({},bv),{},{transform:Math.round}),tb=ot(ot(ot({},$v),Zv),{},{zIndex:eb,size:Iv,fillOpacity:xv,strokeOpacity:xv,numOctaves:eb}),nb=ot(ot({},tb),{},{color:Fv,backgroundColor:Fv,outlineColor:Fv,fill:Fv,stroke:Fv,borderColor:Fv,borderTopColor:Fv,borderRightColor:Fv,borderBottomColor:Fv,borderLeftColor:Fv,filter:Jv,WebkitFilter:Jv}),rb=e=>nb[e];function ib(e,t){let n=rb(e);return n!==Jv&&(n=Gv),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sb=new Set(["auto","none","0"]);const ab=e=>e===bv||e===Iv,ob=(e,t)=>parseFloat(e.split(", ")[t]),lb=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(s)return ob(s[1],t);{const t=i.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?ob(t[1],e):0}},cb=new Set(["x","y","z"]),ub=_y.filter(e=>!cb.has(e));const db={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:lb(4,13),y:lb(5,14)};db.translateX=db.x,db.translateY=db.y;const hb=new Set;let fb=!1,pb=!1;function mb(){if(pb){const e=Array.from(hb).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return ub.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}pb=!1,fb=!1,hb.forEach(e=>e.complete()),hb.clear()}function gb(){hb.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pb=!0)})}class yb{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hb.add(this),fb||(fb=!0,Ly.read(gb),Ly.resolveKeyframes(mb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hb.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hb.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let vb=Ty,bb=Ty;const xb=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),wb=e=>t=>"string"===typeof t&&t.startsWith(e),jb=wb("--"),Sb=wb("var(--"),Nb=e=>!!Sb(e)&&Eb.test(e.split("/*")[0].trim()),Eb=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,kb=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Cb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;bb(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=kb.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return xb(e)?parseFloat(e):e}return Nb(i)?Cb(i,t,n+1):i}const Tb=e=>t=>t.test(e),_b=[bv,Iv,Pv,Ov,Mv,Dv,{test:e=>"auto"===e,parse:e=>e}],Ab=e=>_b.find(Tb(e));class Ob extends yb{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),Nb(n))){const r=Cb(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Oy.has(n)||2!==e.length)return;const[r,i]=e,s=Ab(r),a=Ab(i);if(s!==a)if(ab(s)&&ab(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)yv(e[r])&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!sb.has(t)&&qv(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=ib(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=db[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=db[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const Pb=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Gv.test(e)&&"0"!==e||e.startsWith("url(")));function Ib(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=Pb(i,t),o=Pb(s,t);return vb(a===o,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(s," via the `style` property.")),!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ny(n))&&r)}const Db=e=>null!==e;function Mb(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(Db),a=r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const Rb=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class Lb{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop"}=e,o=lt(e,Rb);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qy.now(),this.options=ot({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a},o),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(gb(),mb()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=qy.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!Ib(e,n,r,i)){if(iv||!s)return o&&o(Mb(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=ot({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fb=(e,t,n)=>e+(t-e)*n;function Bb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ub(e,t){return n=>n>0?t:e}const Vb=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},zb=[_v,Tv,Lv];function qb(e){const t=(e=>zb.find(t=>t.test(e)))(e);if(vb(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let n=t.parse(e);return t===Lv&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Bb(i,e,t+1/3),a=Bb(i,e,t),o=Bb(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const Wb=(e,t)=>{const n=qb(e),r=qb(t);if(!n||!r)return Ub(e,t);const i=ot({},n);return e=>(i.red=Vb(n.red,r.red,e),i.green=Vb(n.green,r.green,e),i.blue=Vb(n.blue,r.blue,e),i.alpha=Fb(n.alpha,r.alpha,e),Tv.transform(i))},Hb=(e,t)=>n=>t(e(n)),Kb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Hb)},Gb=new Set(["none","hidden"]);function Qb(e,t){return n=>Fb(e,t,n)}function Yb(e){return"number"===typeof e?Qb:"string"===typeof e?Nb(e)?Ub:Fv.test(e)?Wb:$b:Array.isArray(e)?Xb:"object"===typeof e?Fv.test(e)?Wb:Jb:Ub}function Xb(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>Yb(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Jb(e,t){const n=ot(ot({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Yb(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const $b=(e,t)=>{const n=Gv.createTransformer(t),r=qv(e),i=qv(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Gb.has(e)&&!i.values.length||Gb.has(t)&&!r.values.length?function(e,t){return Gb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Kb(Xb(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[s]=l,i[a]++}return r}(r,i),i.values),n):(vb(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Ub(e,t))};function Zb(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Fb(e,t,n);return Yb(e)(e,t)}function ex(e,t,n){const r=Math.max(t-5,0);return Gy(n-e(r),t-r)}const tx={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nx=.001;function rx(e){let t,n,{duration:r=tx.duration,bounce:i=tx.bounce,velocity:s=tx.velocity,mass:a=tx.mass}=e;vb(r<=ky(tx.maxDuration),"Spring duration must be 10 seconds or less");let o=1-i;o=vv(tx.minDamping,tx.maxDamping,o),r=vv(tx.minDuration,tx.maxDuration,Cy(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=sx(e,o),l=Math.exp(-n);return nx-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=sx(Math.pow(e,2),o);return(-t(e)+nx>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<ix;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=ky(r),isNaN(l))return{stiffness:tx.stiffness,damping:tx.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const ix=12;function sx(e,t){return e*Math.sqrt(1-t*t)}const ax=["duration","bounce"],ox=["stiffness","damping","mass"];function lx(e,t){return t.some(t=>void 0!==e[t])}function cx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tx.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tx.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=ot({velocity:tx.velocity,stiffness:tx.stiffness,damping:tx.damping,mass:tx.mass,isResolvedFromDuration:!1},e);if(!lx(e,ox)&&lx(e,ax))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*vv(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=ot(ot({},t),{},{mass:tx.mass,stiffness:i,damping:s})}else{const n=rx(e);t=ot(ot(ot({},t),n),{},{mass:tx.mass}),t.isResolvedFromDuration=!0}return t}(ot(ot({},n),{},{velocity:-Cy(n.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-s,y=Cy(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?tx.restSpeed.granular:tx.restSpeed.default),i||(i=v?tx.restDelta.granular:tx.restDelta.default),m<1){const e=sx(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)o.done=e>=d;else{let n=0;m<1&&(n=0===e?ky(p):ex(b,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(ty(x),ey),t=cy(t=>x.next(e*t).value,e,30);return e+"ms "+t}};return x}function ux(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,j;const S=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,j=cx({keyframes:[f.value,p(f.value)],velocity:ex(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&x(e),f)}}}const dx=av(.42,0,1,1),hx=av(0,0,.58,1),fx=av(.42,0,.58,1),px={linear:Ty,easeIn:dx,easeInOut:fx,easeOut:hx,circIn:fv,circInOut:mv,circOut:pv,backIn:uv,backInOut:dv,backOut:cv,anticipate:hv},mx=e=>{if(iy(e)){bb(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return av(t,n,r,i)}return"string"===typeof e?(bb(void 0!==px[e],"Invalid easing type '".concat(e,"'")),px[e]):e};function gx(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(bb(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||Zb,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Ty:t;n=Kb(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=ly(e[r],e[r+1],n);return o[r](i)};return n?t=>c(vv(e[0],e[s-1],t)):c}function yx(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ly(0,t,r);e.push(Fb(n,1,i))}}(t,e.length-1),t}function vx(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(mx):mx(i),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:yx(n),t),l=gx(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||fx).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const bx=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Ly.update(t,!0),stop:()=>Fy(t),now:()=>By.isProcessing?By.timestamp:qy.now()}},xx={decay:ux,inertia:ux,tween:vx,keyframes:vx,spring:cx},wx=e=>e/100;class jx extends Lb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||yb;this.resolver=new s(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,a=ny(t)?t:xx[t]||vx;let o,l;a!==vx&&"number"!==typeof e[0]&&(o=Kb(wx,Zb(e[0],e[1])),e=[0,100]);const c=a(ot(ot({},this.options),{},{keyframes:e}));"mirror"===i&&(l=a(ot(ot({},this.options),{},{keyframes:[...e].reverse(),velocity:-s}))),null===c.calculatedDuration&&(c.calculatedDuration=ty(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),v=vv(0,1,n)*u}const x=y?{done:!1,value:o[0]}:b.next(v);a&&(x.value=a(x.value));let{done:w}=x;y||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==r&&(x.value=Mb(o,this.options,r)),m&&m(x.value),j&&this.finish(),x}get duration(){const{resolved:e}=this;return e?Cy(e.calculatedDuration):0}get time(){return Cy(this.currentTime)}set time(e){e=ky(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Cy(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=bx,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Sx=new Set(["opacity","clipPath","filter","transform"]);const Nx=Yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ex=["onComplete","onUpdate","motionValue","element"],kx=["motionValue","onUpdate","onComplete","element"];const Cx={anticipate:hv,backInOut:dv,circInOut:mv};class Tx extends Lb{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new Ob(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:s,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;var c;if("string"===typeof i&&oy()&&i in Cx&&(i=Cx[i]),ny((c=this.options).type)||"spring"===c.type||!uy(c.ease)){const t=this.options,{onComplete:a,onUpdate:o,motionValue:l,element:c}=t,u=lt(t,Ex),d=function(e,t){const n=new jx(ot(ot({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,u);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,r=d.times,i=d.ease,s="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=fy(o,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(a.owner.current,o,e,ot(ot({},this.options),{},{duration:n,times:r,ease:i}));return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(ry(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(Mb(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Cy(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Cy(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=ky(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Ty;const{animation:n}=t;ry(n,e)}else this.pendingTimeline=e;return Ty}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:o,onComplete:l,element:c}=e,u=lt(e,kx),d=new jx(ot(ot({},u),{},{keyframes:n,duration:r,type:i,ease:s,times:a,isGenerator:!0})),h=ky(this.time);t.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Nx()&&n&&Sx.has(n)&&!o&&!l&&!r&&"mirror"!==i&&0!==s&&"inertia"!==a}}const _x={type:"spring",stiffness:500,damping:25,restSpeed:10},Ax={type:"keyframes",duration:.8},Ox={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Px=(e,t)=>{let{keyframes:n}=t;return n.length>2?Ax:Ay.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:_x:Ox},Ix=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Dx=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const o=Zg(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=ky(l);let u=ot(ot({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},o),{},{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=lt(e,Ix);return!!Object.keys(d).length})(o)||(u=ot(ot({},u),Px(e,u))),u.duration&&(u.duration=ky(u.duration)),u.repeatDelay&&(u.repeatDelay=ky(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(iv||Iy)&&(d=!0,u.duration=0,u.delay=0),d&&!s&&void 0!==t.get()){const e=Mb(u.keyframes,o);if(void 0!==e)return Ly.update(()=>{u.onUpdate(e),u.onComplete()}),new $g([])}return!s&&Tx.supports(u)?new Tx(u):new jx(u)}},Mx=["transition","transitionEnd"];function Rx(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Lx(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o}=t,l=lt(t,Mx);r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(s=e.latestValues[d])&&void 0!==s?s:null),r=l[d];if(void 0===r||u&&Rx(u,d))continue;const i=ot({delay:n},Zg(a||{},d));let o=!1;if(window.MotionHandoffAnimation){const t=rv(e);if(t){const e=window.MotionHandoffAnimation(t,d,Ly);null!==e&&(i.startTime=e,o=!0)}}ev(e,d),t.start(Dx(d,t,r,e.shouldReduceMotion&&Oy.has(d)?{type:!1}:i,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then(()=>{Ly.update(()=>{o&&function(e,t){let n=Kg(e,t)||{},{transitionEnd:r={},transition:i={}}=n,s=lt(n,Jy);s=ot(ot({},s),r);for(const a in s)$y(e,a,Py(s[a]))}(e,o)})}),c}function Fx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=Kg(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(Lx(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Bx).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(Fx(e,t,ot(ot({},s),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(n.delay)])}function Bx(e,t){return e.sortNodePosition(t)}const Ux=Qg.length;function Vx(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Vx(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Ux;n++){const r=Qg[n],i=e.props[r];(qg(i)||!1===i)&&(t[r]=i)}return t}const zx=["transition","transitionEnd"],qx=[...Gg].reverse(),Wx=Gg.length;function Hx(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>Fx(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=Fx(e,t,r);else{const i="function"===typeof t?Kg(e,t,r.custom):t;n=Promise.all(Lx(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function Kx(e){let t=Hx(e),n=Yx(),r=!0;const i=t=>(n,r)=>{var i;const s=Kg(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=lt(s,zx);n=ot(ot(ot({},n),r),t)}return n};function s(s){const{props:a}=e,o=Vx(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Wx;t++){const h=qx[t],f=n[h],p=void 0!==a[h]?a[h]:o[h],m=qg(p),g=h===s?f.isActive:null;!1===g&&(d=t);let y=p===o[h]&&p!==a[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=ot({},u),!f.isActive&&null===g||!p&&!f.prevProp||Ug(p)||"boolean"===typeof p)continue;const v=Gx(f.prevProp,p);let b=v||h===s&&f.isActive&&!y&&m||t>d&&m,x=!1;const w=Array.isArray(p)?p:[p];let j=w.reduce(i(h),{});!1===g&&(j={});const{prevResolvedValues:S={}}=f,N=ot(ot({},S),j),E=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=j[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Vg(t)&&Vg(n)?!zg(t,n):t!==n,r?void 0!==t&&null!==t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=j,f.isActive&&(u=ot(ot({},u),j)),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Yx(),r=!0}}}function Gx(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!zg(t,e)}function Qx(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yx(){return{animate:Qx(!0),whileInView:Qx(),whileHover:Qx(),whileTap:Qx(),whileDrag:Qx(),whileFocus:Qx(),exit:Qx()}}class Xx{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Jx=0;const $x={animation:{Feature:class extends Xx{constructor(e){super(e),e.animationState||(e.animationState=Kx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ug(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Xx{constructor(){super(...arguments),this.id=Jx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Zx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ew(e){return{point:{x:e.pageX,y:e.pageY}}}function tw(e,t,n,r){return Zx(e,t,(e=>t=>by(t)&&e(t,ew(t)))(n),r)}const nw=(e,t)=>Math.abs(e-t);class rw{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=aw(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=nw(e.x,t.x),r=nw(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=By;this.history.push(ot(ot({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=iw(t,this.transformPagePoint),Ly.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=aw("pointercancel"===e.type?this.lastMoveEventInfo:iw(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!by(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=iw(ew(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=By;this.history=[ot(ot({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,aw(s,this.history)),this.removeListeners=Kb(tw(this.contextWindow,"pointermove",this.handlePointerMove),tw(this.contextWindow,"pointerup",this.handlePointerUp),tw(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fy(this.updatePoint)}}function iw(e,t){return t?{point:t(e.point)}:e}function sw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function aw(e,t){let{point:n}=e;return{point:n,delta:sw(n,lw(t)),offset:sw(n,ow(t)),velocity:cw(t,.1)}}function ow(e){return e[0]}function lw(e){return e[e.length-1]}function cw(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=lw(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ky(t)));)n--;if(!r)return{x:0,y:0};const s=Cy(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uw(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function dw(e){return e.max-e.min}function hw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Fb(t.min,t.max,e.origin),e.scale=dw(n)/dw(t),e.translate=Fb(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function fw(e,t,n,r){hw(e.x,t.x,n.x,r?r.originX:void 0),hw(e.y,t.y,n.y,r?r.originY:void 0)}function pw(e,t,n){e.min=n.min+t.min,e.max=e.min+dw(t)}function mw(e,t,n){e.min=t.min-n.min,e.max=e.min+dw(t)}function gw(e,t,n){mw(e.x,t.x,n.x),mw(e.y,t.y,n.y)}function yw(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function vw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const bw=.35;function xw(e,t,n){return{min:ww(e,t),max:ww(e,n)}}function ww(e,t){return"number"===typeof e?e:e[t]||0}const jw=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Sw(e){return[e("x"),e("y")]}function Nw(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Ew(e){return void 0===e||1===e}function kw(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Ew(t)||!Ew(n)||!Ew(r)}function Cw(e){return kw(e)||Tw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Tw(e){return _w(e.x)||_w(e.y)}function _w(e){return e&&"0%"!==e}function Aw(e,t,n){return n+t*(e-n)}function Ow(e,t,n,r,i){return void 0!==i&&(e=Aw(e,i,r)),Aw(e,n,r)+t}function Pw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Ow(e.min,t,n,r,i),e.max=Ow(e.max,t,n,r,i)}function Iw(e,t){let{x:n,y:r}=t;Pw(e.x,n.translate,n.scale,n.originPoint),Pw(e.y,r.translate,r.scale,r.originPoint)}const Dw=.999999999999,Mw=1.0000000000001;function Rw(e,t){e.min=e.min+t,e.max=e.max+t}function Lw(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Pw(e,t,n,Fb(e.min,e.max,i),r)}function Fw(e,t){Lw(e.x,t.x,t.scaleX,t.scale,t.originX),Lw(e.y,t.y,t.scaleY,t.scale,t.originY)}function Bw(e,t){return Nw(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Uw=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Vw=new WeakMap;class zw{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new rw(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ew(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?py[s]?null:(py[s]=!0,()=>{py[s]=!1}):py.x||py.y?null:(py.x=py.y=!0,()=>{py.x=py.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sw(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Pv.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=dw(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Ly.postRender(()=>i(e,t)),ev(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Sw(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Uw(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Ly.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!qw(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Fb(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Fb(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&uw(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:yw(e.x,r,s),y:yw(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bw;return!1===e?e=0:!0===e&&(e=bw),{x:xw(e,"left","right"),y:xw(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sw(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!uw(e))return!1;const n=e.current;bb(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Bw(e,n),{scroll:i}=t;return i&&(Rw(r.x,i.offset.x),Rw(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:vw(e.x,t.x),y:vw(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Nw(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Sw(a=>{if(!qw(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=ot(ot({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ev(this.visualElement,e),n.start(Dx(e,n,0,t,this.visualElement,!1))}stopAnimation(){Sw(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sw(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Sw(t=>{const{drag:n}=this.getProps();if(!qw(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Fb(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!uw(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Sw(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=dw(e),i=dw(t);return i>r?n=ly(t.min,t.max-r,e.min):r>i&&(n=ly(e.min,e.max-i,t.min)),vv(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Sw(t=>{if(!qw(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Fb(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;Vw.set(this.visualElement,this);const e=tw(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();uw(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ly.read(t);const i=Zx(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Sw(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=bw,dragMomentum:a=!0}=e;return ot(ot({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function qw(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ww=e=>(t,n)=>{e&&Ly.postRender(()=>e(t,n))};const Hw=(0,i.createContext)({}),Kw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qw={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Iv.test(e))return e;e=parseFloat(e)}const n=Gw(e,t.target.x),r=Gw(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Yw={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=Gv.parse(e);if(s.length>5)return i;const a=Gv.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Fb(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}},Xw={};const{schedule:Jw,cancel:$w}=Ry(queueMicrotask,!1);class Zw extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=tj,Object.assign(Xw,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(ot(ot({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Kw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Ly.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ej(e){const[t,n]=Ge(),r=(0,i.useContext)(Be);return(0,Fe.jsx)(Zw,ot(ot({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Hw),isPresent:t,safeToRemove:n}))}const tj={borderRadius:ot(ot({},Qw),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Qw,borderTopRightRadius:Qw,borderBottomLeftRadius:Qw,borderBottomRightRadius:Qw,boxShadow:Yw};const nj=(e,t)=>e.depth-t.depth;class rj{constructor(){this.children=[],this.isDirty=!1}add(e){Wy(this.children,e),this.isDirty=!0}remove(e){Hy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nj),this.isDirty=!1,this.children.forEach(e)}}function ij(e,t){const n=qy.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(Fy(r),e(a-t))};return Ly.read(r,!0),()=>Fy(r)}function sj(e){const t=Zy(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const aj=["TopLeft","TopRight","BottomLeft","BottomRight"],oj=aj.length,lj=e=>"string"===typeof e?parseFloat(e):e,cj=e=>"number"===typeof e||Iv.test(e);function uj(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const dj=fj(0,.5,pv),hj=fj(.5,.95,Ty);function fj(e,t,n){return r=>r<e?0:r>t?1:n(ly(e,t,r))}function pj(e,t){e.min=t.min,e.max=t.max}function mj(e,t){pj(e.x,t.x),pj(e.y,t.y)}function gj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yj(e,t,n,r,i){return e=Aw(e-=t,1/n,r),void 0!==i&&(e=Aw(e,1/i,r)),e}function vj(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Pv.test(t)&&(t=parseFloat(t),t=Fb(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Fb(s.min,s.max,r);e===s&&(o-=t),e.min=yj(e.min,t,n,o,i),e.max=yj(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const bj=["x","scaleX","originX"],xj=["y","scaleY","originY"];function wj(e,t,n,r){vj(e.x,t,bj,n?n.x:void 0,r?r.x:void 0),vj(e.y,t,xj,n?n.y:void 0,r?r.y:void 0)}function jj(e){return 0===e.translate&&1===e.scale}function Sj(e){return jj(e.x)&&jj(e.y)}function Nj(e,t){return e.min===t.min&&e.max===t.max}function Ej(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kj(e,t){return Ej(e.x,t.x)&&Ej(e.y,t.y)}function Cj(e){return dw(e.x)/dw(e.y)}function Tj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _j{constructor(){this.members=[]}add(e){Wy(this.members,e),e.scheduleRender()}remove(e){if(Hy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Aj={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Oj="undefined"!==typeof window&&void 0!==window.MotionDebug,Pj=["","X","Y","Z"],Ij={visibility:"hidden"};let Dj=0;function Mj(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Rj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=rv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ly,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Rj(r)}function Lj(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Dj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oj&&(Aj.totalNodes=Aj.resolvedTargetDeltas=Aj.recalculatedProjection=0),this.nodes.forEach(Uj),this.nodes.forEach(Gj),this.nodes.forEach(Qj),this.nodes.forEach(Vj),Oj&&window.MotionDebug.record(Aj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new rj)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ky),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=ij(r,250),Kw.hasAnimatedSinceResize&&(Kw.hasAnimatedSinceResize=!1,this.nodes.forEach(Kj))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||eS,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!kj(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=ot(ot({},Zg(s,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Kj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fy(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yj),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(qj);this.isUpdating||this.nodes.forEach(Wj),this.isUpdating=!1,this.nodes.forEach(Hj),this.nodes.forEach(Fj),this.nodes.forEach(Bj),this.clearAllSnapshots();const e=qy.now();By.delta=vv(0,1e3/60,e-By.timestamp),By.timestamp=e,By.isProcessing=!0,Uy.update.process(By),Uy.preRender.process(By),Uy.render.process(By),By.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zj),this.sharedNodes.forEach(Xj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ly.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ly.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Sj(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Cw(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),rS((r=n).x),rS(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(sS))){const{scroll:e}=this.root;e&&(Rw(n.x,e.offset.x),Rw(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(mj(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&mj(n,e),Rw(n.x,i.offset.x),Rw(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};mj(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Fw(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Cw(e.latestValues)&&Fw(n,e.latestValues)}return Cw(this.latestValues)&&Fw(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};mj(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Cw(e.latestValues))continue;kw(e.latestValues)&&e.updateSnapshot();const r=jw();mj(r,e.measurePageBox()),wj(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Cw(this.latestValues)&&wj(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=ot(ot(ot({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==By.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=By.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},gw(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),mj(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,pw(a.x,o.x,l.x),pw(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):mj(this.target,this.layout.layoutBox),Iw(this.target,this.targetDelta)):mj(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},gw(this.relativeTargetOrigin,this.target,e.target),mj(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oj&&Aj.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!kw(this.parent.latestValues)&&!Tw(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===By.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;mj(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Fw(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Iw(e,a)),r&&Cw(s.latestValues)&&Fw(e,s.latestValues))}t.x<Mw&&t.x>Dw&&(t.x=1),t.y<Mw&&t.y>Dw&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(gj(this.prevProjectionDelta.x,this.projectionDelta.x),gj(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),fw(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&Tj(this.projectionDelta.x,this.prevProjectionDelta.x)&&Tj(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Oj&&Aj.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=ot({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Zj));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Jj(s.x,e.x,n),Jj(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gw(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){$j(e.x,t.x,n.x,r),$j(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return Nj(e.x,t.x)&&Nj(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),mj(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Fb(0,void 0!==n.opacity?n.opacity:1,dj(r)),e.opacityExit=Fb(void 0!==t.opacity?t.opacity:1,0,hj(r))):s&&(e.opacity=Fb(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<oj;a++){const i="border".concat(aj[a],"Radius");let s=uj(t,i),o=uj(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||cj(s)===cj(o)?(e[i]=Math.max(Fb(lj(s),lj(o),r),0),(Pv.test(o)||Pv.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Fb(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fy(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ly.update(()=>{Kw.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Zy(e)?e:Xy(e);return r.start(Dx("",r,t,n)),r.animation}(0,1e3,ot(ot({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&iS(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=dw(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=dw(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}mj(t,n),Fw(t,i),fw(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new _j);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Mj("z",e,r,this.animationValues);for(let i=0;i<Pj.length;i++)Mj("rotate".concat(Pj[i]),e,r,this.animationValues),Mj("skew".concat(Pj[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ij;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=sj(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=sj(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Cw(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||s||a)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),o&&(r+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+="scale(".concat(o,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Xw){if(void 0===a[c])continue;const{correct:e,applyTo:t}=Xw[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?sj(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(qj),this.root.sharedNodes.clear()}}}function Fj(e){e.updateLayout()}function Bj(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Sw(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=dw(r);r.min=t[e].min,r.max=r.min+i}):iS(i,n.layoutBox,t)&&Sw(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=dw(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};fw(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?fw(o,e.applyTransform(r,!0),n.measuredBox):fw(o,t,n.layoutBox);const l=!Sj(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};gw(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};gw(o,t,s.layoutBox),kj(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Uj(e){Oj&&Aj.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Vj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zj(e){e.clearSnapshot()}function qj(e){e.clearMeasurements()}function Wj(e){e.isLayoutDirty=!1}function Hj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Kj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Gj(e){e.resolveTargetDelta()}function Qj(e){e.calcProjection()}function Yj(e){e.resetSkewAndRotation()}function Xj(e){e.removeLeadSnapshot()}function Jj(e,t,n){e.translate=Fb(t.translate,0,n),e.scale=Fb(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $j(e,t,n,r){e.min=Fb(t.min,n.min,r),e.max=Fb(t.max,n.max,r)}function Zj(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const eS={duration:.45,ease:[.4,0,.1,1]},tS=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nS=tS("applewebkit/")&&!tS("chrome/")?Math.round:Ty;function rS(e){e.min=nS(e.min),e.max=nS(e.max)}function iS(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(Cj(t),Cj(n),.2)}function sS(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const aS=Lj({attachResizeListener:(e,t)=>Zx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oS={current:void 0},lS=Lj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oS.current){const e=new aS({});e.mount(window),e.setOptions({layoutScroll:!0}),oS.current=e}return oS.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),cS={pan:{Feature:class extends Xx{constructor(){super(...arguments),this.removePointerDownListener=Ty}onPointerDown(e){this.session=new rw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Uw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ww(e),onStart:Ww(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ly.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=tw(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Xx{constructor(e){super(e),this.removeGroupControls=Ty,this.removeListeners=Ty,this.controls=new zw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ty}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:lS,MeasureLayout:ej}};function uS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Ly.postRender(()=>i(t,ew(t)))}function dS(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Ly.postRender(()=>i(t,ew(t)))}const hS=["root"],fS=new WeakMap,pS=new WeakMap,mS=e=>{const t=fS.get(e.target);t&&t(e)},gS=e=>{e.forEach(mS)};function yS(e,t,n){const r=function(e){let{root:t}=e,n=lt(e,hS);const r=t||document;pS.has(r)||pS.set(r,{});const i=pS.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(gS,ot({root:t},n))),i[s]}(t);return fS.set(e,n),r.observe(e),()=>{fS.delete(e),r.unobserve(e)}}const vS={some:0,all:1};const bS={inView:{Feature:class extends Xx{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:vS[r]};return yS(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Xx{mount(){const{current:e}=this.node;e&&(this.unmount=Ey(e,e=>(dS(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return dS(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Xx{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(yQ){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kb(Zx(this.node.current,"focus",()=>this.onFocus()),Zx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Xx{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=gy(e,n),a=yy(e=>{const{target:n}=e,r=t(e);if("function"!==typeof r||!n)return;const s=yy(e=>{r(e),n.removeEventListener("pointerleave",s)});n.addEventListener("pointerleave",s,i)});return r.forEach(e=>{e.addEventListener("pointerenter",a,i)}),s}(e,e=>(uS(this.node,e,"Start"),e=>uS(this.node,e,"End"))))}unmount(){}}}},xS={layout:{ProjectionNode:lS,MeasureLayout:ej}},wS=(0,i.createContext)({strict:!1}),jS=(0,i.createContext)({});function SS(e){return Ug(e.animate)||Qg.some(t=>qg(e[t]))}function NS(e){return Boolean(SS(e)||e.variants)}function ES(e){const{initial:t,animate:n}=function(e,t){if(SS(e)){const{initial:t,animate:n}=e;return{initial:!1===t||qg(t)?t:void 0,animate:qg(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(jS));return(0,i.useMemo)(()=>({initial:t,animate:n}),[kS(t),kS(n)])}function kS(e){return Array.isArray(e)?e.join(" "):e}const CS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},TS={};for(const n in CS)TS[n]={isEnabled:e=>CS[n].some(t=>!!e[t])};const _S=Symbol.for("motionComponentSymbol");function AS(e,t,n){return(0,i.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):uw(n)&&(n.current=r))},[t])}function OS(e,t,n,r,s){var a,o;const{visualElement:l}=(0,i.useContext)(jS),c=(0,i.useContext)(wS),u=(0,i.useContext)(Ve),d=(0,i.useContext)(ze).reducedMotion,h=(0,i.useRef)(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const f=h.current,p=(0,i.useContext)(Hw);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:PS(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&uw(o),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,n,s,p);const m=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{f&&m.current&&f.update(n,u)});const g=n[nv],y=(0,i.useRef)(Boolean(g)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,g))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,g)));return Je(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Jw.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),(0,i.useEffect)(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),y.current=!1))}),f}function PS(e){if(e)return!1!==e.options.allowProjection?e.projection:PS(e.parent)}function IS(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:a}=e;var o,l;function c(e,t){let o;const l=ot(ot(ot({},(0,i.useContext)(ze)),e),{},{layoutId:DS(e)}),{isStatic:c}=l,u=ES(e),d=s(e,c);if(!c&&Xe){!function(){(0,i.useContext)(wS).strict;0}();const e=function(e){const{drag:t,layout:n}=TS;if(!t&&!n)return{};const r=ot(ot({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,u.visualElement=OS(a,d,l,n,e.ProjectionNode)}return(0,Fe.jsxs)(jS.Provider,{value:u,children:[o&&u.visualElement?(0,Fe.jsx)(o,ot({visualElement:u.visualElement},l)):null,r(a,e,AS(d,u.visualElement,t),d,c,u.visualElement)]})}t&&function(e){for(const t in e)TS[t]=ot(ot({},TS[t]),e[t])}(t),c.displayName="motion.".concat("string"===typeof a?a:"create(".concat(null!==(l=null!==(o=a.displayName)&&void 0!==o?o:a.name)&&void 0!==l?l:"",")"));const u=(0,i.forwardRef)(c);return u[_S]=a,u}function DS(e){let{layoutId:t}=e;const n=(0,i.useContext)(Be).id;return n&&void 0!==t?n+"-"+t:t}const MS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RS(e){return"string"===typeof e&&!e.includes("-")&&!!(MS.indexOf(e)>-1||/[A-Z]/.test(e))}const LS=["transitionEnd","transition"];const FS=e=>(t,n)=>{const r=(0,i.useContext)(jS),s=(0,i.useContext)(Ve),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onUpdate:a}=e;const o={latestValues:BS(t,n,r,i),renderState:s()};return a&&(o.onMount=e=>a(ot({props:t,current:e},o)),o.onUpdate=e=>a(e)),o}(e,t,r,s);return n?a():Ue(a)};function BS(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=sj(s[h]);let{initial:a,animate:o}=e;const l=SS(e),c=NS(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!Ug(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Hg(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=lt(r,LS);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const US=(e,t)=>t&&"number"===typeof e?t.transform(e):e,VS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zS=_y.length;function qS(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(Ay.has(l))a=!0;else if(jb(l))i[l]=e;else{const t=US(e,tb[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<zS;s++){const a=_y[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=US(o,tb[a]);l||(i=!1,r+="".concat(VS[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const WS={offset:"stroke-dashoffset",array:"stroke-dasharray"},HS={offset:"strokeDashoffset",array:"strokeDasharray"};function KS(e,t,n){return"string"===typeof e?e:Iv.transform(t+n*e)}const GS=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function QS(e,t,n,r){let{attrX:i,attrY:s,attrScale:a,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(qS(e,lt(t,GS),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:p}=e;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(void 0!==o||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){const r=KS(t,e.x,e.width),i=KS(n,e.y,e.height);return"".concat(r," ").concat(i)}(p,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==i&&(h.x=i),void 0!==s&&(h.y=s),void 0!==a&&(h.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?WS:HS;e[s.offset]=Iv.transform(-r);const a=Iv.transform(t),o=Iv.transform(n);e[s.array]="".concat(a," ").concat(o)}(h,c,u,d,!1)}const YS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),XS=()=>ot(ot({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),JS=e=>"string"===typeof e&&"svg"===e.toLowerCase();function $S(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const ZS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eN(e,t,n,r){$S(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ZS.has(i)?i:tv(i),t.attrs[i])}function tN(e,t){let{layout:n,layoutId:r}=t;return Ay.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Xw[e]||"opacity"===e)}function nN(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(Zy(i[a])||t.style&&Zy(t.style[a])||tN(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(s[a]=i[a]);return s}function rN(e,t,n){const r=nN(e,t,n);for(const i in e)if(Zy(e[i])||Zy(t[i])){r[-1!==_y.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const iN=["x","y","width","height","cx","cy","r"],sN={useVisualState:FS({scrapeMotionValuesFromProps:rN,createRenderState:XS,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:s}=e;if(!r)return;let a=!!t.drag;if(!a)for(const l in s)if(Ay.has(l)){a=!0;break}if(!a)return;let o=!n;if(n)for(let l=0;l<iN.length;l++){const e=iN[l];t[e]!==n[e]&&(o=!0)}o&&Ly.read(()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(yQ){t.dimensions={x:0,y:0,width:0,height:0}}}(r,i),Ly.render(()=>{QS(i,s,JS(r.tagName),t.transformTemplate),eN(r,i)})})}})},aN={useVisualState:FS({scrapeMotionValuesFromProps:nN,createRenderState:YS})};function oN(e,t,n){for(const r in t)Zy(t[r])||tN(r,n)||(e[r]=t[r])}function lN(e,t){const n={};return oN(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return qS(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function cN(e,t){const n={},r=lN(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const uN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dN(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uN.has(e)}let hN=e=>!dN(e);try{(fN=require("@emotion/is-prop-valid").default)&&(hN=e=>e.startsWith("on")?!dN(e):fN(e))}catch(vQ){}var fN;function pN(e,t,n,r){const s=(0,i.useMemo)(()=>{const n=XS();return QS(n,t,JS(r),e.transformTemplate),ot(ot({},n.attrs),{},{style:ot({},n.style)})},[t]);if(e.style){const t={};oN(t,e.style,e),s.style=ot(ot({},t),s.style)}return s}function mN(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,a)=>{let{latestValues:o}=s;const l=(RS(t)?pN:cN)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(hN(i)||!0===n&&dN(i)||!t&&!dN(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==i.Fragment?ot(ot(ot({},c),l),{},{ref:r}):{},{children:d}=n,h=(0,i.useMemo)(()=>Zy(d)?d.get():d,[d]);return(0,i.createElement)(t,ot(ot({},u),{},{children:h}))}}function gN(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return IS(ot(ot({},RS(n)?sN:aN),{},{preloadedFeatures:e,useRender:mN(r),createVisualElement:t,Component:n}))}}const yN={current:null},vN={current:!1};const bN=[..._b,Fv,Gv],xN=new WeakMap;const wN=["willChange"],jN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SN{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=qy.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ly.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget=ot({},l),this.initialValues=n.initial?ot({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=SS(n),this.isVariantNode=NS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=d,f=lt(d,wN);for(const p in f){const e=f[p];void 0!==l[p]&&Zy(e)&&e.set(l[p],!1)}}mount(e){this.current=e,xN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),vN.current||function(){if(vN.current=!0,Xe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yN.current=e.matches;e.addListener(t),t()}else yN.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||yN.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xN.delete(this.current),this.projection&&this.projection.unmount(),Fy(this.notifyUpdate),Fy(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ay.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Ly.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in TS){const t=TS[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<jN.length;n++){const t=jN[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Zy(i))e.addValue(r,i);else if(Zy(s))e.addValue(r,Xy(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Xy(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Xy(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(xb(r)||gv(r))?r=parseFloat(r):!(e=>bN.find(Tb(e)))(r)&&Gv.test(t)&&(r=ib(e,t)),this.setBaseTarget(e,Zy(r)?r.get():r)),Zy(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=Hg(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Zy(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Ky),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class NN extends SN{constructor(){super(...arguments),this.KeyframeResolver=Ob}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zy(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}class EN extends NN{constructor(){super(...arguments),this.type="html",this.renderInstance=$S}readValueFromInstance(e,t){if(Ay.has(t)){const e=rb(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(jb(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Bw(e,n)}build(e,t,n){qS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return nN(e,t,n)}}class kN extends NN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jw}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ay.has(t)){const e=rb(t);return e&&e.default||0}return t=ZS.has(t)?t:tv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return rN(e,t,n)}build(e,t,n){QS(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){eN(e,t,0,r)}mount(e){this.isSVGTag=JS(e.tagName),super.mount(e)}}const CN=(e,t)=>RS(e)?new kN(t):new EN(t,{allowProjection:e!==i.Fragment}),TN=Bg(gN(ot(ot(ot(ot({},$x),bS),cS),xS),CN));const _N=function(e){let{children:t}=e;return(0,Fe.jsx)(TN.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,ease:"easeOut"},children:t})};var AN,ON,PN;!function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(AN||(AN={})),function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(ON||(ON={})),function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(PN||(PN={}));const IN=["user","model","function","system"];var DN,MN,RN,LN,FN,BN,UN,VN;!function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(DN||(DN={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(MN||(MN={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(RN||(RN={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(LN||(LN={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(FN||(FN={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(BN||(BN={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(UN||(UN={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(VN||(VN={}));class zN extends Error{constructor(e){super("[GoogleGenerativeAI Error]: ".concat(e))}}class qN extends zN{constructor(e,t){super(e),this.response=t}}class WN extends zN{constructor(e,t,n,r){super(e),this.status=t,this.statusText=n,this.errorDetails=r}}class HN extends zN{}class KN extends zN{}var GN;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(GN||(GN={}));class QN{constructor(e,t,n,r,i){this.model=e,this.task=t,this.apiKey=n,this.stream=r,this.requestOptions=i}toString(){var e,t;const n=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta",r=(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com";let i="".concat(r,"/").concat(n,"/").concat(this.model,":").concat(this.task);return this.stream&&(i+="?alt=sse"),i}}async function YN(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(e){const t=[];return(null===e||void 0===e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("".concat("genai-js","/").concat("0.24.1")),t.join(" ")}(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(yQ){throw new HN("unable to convert customHeaders value ".concat(JSON.stringify(r)," to Headers: ").concat(yQ.message))}for(const[e,t]of r.entries()){if("x-goog-api-key"===e)throw new HN("Cannot set reserved header name ".concat(e));if("x-goog-api-client"===e)throw new HN("Header name ".concat(e," can only be set using the apiClient field"));n.append(e,t)}}return n}async function XN(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fetch;const{url:o,fetchOptions:l}=await async function(e,t,n,r,i,s){const a=new QN(e,t,n,r,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},JN(s)),{method:"POST",headers:await YN(a),body:i})}}(e,t,n,r,i,s);return async function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch;try{n=await r(e,t)}catch(yQ){!function(e,t){let n=e;"AbortError"===n.name?(n=new KN("Request aborted when fetching ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack):e instanceof WN||e instanceof HN||(n=new zN("Error fetching from ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack);throw n}(yQ,e)}n.ok||await async function(e,t){let n,r="";try{const t=await e.json();r=t.error.message,t.error.details&&(r+=" ".concat(JSON.stringify(t.error.details)),n=t.error.details)}catch(yQ){}throw new WN("Error fetching from ".concat(t.toString(),": [").concat(e.status," ").concat(e.statusText,"] ").concat(r),e.status,e.statusText,n)}(n,e);return n}(o,l,a)}function JN(e){const t={};if(void 0!==(null===e||void 0===e?void 0:e.signal)||(null===e||void 0===e?void 0:e.timeout)>=0){const n=new AbortController;(null===e||void 0===e?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),(null===e||void 0===e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function $N(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates."),tE(e.candidates[0]))throw new qN("".concat(nE(e)),e);return function(e){var t,n,r,i;const s=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const a of null===(i=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===i?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+"\n"+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}(e)}if(e.promptFeedback)throw new qN("Text not available. ".concat(nE(e)),e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),tE(e.candidates[0]))throw new qN("".concat(nE(e)),e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ZN(e)[0]}if(e.promptFeedback)throw new qN("Function call not available. ".concat(nE(e)),e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),tE(e.candidates[0]))throw new qN("".concat(nE(e)),e);return ZN(e)}if(e.promptFeedback)throw new qN("Function call not available. ".concat(nE(e)),e)},e}function ZN(e){var t,n,r,i;const s=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const a of null===(i=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===i?void 0:i.parts)a.functionCall&&s.push(a.functionCall);return s.length>0?s:void 0}const eE=[FN.RECITATION,FN.SAFETY,FN.LANGUAGE];function tE(e){return!!e.finishReason&&eE.includes(e.finishReason)}function nE(e){var t,n,r;let i="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(r=e.candidates)||void 0===r?void 0:r[0]){const t=e.candidates[0];tE(t)&&(i+="Candidate was blocked due to ".concat(t.finishReason),t.finishMessage&&(i+=": ".concat(t.finishMessage)))}}else i+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(i+=" due to ".concat(e.promptFeedback.blockReason)),(null===(n=e.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(i+=": ".concat(e.promptFeedback.blockReasonMessage));return i}function rE(e){return this instanceof rE?(this.v=e,this):new rE(e)}function iE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{!function(e){e.value instanceof rE?Promise.resolve(e.value.v).then(l,c):u(s[0][2],e)}(i[e](t))}catch(yQ){u(s[0][3],yQ)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}"function"===typeof SuppressedError&&SuppressedError;const sE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function aE(e){const t=function(e){const t=e.getReader(),n=new ReadableStream({start(e){let n="";return r();function r(){return t.read().then(t=>{let{value:i,done:s}=t;if(s)return n.trim()?void e.error(new zN("Failed to parse stream")):void e.close();n+=i;let a,o=n.match(sE);for(;o;){try{a=JSON.parse(o[1])}catch(yQ){return void e.error(new zN('Error parsing JSON response: "'.concat(o[1],'"')))}e.enqueue(a),n=n.substring(o[0].length),o=n.match(sE)}return r()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new KN("Request aborted when reading from the stream"):new zN("Error reading from the stream"),t})}}});return n}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[n,r]=t.tee();return{stream:lE(n),response:oE(r)}}async function oE(e){const t=[],n=e.getReader();for(;;){const{done:e,value:r}=await n.read();if(e)return $N(cE(t));t.push(r)}}function lE(e){return iE(this,arguments,function*(){const t=e.getReader();for(;;){const{value:e,done:n}=yield rE(t.read());if(n)break;yield yield rE($N(e))}})}function cE(e){const t=e[e.length-1],n={promptFeedback:null===t||void 0===t?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let e=0;for(const t of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=t.citationMetadata,n.candidates[e].groundingMetadata=t.groundingMetadata,n.candidates[e].finishReason=t.finishReason,n.candidates[e].finishMessage=t.finishMessage,n.candidates[e].safetyRatings=t.safetyRatings,t.content&&t.content.parts){n.candidates[e].content||(n.candidates[e].content={role:t.content.role||"user",parts:[]});const r={};for(const i of t.content.parts)i.text&&(r.text=i.text),i.functionCall&&(r.functionCall=i.functionCall),i.executableCode&&(r.executableCode=i.executableCode),i.codeExecutionResult&&(r.codeExecutionResult=i.codeExecutionResult),0===Object.keys(r).length&&(r.text=""),n.candidates[e].content.parts.push(r)}e++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function uE(e,t,n,r){return aE(await XN(t,GN.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r))}async function dE(e,t,n,r){const i=await XN(t,GN.GENERATE_CONTENT,e,!1,JSON.stringify(n),r);return{response:$N(await i.json())}}function hE(e){if(null!=e)return"string"===typeof e?{role:"system",parts:[{text:e}]}:e.text?{role:"system",parts:[e]}:e.parts?e.role?e:{role:"system",parts:e.parts}:void 0}function fE(e){let t=[];if("string"===typeof e)t=[{text:e}];else for(const n of e)"string"===typeof n?t.push({text:n}):t.push(n);return function(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),i=!0):(t.parts.push(s),r=!0);if(r&&i)throw new zN("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new zN("No content is provided for sending chat message.");if(r)return t;return n}(t)}function pE(e){let t;if(e.contents)t=e;else{t={contents:[fE(e)]}}return e.systemInstruction&&(t.systemInstruction=hE(e.systemInstruction)),t}const mE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],gE={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function yE(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===n)return!1;if(void 0===n.parts||0===n.parts.length)return!1;for(const r of n.parts){if(void 0===r||0===Object.keys(r).length)return!1;if(void 0!==r.text&&""===r.text)return!1}return!0}const vE="SILENT_ERROR";class bE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.model=t,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null===n||void 0===n?void 0:n.history)&&(!function(e){let t=!1;for(const n of e){const{role:e,parts:r}=n;if(!t&&"user"!==e)throw new zN("First content should be with role 'user', got ".concat(e));if(!IN.includes(e))throw new zN("Each item should include role field. Got ".concat(e," but valid roles are: ").concat(JSON.stringify(IN)));if(!Array.isArray(r))throw new zN("Content should have 'parts' property with an array of Parts");if(0===r.length)throw new zN("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const t of r)for(const e of mE)e in t&&(i[e]+=1);const s=gE[e];for(const t of mE)if(!s.includes(t)&&i[t]>0)throw new zN("Content with role '".concat(e,"' can't contain '").concat(t,"' part"));t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i,s,a,o;await this._sendPromise;const l=fE(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(s=this.params)||void 0===s?void 0:s.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(o=this.params)||void 0===o?void 0:o.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t);let d;return this._sendPromise=this._sendPromise.then(()=>dE(this._apiKey,this.model,c,u)).then(e=>{var t;if(yE(e.response)){this._history.push(l);const n=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(n)}else{const t=nE(e.response);t&&console.warn("sendMessage() was unsuccessful. ".concat(t,". Inspect response object for details."))}d=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,d}async sendMessageStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i,s,a,o;await this._sendPromise;const l=fE(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(s=this.params)||void 0===s?void 0:s.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(o=this.params)||void 0===o?void 0:o.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t),d=uE(this._apiKey,this.model,c,u);return this._sendPromise=this._sendPromise.then(()=>d).catch(e=>{throw new Error(vE)}).then(e=>e.response).then(e=>{if(yE(e)){this._history.push(l);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=nE(e);t&&console.warn("sendMessageStream() was unsuccessful. ".concat(t,". Inspect response object for details."))}}).catch(e=>{e.message!==vE&&console.error(e)}),d}}class xE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model="models/".concat(t.model),this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=hE(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=pE(e),i=Object.assign(Object.assign({},this._requestOptions),t);return dE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),i)}async generateContentStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=pE(e),i=Object.assign(Object.assign({},this._requestOptions),t);return uE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),i)}startChat(e){var t;return new bE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){var n;let r={model:null===t||void 0===t?void 0:t.model,generationConfig:null===t||void 0===t?void 0:t.generationConfig,safetySettings:null===t||void 0===t?void 0:t.safetySettings,tools:null===t||void 0===t?void 0:t.tools,toolConfig:null===t||void 0===t?void 0:t.toolConfig,systemInstruction:null===t||void 0===t?void 0:t.systemInstruction,cachedContent:null===(n=null===t||void 0===t?void 0:t.cachedContent)||void 0===n?void 0:n.name,contents:[]};const i=null!=e.generateContentRequest;if(e.contents){if(i)throw new HN("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const t=fE(e);r.contents=[t]}return{generateContentRequest:r}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await XN(t,GN.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async embedContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){if("string"===typeof e||Array.isArray(e))return{content:fE(e)};return e}(e),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await XN(t,GN.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async batchEmbedContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){const i=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await XN(t,GN.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}(this.apiKey,this.model,e,n)}}class wE{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new zN("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new xE(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new HN("Cached content must contain a `name` field.");if(!e.model)throw new HN("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const s of r)if((null===t||void 0===t?void 0:t[s])&&e[s]&&(null===t||void 0===t?void 0:t[s])!==e[s]){if("model"===s){if((t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue}throw new HN('Different value for "'.concat(s,'" specified in modelParams')+" (".concat(t[s],") and cachedContent (").concat(e[s],")"))}const i=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new xE(this.apiKey,i,n)}}const jE=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),c=(0,i.useRef)(null),u=(0,i.useRef)(null),[d,h]=(0,i.useState)(null),f=new wE("AIzaSyBBxZLjru3yDvqQ3MGtA1gPcziVGXq4dAI");(0,i.useEffect)(()=>{(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[n]),(0,i.useEffect)(()=>{e&&u.current&&u.current.focus()},[e]);const p=async()=>{if(!s.trim()||o)return;const e=s.trim();a(""),r(t=>[...t,{type:"user",content:e}]),l(!0);try{const t=await(async()=>{if(d)return d;try{const e=await fetch("/disaster_dataset.json"),t=await e.json();return h(t),t}catch(e){return console.error("Error loading disaster dataset:",e),null}})();if(!t)return r(e=>[...e,{type:"bot",content:"Sorry, I cannot access the disaster preparedness database at the moment. Please try again later."}]),void l(!1);const n=t?Object.keys(t).slice(0,10).map(e=>"".concat(e,": ").concat(JSON.stringify(t[e]).substring(0,200),"...")).join("\n"):"No dataset available",i="You are a disaster preparedness assistant for students. Help with safety questions using this data:\n\n".concat(n,"\n\nGuidelines:\n- Answer in friendly, clear language\n- Use bullet points for steps\n- Keep responses concise (under 200 words)\n- If unsure, say \"I don't have that specific information, but here's general advice...\"\n\nQuestion: ").concat(e),s=f.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}),a=await s.generateContent(i),o=(await a.response).text();r(e=>[...e,{type:"bot",content:o}])}catch(p){var t,n,i,c,u;console.error("Error generating response:",p);let e="Sorry, I encountered an error while processing your request. Please try again.";null!==(t=p.message)&&void 0!==t&&t.includes("quota")||null!==(n=p.message)&&void 0!==n&&n.includes("rate limit")?e="I'm getting too many requests right now. Please wait a moment and try again.":null!==(i=p.message)&&void 0!==i&&i.includes("API key")?e="There's an issue with my configuration. Please contact support.":(null!==(c=p.message)&&void 0!==c&&c.includes("network")||null!==(u=p.message)&&void 0!==u&&u.includes("fetch"))&&(e="I'm having trouble connecting. Please check your internet and try again."),r(t=>[...t,{type:"bot",content:e}])}finally{l(!1)}},m=()=>{t(!e)};return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:m,style:{position:"fixed",bottom:"24px",right:"24px",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#2563eb",color:"white",border:"none",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#1d4ed8",onMouseLeave:e=>e.target.style.backgroundColor="#2563eb","aria-label":"Open chatbot",children:(0,Fe.jsx)("svg",{width:"36",height:"36",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&(0,Fe.jsxs)("div",{style:{position:"fixed",bottom:"100px",right:"24px",width:"350px",maxHeight:"75vh",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:1e3,display:"flex",flexDirection:"column",border:"1px solid #e5e7eb"},children:[(0,Fe.jsxs)("div",{style:{backgroundColor:"#2563eb",color:"white",padding:"16px",borderRadius:"12px 12px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("h3",{style:{margin:0,fontWeight:"600",fontSize:"16px"},children:"Disaster Preparedness Assistant"}),(0,Fe.jsx)("button",{onClick:m,style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"4px"},"aria-label":"Close chatbot",children:(0,Fe.jsx)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"16px",maxHeight:"400px",display:"flex",flexDirection:"column",gap:"12px"},children:[0===n.length&&(0,Fe.jsxs)("div",{style:{textAlign:"center",color:"#6b7280",fontSize:"14px"},children:[(0,Fe.jsx)("p",{style:{margin:"0 0 4px 0"},children:"\ud83d\udc4b Hi! I'm your disaster preparedness assistant."}),(0,Fe.jsx)("p",{style:{margin:0},children:"Ask me anything about disaster safety and preparedness!"})]}),n.map((e,t)=>(0,Fe.jsx)("div",{style:{display:"flex",justifyContent:"user"===e.type?"flex-end":"flex-start"},children:(0,Fe.jsx)("div",{style:{maxWidth:"80%",padding:"12px",borderRadius:"8px",backgroundColor:"user"===e.type?"#2563eb":"#f3f4f6",color:"user"===e.type?"white":"#1f2937"},children:(0,Fe.jsx)("p",{style:{margin:0,fontSize:"14px",whiteSpace:"pre-wrap"},children:e.content})})},t)),o&&(0,Fe.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:(0,Fe.jsx)("div",{style:{backgroundColor:"#f3f4f6",color:"#1f2937",padding:"12px",borderRadius:"8px"},children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,Fe.jsx)("div",{style:{width:"8px",height:"8px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1s infinite"}}),(0,Fe.jsx)("div",{style:{width:"8px",height:"8px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1s infinite 0.1s"}}),(0,Fe.jsx)("div",{style:{width:"8px",height:"8px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1s infinite 0.2s"}})]})})}),(0,Fe.jsx)("div",{ref:c})]}),(0,Fe.jsx)("div",{style:{padding:"16px",borderTop:"1px solid #e5e7eb"},children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",width:"100%",boxSizing:"border-box"},children:[(0,Fe.jsx)("input",{ref:u,type:"text",value:s,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p())},placeholder:"Ask about disaster preparedness...",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",minWidth:0,boxSizing:"border-box"},disabled:o}),(0,Fe.jsx)("button",{onClick:p,disabled:!s.trim()||o,style:{padding:"8px 12px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",opacity:!s.trim()||o?.5:1,whiteSpace:"nowrap",flexShrink:0,boxSizing:"border-box"},children:"Send"})]})})]}),(0,Fe.jsx)("style",{children:"\n          @keyframes bounce {\n            0%, 20%, 50%, 80%, 100% {\n              transform: translateY(0);\n            }\n            40% {\n              transform: translateY(-10px);\n            }\n            60% {\n              transform: translateY(-5px);\n            }\n          }\n        "})]})},SE=Object.create(null);SE.open="0",SE.close="1",SE.ping="2",SE.pong="3",SE.message="4",SE.upgrade="5",SE.noop="6";const NE=Object.create(null);Object.keys(SE).forEach(e=>{NE[SE[e]]=e});const EE={type:"error",data:"parser error"},kE="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),CE="function"===typeof ArrayBuffer,TE=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,_E=(e,t,n)=>{let{type:r,data:i}=e;return kE&&i instanceof Blob?t?n(i):AE(i,n):CE&&(i instanceof ArrayBuffer||TE(i))?t?n(i):AE(new Blob([i]),n):n(SE[r]+(i||""))},AE=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function OE(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let PE;const IE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DE="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)DE[IE.charCodeAt(n)]=n;const ME="function"===typeof ArrayBuffer,RE=(e,t)=>{if("string"!==typeof e)return{type:"message",data:FE(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:LE(e.substring(1),t)};return NE[n]?e.length>1?{type:NE[n],data:e.substring(1)}:{type:NE[n]}:EE},LE=(e,t)=>{if(ME){const n=(e=>{let t,n,r,i,s,a=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=DE[e.charCodeAt(t)],r=DE[e.charCodeAt(t+1)],i=DE[e.charCodeAt(t+2)],s=DE[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c})(e);return FE(n,t)}return{base64:!0,data:e}},FE=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,BE=String.fromCharCode(30);function UE(){return new TransformStream({transform(e,t){!function(e,t){kE&&e.data instanceof Blob?e.data.arrayBuffer().then(OE).then(t):CE&&(e.data instanceof ArrayBuffer||TE(e.data))?t(OE(e.data)):_E(e,!1,e=>{PE||(PE=new TextEncoder),t(PE.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let VE;function zE(e){return e.reduce((e,t)=>e+t.length,0)}function qE(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function WE(e){if(e)return function(e){for(var t in WE.prototype)e[t]=WE.prototype[t];return e}(e)}WE.prototype.on=WE.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},WE.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},WE.prototype.off=WE.prototype.removeListener=WE.prototype.removeAllListeners=WE.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},WE.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},WE.prototype.emitReserved=WE.prototype.emit,WE.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},WE.prototype.hasListeners=function(e){return!!this.listeners(e).length};const HE="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),KE="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function GE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const QE=KE.setTimeout,YE=KE.clearTimeout;function XE(e,t){t.useNativeTimers?(e.setTimeoutFn=QE.bind(KE),e.clearTimeoutFn=YE.bind(KE)):(e.setTimeoutFn=KE.setTimeout.bind(KE),e.clearTimeoutFn=KE.clearTimeout.bind(KE))}function JE(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function $E(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ZE extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ek extends WE{constructor(e){super(),this.writable=!1,XE(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new ZE(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=RE(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class tk extends ek{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(BE),r=[];for(let i=0;i<n.length;i++){const e=RE(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,s)=>{_E(e,!1,e=>{r[s]=e,++i===n&&t(r.join(BE))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=$E()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let nk=!1;try{nk="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(bQ){}const rk=nk;function ik(){}class sk extends tk{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class ak extends WE{constructor(e,t,n){super(),this.createRequest=e,XE(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=GE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(yQ){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(yQ){}try{n.setRequestHeader("Accept","*/*")}catch(yQ){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(yQ){return void this.setTimeoutFn(()=>{this._onError(yQ)},0)}"undefined"!==typeof document&&(this._index=ak.requestsCount++,ak.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ik,e)try{this._xhr.abort()}catch(yQ){}"undefined"!==typeof document&&delete ak.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(ak.requestsCount=0,ak.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",ok);else if("function"===typeof addEventListener){addEventListener("onpagehide"in KE?"pagehide":"unload",ok,!1)}function ok(){for(let e in ak.requests)ak.requests.hasOwnProperty(e)&&ak.requests[e].abort()}const lk=function(){const e=ck({xdomain:!1});return e&&null!==e.responseType}();function ck(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||rk))return new XMLHttpRequest}catch(yQ){}if(!t)try{return new(KE[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(yQ){}}const uk="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class dk extends ek{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=uk?{}:GE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(bQ){return this.emitReserved("error",bQ)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;_E(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(yQ){}r&&HE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=$E()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const hk=KE.WebSocket||KE.MozWebSocket;const fk={websocket:class extends dk{createSocket(e,t,n){return uk?new hk(e,t,n):t?new hk(e,t):new hk(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends ek{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(bQ){return this.emitReserved("error",bQ)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){VE||(VE=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(0===r){if(zE(n)<1)break;const e=qE(n,1);s=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(zE(n)<2)break;const e=qE(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(zE(n)<8)break;const e=qE(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(EE);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(zE(n)<i)break;const e=qE(n,i);o.enqueue(RE(s?e:VE.decode(e),t)),r=0}if(0===i||i>e){o.enqueue(EE);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=UE();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&HE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends sk{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=lk&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new ak(ck,this.uri(),e)}}},pk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gk(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=pk.exec(e||""),s={},a=14;for(;a--;)s[mk[a]]=i[a]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,s.query),s}const yk="function"===typeof addEventListener&&"function"===typeof removeEventListener,vk=[];yk&&addEventListener("offline",()=>{vk.forEach(e=>e())},!1);class bk extends WE{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=gk(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=gk(t.host).host);XE(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),yk&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vk.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&bk.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",bk.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=JE(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,HE(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(bk.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yk&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=vk.indexOf(this._offlineEventListener);-1!==e&&vk.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}bk.protocol=4;class xk extends bk{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;bk.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;bk.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",a),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",a),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class wk extends xk{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>fk[e]).filter(e=>!!e)),super(e,t)}}const jk="function"===typeof ArrayBuffer,Sk=Object.prototype.toString,Nk="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Sk.call(Blob),Ek="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Sk.call(File);function kk(e){return jk&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Nk&&e instanceof Blob||Ek&&e instanceof File}function Ck(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Ck(e[t]))return!0;return!1}if(kk(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Ck(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ck(e[n]))return!0;return!1}function Tk(e){const t=[],n=e.data,r=e;return r.data=_k(n,t),r.attachments=t.length,{packet:r,buffers:t}}function _k(e,t){if(!e)return e;if(kk(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=_k(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=_k(e[r],t));return n}return e}function Ak(e,t){return e.data=Ok(e.data,t),delete e.attachments,e}function Ok(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ok(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ok(e[n],t));return e}const Pk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ik=5;var Dk;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Dk||(Dk={}));class Mk{constructor(e){this.replacer=e}encode(e){return e.type!==Dk.EVENT&&e.type!==Dk.ACK||!Ck(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Dk.EVENT?Dk.BINARY_EVENT:Dk.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Dk.BINARY_EVENT&&e.type!==Dk.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Tk(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Rk(e){return"[object Object]"===Object.prototype.toString.call(e)}class Lk extends WE{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Dk.BINARY_EVENT;n||t.type===Dk.BINARY_ACK?(t.type=n?Dk.EVENT:Dk.ACK,this.reconstructor=new Fk(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!kk(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Dk[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Dk.BINARY_EVENT||n.type===Dk.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Lk.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(yQ){return!1}}static isPayloadValid(e,t){switch(e){case Dk.CONNECT:return Rk(t);case Dk.DISCONNECT:return void 0===t;case Dk.CONNECT_ERROR:return"string"===typeof t||Rk(t);case Dk.EVENT:case Dk.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Pk.indexOf(t[0]));case Dk.ACK:case Dk.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Fk{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Ak(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Bk(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Uk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Vk extends WE{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Bk(e,"open",this.onopen.bind(this)),Bk(e,"packet",this.onpacket.bind(this)),Bk(e,"error",this.onerror.bind(this)),Bk(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Uk.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:Dk.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),a=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];n(null,...s)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Dk.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Dk.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Dk.EVENT:case Dk.BINARY_EVENT:this.onevent(e);break;case Dk.ACK:case Dk.BINARY_ACK:this.onack(e);break;case Dk.DISCONNECT:this.ondisconnect();break;case Dk.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t.packet({type:Dk.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Dk.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function zk(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}zk.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},zk.prototype.reset=function(){this.attempts=0},zk.prototype.setMin=function(e){this.ms=e},zk.prototype.setMax=function(e){this.max=e},zk.prototype.setJitter=function(e){this.jitter=e};class qk extends WE{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,XE(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new zk({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new wk(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Bk(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=Bk(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Bk(e,"ping",this.onping.bind(this)),Bk(e,"data",this.ondata.bind(this)),Bk(e,"error",this.onerror.bind(this)),Bk(e,"close",this.onclose.bind(this)),Bk(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(yQ){this.onclose("parse error",yQ)}}ondecoded(e){HE(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Vk(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Wk={};function Hk(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=gk(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=Wk[i]&&s in Wk[i].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?o=new qk(r,t):(Wk[i]||(Wk[i]=new qk(r,t)),o=Wk[i]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Hk,{Manager:qk,Socket:Vk,io:Hk,connect:Hk});const Kk=new class{constructor(){this.socket=null,this.isConnected=!1}connect(){if(!this.socket){const e=({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api").replace("/api","");this.socket=Hk(e),this.socket.on("connect",()=>{console.log("\u2705 Connected to real-time server"),this.isConnected=!0}),this.socket.on("disconnect",()=>{console.log("\u274c Disconnected from real-time server"),this.isConnected=!1})}return this.socket}joinRole(e){this.socket&&this.socket.emit("join-role",e)}joinInstitution(e){this.socket&&this.socket.emit("join-institution",e)}onNewAlert(e){this.socket&&this.socket.on("newAlert",e)}onNewDrillAnnouncement(e){this.socket&&this.socket.on("newDrillAnnouncement",e)}onNewEmergencyAlert(e){this.socket&&this.socket.on("newEmergencyAlert",e)}onNewModuleAssignment(e){this.socket&&this.socket.on("moduleAssigned",e)}onNewDrillConfirmation(e){this.socket&&this.socket.on("drillConfirmed",e)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1)}};const Gk=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(Notification.permission);(0,i.useEffect)(()=>(Kk.connect(),Kk.onNewAlert(e=>{s({id:Date.now(),type:"alert",title:"Emergency Alert: ".concat(e.title),message:e.description,severity:e.severity,alertType:e.alertType,region:e.region,timestamp:new Date})}),Kk.onNewDrillAnnouncement(e=>{s({id:Date.now(),type:"drill_announcement",title:"Drill Announcement: ".concat(e.title),message:e.message,drillType:e.drillType,priority:e.priority,teacherName:e.teacherName,timestamp:new Date})}),Kk.onNewEmergencyAlert(e=>{s({id:Date.now(),type:"emergency_alert",title:"Emergency Alert: ".concat(e.title),message:e.message,severity:e.severity,region:e.region,timestamp:new Date})}),()=>{Kk.disconnect()}),[]);const s=e=>{t(t=>[e,...t]),setTimeout(()=>{a(e.id)},1e4)},a=e=>{t(t=>t.filter(t=>t.id!==e))},o=(e,t)=>{if("emergency_alert"===e)return"\ufffd\ufffd";if("drill_announcement"===e){return{fire:"\ud83d\udd25",earthquake:"\ud83c\udf0d",flood:"\ufffd\ufffd",evacuation:"\ud83d\udea8"}[t]||"\ud83d\udce2"}return"\ufffd\ufffd"};return 0===e.length?null:(0,Fe.jsxs)("div",{className:"position-fixed top-0 end-0 p-3",style:{zIndex:1050},children:[e.map(e=>{return(0,Fe.jsx)("div",{className:"alert alert-".concat((t=e.priority||"normal",{low:"success",normal:"warning",high:"danger"}[t]||"warning")," alert-dismissible fade show mb-2 shadow"),role:"alert",style:{minWidth:"300px",maxWidth:"400px"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:o(e.type,e.drillType)})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"alert-heading mb-1",children:e.title}),(0,Fe.jsx)("p",{className:"mb-1 small",children:e.message}),(0,Fe.jsxs)("small",{className:"text-muted",children:[e.teacherName&&"From: ".concat(e.teacherName," \u2022 "),e.timestamp.toLocaleTimeString()]})]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>a(e.id)})]})},e.id);var t}),"default"===n&&(0,Fe.jsx)("div",{className:"alert alert-info alert-dismissible fade show mb-2 shadow",style:{minWidth:"300px"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-bell"}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"alert-heading mb-1",children:"Enable Notifications"}),(0,Fe.jsx)("p",{className:"mb-2 small",children:"Get real-time alerts and announcements."}),(0,Fe.jsx)("button",{className:"btn btn-primary btn-sm",onClick:async()=>{if("Notification"in window){const e=await Notification.requestPermission();r(e),"granted"===e&&new Notification("Notifications Enabled",{body:"You will now receive real-time alerts and announcements.",icon:"/favicon.ico"})}},children:"Enable Notifications"})]})]})})]})};const Qk=function(e){let{userRole:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>(f(),Kk.connect(),Kk.onNewDrillAnnouncement(e=>{r(t=>[e,...t])}),Kk.onNewEmergencyAlert(e=>{a(t=>[e,...t])}),()=>{Kk.disconnect()}),[]);const f=async()=>{try{l(!0);const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",t=await fetch("".concat(e,"/drill-announcements")),n=await t.json();n.success&&r(n.data.announcements);const i=await fetch("".concat(e,"/emergency-alerts")),s=await i.json();s.success&&a(s.data.alerts)}catch(e){console.error("Error loading announcements:",e)}finally{l(!1)}},p=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading announcements..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsxs)("h5",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-bell text-warning"}),"Drill Announcements"]}),0===n.length?(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-4",children:[(0,Fe.jsx)("i",{className:"bi bi-bell-slash text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No drill announcements"})]})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(c?n:n.slice(0,2)).map((e,t)=>{return(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsx)("div",{className:"card border-warning",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-warning-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:(r=e.drillType,{fire:"\ud83d\udd25",earthquake:"\ud83c\udf0d",flood:"\ud83c\udf0a",evacuation:"\ud83d\udea8"}[r]||"\ufffd\ufffd")})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold",children:e.title}),(0,Fe.jsx)("span",{className:"badge bg-".concat((n=e.priority||"normal",{low:"success",normal:"warning",high:"danger"}[n]||"warning")),children:e.priority||"normal"})]}),(0,Fe.jsx)("p",{className:"card-text text-muted small mb-2",children:e.message}),(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-person me-1"}),e.teacherName||"Teacher",(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),p(e.createdAt)]})})]})]})})})},e._id||t);var n,r}),n.length>2&&(0,Fe.jsx)("div",{className:"col-12 text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>u(!c),children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",n.length-2," more)"]})})})]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsxs)("h5",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle text-danger"}),"Emergency Alerts"]}),0===s.length?(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-4",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No emergency alerts"})]})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(d?s:s.slice(0,2)).map((e,t)=>(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsx)("div",{className:"card border-danger",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-danger-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:"\ud83d\udea8"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold text-danger",children:e.title}),(0,Fe.jsx)("span",{className:"badge bg-danger",children:"Emergency"})]}),(0,Fe.jsx)("p",{className:"card-text text-muted small mb-2",children:e.message}),(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-geo-alt me-1"}),e.region,(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),p(e.createdAt)]})})]})]})})})},e._id||t)),s.length>2&&(0,Fe.jsx)("div",{className:"col-12 text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>h(!d),children:d?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",s.length-2," more)"]})})})]})]})]})};function Yk(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Yk(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Xk=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Yk(e))&&(r&&(r+=" "),r+=t);return r},Jk=["theme","type"],$k=["delay","staleId"],Zk=e=>"number"==typeof e&&!isNaN(e),eC=e=>"string"==typeof e,tC=e=>"function"==typeof e,nC=e=>eC(e)||tC(e)?e:null,rC=e=>(0,i.isValidElement)(e)||eC(e)||tC(e)||Zk(e);function iC(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:a=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=e;const f=r?"".concat(t,"--").concat(l):t,p=r?"".concat(n,"--").concat(l):n,m=(0,i.useRef)(0);return(0,i.useLayoutEffect)(()=>{const e=d.current,t=f.split(" "),n=r=>{r.target===d.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,i.useEffect)(()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,u,a):u()};h||(c?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[h]),i.createElement(i.Fragment,null,o)}}function sC(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const aC={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},oC=e=>{let{theme:t,type:n}=e,r=lt(e,Jk);return i.createElement("svg",ot({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},r))},lC={info:function(e){return i.createElement(oC,ot({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(oC,ot({},e),i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(oC,ot({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(oC,ot({},e),i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function cC(e){const[,t]=(0,i.useReducer)(e=>e+1,0),[n,r]=(0,i.useState)([]),s=(0,i.useRef)(null),a=(0,i.useRef)(new Map).current,o=e=>-1!==n.indexOf(e),l=(0,i.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:e=>a.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function u(e){r(t=>null==e?[]:t.filter(t=>t!==e))}function d(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();f(e,t,n)}function h(e,n){let{delay:r,staleId:o}=n,c=lt(n,$k);if(!rC(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||a.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:h,updateId:p,data:m}=c,{props:g}=l,y=()=>u(h),v=null==p;v&&l.count++;const b=ot(ot(ot({},g),{},{style:g.toastStyle,key:l.toastKey++},Object.fromEntries(Object.entries(c).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:h,updateId:p,data:m,closeToast:y,isIn:!1,className:nC(c.className||g.toastClassName),bodyClassName:nC(c.bodyClassName||g.bodyClassName),progressClassName:nC(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(x=c.autoClose,w=g.autoClose,!1===x||Zk(x)&&x>0?x:w),deleteToast(){const e=sC(a.get(h),"removed");a.delete(h),aC.emit(4,e);const n=l.queue.length;if(l.count=null==h?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),n>0){const e=null==h?l.props.limit:1;if(1===n||1===e)l.displayedToast++,d();else{const t=e>n?n:e;l.displayedToast=t;for(let e=0;e<t;e++)d()}}else t()}});var x,w;b.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:s}=e,a=null;const o={theme:t,type:n};return!1===s||(tC(s)?a=s(o):(0,i.isValidElement)(s)?a=(0,i.cloneElement)(s,o):eC(s)||Zk(s)?a=s:r?a=lC.spinner():(e=>e in lC)(n)&&(a=lC[n](o))),a}(b),tC(c.onOpen)&&(b.onOpen=c.onOpen),tC(c.onClose)&&(b.onClose=c.onClose),b.closeButton=g.closeButton,!1===c.closeButton||rC(c.closeButton)?b.closeButton=c.closeButton:!0===c.closeButton&&(b.closeButton=!rC(g.closeButton)||g.closeButton);let j=e;(0,i.isValidElement)(e)&&!eC(e.type)?j=(0,i.cloneElement)(e,{closeToast:y,toastProps:b,data:m}):tC(e)&&(j=e({closeToast:y,toastProps:b,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&v?l.queue.push({toastContent:j,toastProps:b,staleId:o}):Zk(r)?setTimeout(()=>{f(j,b,o)},r):f(j,b,o)}function f(e,t,n){const{toastId:i}=t;n&&a.delete(n);const s={content:e,props:t};a.set(i,s),r(e=>[...e,i].filter(e=>e!==n)),aC.emit(4,sC(s,null==s.props.updateId?"added":"updated"))}return(0,i.useEffect)(()=>(l.containerId=e.containerId,aC.cancelEmit(3).on(0,h).on(1,e=>s.current&&u(e)).on(5,c).emit(2,l),()=>{a.clear(),aC.emit(3,l)}),[]),(0,i.useEffect)(()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(t){const n=new Map,r=Array.from(a.values());return e.newestOnTop&&r.reverse(),r.forEach(e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},containerRef:s,isToastActive:o}}function uC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function dC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function hC(e){const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),a=(0,i.useRef)(null),o=(0,i.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,i.useRef)(e),{autoClose:c,pauseOnHover:u,closeToast:d,onClick:h,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),document.addEventListener("touchmove",v),document.addEventListener("touchend",b);const n=a.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=n.getBoundingClientRect(),n.style.transition="",o.x=uC(t.nativeEvent),o.y=dC(t.nativeEvent),"x"===e.draggableDirection?(o.start=o.x,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(o.boundingRect){const{top:n,bottom:r,left:i,right:s}=o.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&o.x>=i&&o.x<=s&&o.y>=n&&o.y<=r?y():g()}}function g(){n(!0)}function y(){n(!1)}function v(n){const r=a.current;o.canDrag&&r&&(o.didMove=!0,t&&y(),o.x=uC(n),o.y=dC(n),o.delta="x"===e.draggableDirection?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(o.delta,"px)"),r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",b);const t=a.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,i.useEffect)(()=>{l.current=e}),(0,i.useEffect)(()=>(a.current&&a.current.addEventListener("d",g,{once:!0}),tC(e.onOpen)&&e.onOpen((0,i.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;tC(e.onClose)&&e.onClose((0,i.isValidElement)(e.children)&&e.children.props)}),[]),(0,i.useEffect)(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",y))}),[e.pauseOnFocusLoss]);const x={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return c&&u&&(x.onMouseEnter=y,x.onMouseLeave=g),f&&(x.onClick=e=>{h&&h(e),o.canCloseOnClick&&d()}),{playToast:g,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:x}}function fC(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return i.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pC(e){let{delay:t,isRunning:n,closeToast:r,type:s="default",hide:a,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:f}=e;const p=a||c&&0===u,m=ot(ot({},l),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:p?0:1});c&&(m.transform="scaleX(".concat(u,")"));const g=Xk("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":d}),y=tC(o)?o({rtl:d,type:s,defaultClassName:g}):Xk(g,o);return i.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:m,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&r()}})}const mC=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s}=hC(e),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:f,position:p,className:m,style:g,bodyClassName:y,bodyStyle:v,progressClassName:b,progressStyle:x,updateId:w,role:j,progress:S,rtl:N,toastId:E,deleteToast:k,isIn:C,isLoading:T,iconOut:_,closeOnClick:A,theme:O}=e,P=Xk("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":A}),I=tC(m)?m({rtl:N,position:p,type:u,defaultClassName:P}):Xk(P,m),D=!!S||!l,M={closeToast:h,type:u,theme:O};let R=null;return!1===a||(R=tC(a)?a(M):(0,i.isValidElement)(a)?(0,i.cloneElement)(a,M):fC(M)),i.createElement(f,{isIn:C,done:k,position:p,preventExitTransition:n,nodeRef:r},i.createElement("div",ot(ot({id:E,onClick:c,className:I},s),{},{style:g,ref:r}),i.createElement("div",ot(ot({},C&&{role:j}),{},{className:tC(y)?y({type:u}):Xk("Toastify__toast-body",y),style:v}),null!=_&&i.createElement("div",{className:Xk("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},_),i.createElement("div",null,o)),R,i.createElement(pC,ot(ot({},w&&!D?{key:"pb-".concat(w)}:{}),{},{rtl:N,theme:O,delay:l,isRunning:t,isIn:C,closeToast:h,hide:d,type:u,style:x,className:b,controlledProgress:D,progress:S||0}))))},gC=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},yC=iC(gC("bounce",!0)),vC=(iC(gC("slide",!0)),iC(gC("zoom")),iC(gC("flip")),(0,i.forwardRef)((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=cC(e),{className:a,style:o,rtl:l,containerId:c}=e;function u(e){const t=Xk("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return tC(a)?a({position:e,rtl:l,defaultClassName:t}):Xk(t,nC(a))}return(0,i.useEffect)(()=>{t&&(t.current=r.current)},[]),i.createElement("div",{ref:r,className:"Toastify",id:c},n((e,t)=>{const n=t.length?ot({},o):ot(ot({},o),{},{pointerEvents:"none"});return i.createElement("div",{className:u(e),style:n,key:"container-".concat(e)},t.map((e,n)=>{let{content:r,props:a}=e;return i.createElement(mC,ot(ot({},a),{},{isIn:s(a.toastId),style:ot(ot({},a.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(a.key)}),r)}))}))}));vC.displayName="ToastContainer",vC.defaultProps={position:"top-right",transition:yC,autoClose:5e3,closeButton:fC,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let bC,xC=new Map,wC=[],jC=1;function SC(){return""+jC++}function NC(e){return e&&(eC(e.toastId)||Zk(e.toastId))?e.toastId:SC()}function EC(e,t){return xC.size>0?aC.emit(0,e,t):wC.push({content:e,options:t}),t.toastId}function kC(e,t){return ot(ot({},t),{},{type:t&&t.type||e,toastId:NC(t)})}function CC(e){return(t,n)=>EC(t,kC(e,n))}function TC(e,t){return EC(e,kC("default",t))}TC.loading=(e,t)=>EC(e,kC("default",ot({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),TC.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=eC(i)?TC.loading(i,n):TC.loading(i.render,ot(ot({},n),i)));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void TC.dismiss(r);const s=ot(ot(ot({type:e},o),n),{},{data:i}),a=eC(t)?{render:t}:t;return r?TC.update(r,ot(ot({},s),a)):TC(a.render,ot(ot({},s),a)),i},c=tC(e)?e():e;return c.then(e=>l("success",a,e)).catch(e=>l("error",s,e)),c},TC.success=CC("success"),TC.info=CC("info"),TC.error=CC("error"),TC.warning=CC("warning"),TC.warn=TC.warning,TC.dark=(e,t)=>EC(e,kC("default",ot({theme:"dark"},t))),TC.dismiss=e=>{xC.size>0?aC.emit(1,e):wC=wC.filter(t=>null!=e&&t.options.toastId!==e)},TC.clearWaitingQueue=function(e){return void 0===e&&(e={}),aC.emit(5,e)},TC.isActive=e=>{let t=!1;return xC.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},TC.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{const n=function(e,t){let{containerId:n}=t;const r=xC.get(n||bC);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,s=ot(ot(ot({delay:100},r),t),{},{toastId:t.toastId||e,updateId:SC()});s.toastId!==e&&(s.staleId=e);const a=s.render||i;delete s.render,EC(a,s)}},0)},TC.done=e=>{TC.update(e,{progress:1})},TC.onChange=e=>(aC.on(4,e),()=>{aC.off(4,e)}),TC.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},TC.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},aC.on(2,e=>{bC=e.containerId||e,xC.set(bC,e),wC.forEach(e=>{aC.emit(0,e.content,e.options)}),wC=[]}).on(3,e=>{xC.delete(e.containerId||e),0===xC.size&&aC.off(0).off(1).off(5)});const _C=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api"}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=ot({headers:{"Content-Type":"application/json"}},t);try{const e=await fetch(n,r),t=await e.json();if(!e.ok)throw new Error(t.message||"Something went wrong");return t}catch(i){throw console.error("Teacher Actions API Error:",i),i}}async assignModule(e){try{const t=await this.request("/teacher-actions/assign-module",{method:"POST",body:JSON.stringify(e)});return this.simulateModuleAssignment(e),t}catch(t){throw new Error("Failed to assign module: "+t.message)}}async confirmDrill(e){try{const t=await this.request("/teacher-actions/confirm-drill",{method:"POST",body:JSON.stringify(e)});return this.simulateDrillConfirmation(e),t}catch(t){throw new Error("Failed to confirm drill: "+t.message)}}async getAssignedModules(){try{var e;console.log("Fetching assigned modules from:","".concat(this.baseURL,"/teacher-actions/assigned-modules"));const t=await this.request("/teacher-actions/assigned-modules");return console.log("Assigned modules response:",t),(null===(e=t.data)||void 0===e?void 0:e.modules)||[]}catch(i){var t,n,r;return console.error("Failed to fetch assigned modules:",i),[{_id:"sample-1",title:"Earthquake Safety Basics",description:"Learn the fundamental safety procedures during an earthquake including the Drop, Cover, and Hold technique.",dueDate:"2024-01-15",estimatedTime:"15 minutes",targetClasses:["Class 9","Class 10","Class 11","Class 12"],teacherName:"Dr. Sarah Johnson",files:{video:{originalName:"earthquake-safety-basics.mp4",filename:"earthquake-safety-basics.mp4",size:15728640,type:"video/mp4",url:"".concat((null===(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL)||void 0===t?void 0:t.replace("/api",""))||"http://localhost:5000","/uploads/earthquake-safety-basics.mp4")},pdf:{originalName:"earthquake-safety-guide.pdf",filename:"earthquake-safety-guide.pdf",size:2048576,type:"application/pdf",url:"".concat((null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL)||void 0===n?void 0:n.replace("/api",""))||"http://localhost:5000","/uploads/earthquake-safety-guide.pdf")}},type:"module_assignment",status:"active",createdAt:new Date,updatedAt:new Date},{_id:"sample-2",title:"Fire Evacuation Procedures",description:"Comprehensive guide on fire safety, evacuation routes, and emergency response procedures.",dueDate:"2024-01-20",estimatedTime:"20 minutes",targetClasses:["Class 8","Class 9","Class 10"],teacherName:"Prof. Michael Chen",files:{video:{originalName:"fire-evacuation-procedures.mp4",filename:"fire-evacuation-procedures.mp4",size:25165824,type:"video/mp4",url:"".concat((null===(r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL)||void 0===r?void 0:r.replace("/api",""))||"http://localhost:5000","/uploads/fire-evacuation-procedures.mp4")}},type:"module_assignment",status:"active",createdAt:new Date,updatedAt:new Date}]}}async getConfirmedDrills(){try{var e;console.log("Fetching confirmed drills from:","".concat(this.baseURL,"/teacher-actions/confirmed-drills"));const t=await this.request("/teacher-actions/confirmed-drills");return console.log("Confirmed drills response:",t),(null===(e=t.data)||void 0===e?void 0:e.drills)||[]}catch(t){return console.error("Failed to fetch confirmed drills:",t),[{_id:"drill-1",title:"Monthly Earthquake Drill",description:"Practice earthquake safety procedures including evacuation and assembly point procedures.",scheduledDate:"2024-01-25",scheduledTime:"10:00",location:"Main Assembly Hall",drillType:"Earthquake",targetClasses:["All Classes"],teacherName:"Dr. Sarah Johnson",type:"drill_confirmation",status:"confirmed",createdAt:new Date,updatedAt:new Date},{_id:"drill-2",title:"Fire Safety Drill",description:"Emergency evacuation drill to test fire safety procedures and assembly point protocols.",scheduledDate:"2024-01-30",scheduledTime:"14:30",location:"School Grounds",drillType:"Fire Safety",targetClasses:["Class 9","Class 10","Class 11","Class 12"],teacherName:"Prof. Michael Chen",type:"drill_confirmation",status:"confirmed",createdAt:new Date,updatedAt:new Date}]}}simulateModuleAssignment(e){const t=new CustomEvent("moduleAssigned",{detail:{type:"module_assignment",title:e.title,description:e.description,dueDate:e.dueDate,estimatedTime:e.estimatedTime,targetClasses:e.targetClasses,teacherName:e.teacherName,files:e.files||{},assignedAt:(new Date).toISOString()}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("New Module Assigned: ".concat(e.title),{body:"Due: ".concat(e.dueDate," \u2022 Estimated time: ").concat(e.estimatedTime),icon:"/favicon.ico",tag:"module-assignment"})}simulateDrillConfirmation(e){const t=new CustomEvent("drillConfirmed",{detail:{type:"drill_confirmation",title:e.title,description:e.description,scheduledDate:e.scheduledDate,scheduledTime:e.scheduledTime,location:e.location,drillType:e.drillType,targetClasses:e.targetClasses,teacherName:e.teacherName,confirmedAt:(new Date).toISOString()}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("Drill Confirmed: ".concat(e.title),{body:"Date: ".concat(e.scheduledDate," at ").concat(e.scheduledTime," \u2022 Location: ").concat(e.location),icon:"/favicon.ico",tag:"drill-confirmation"})}};const AC=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api"}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=ot({headers:{"Content-Type":"application/json"}},t);try{const e=await fetch(n,r);if(!e.ok){const t=await e.json();throw new Error(t.message||"API request failed with status ".concat(e.status))}return e.json()}catch(i){throw console.error("Assignment service error:",i),i}}async createAssignment(e){try{const n=new FormData;n.append("title",e.title),n.append("description",e.description),n.append("classId",e.classId),n.append("dueDate",e.dueDate),n.append("instructions",e.instructions),n.append("teacherName",e.teacherName),e.pdfFile&&n.append("pdfFile",e.pdfFile),console.log("Sending assignment data to:","".concat(this.baseURL,"/assignments/create"));const r=await fetch("".concat(this.baseURL,"/assignments/create"),{method:"POST",body:n});if(console.log("Response status:",r.status),console.log("Response headers:",r.headers),!r.ok){const e=r.headers.get("content-type");if(e&&e.includes("text/html"))throw new Error("Server returned HTML instead of JSON. Please check if the backend server is running on port 5000.");try{const e=await r.json();throw new Error(e.message||"Failed to create assignment")}catch(t){throw new Error("Server error: ".concat(r.status," ").concat(r.statusText))}}const i=await r.json();return console.log("Assignment created successfully:",i),i}catch(n){if(console.error("Failed to create assignment:",n),"TypeError"===n.name&&n.message.includes("fetch"))throw new Error("Cannot connect to server. Please ensure the backend server is running on port 5000.");throw n}}async getAllAssignments(){try{return(await this.request("/assignments")).data}catch(e){throw console.error("Failed to get assignments:",e),e}}async getAssignmentsByClass(e){try{return(await this.request("/assignments/class/".concat(e))).data}catch(t){throw console.error("Failed to get assignments by class:",t),t}}async updateAssignmentStatus(e,t){try{return await this.request("/assignments/".concat(e,"/status"),{method:"PUT",body:JSON.stringify({status:t})})}catch(n){throw console.error("Failed to update assignment status:",n),n}}};const OC=function(){console.log("StudentNotifications component rendered");const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1);(0,i.useEffect)(()=>{m(),Kk.connect(),Kk.onNewModuleAssignment(e=>{t(t=>[e,...t])}),Kk.onNewDrillConfirmation(e=>{r(t=>[e,...t])});const e=e=>{const n=e.detail;t(e=>[n,...e])},n=e=>{const t=e.detail;r(e=>[t,...e])};return window.addEventListener("moduleAssigned",e),window.addEventListener("drillConfirmed",n),()=>{Kk.disconnect(),window.removeEventListener("moduleAssigned",e),window.removeEventListener("drillConfirmed",n)}},[]);const m=async()=>{try{l(!0),console.log("Loading student notifications..."),console.log("About to call TeacherActionsService.getAssignedModules()");const[e,n,i]=await Promise.all([_C.getAssignedModules(),_C.getConfirmedDrills(),AC.getAllAssignments()]);console.log("Loaded modules:",e),console.log("Loaded drills:",n),console.log("Loaded assignments:",i),console.log("Setting assigned modules:",e),console.log("Setting confirmed drills:",n),console.log("Setting assignments:",i),t(e),r(n),a(i)}catch(e){console.error("Error loading student notifications:",e)}finally{l(!1)}},g=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return console.log("Rendering StudentNotifications - loading:",o,"assignedModules:",e.length,"confirmedDrills:",n.length),o?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading notifications..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"card border-primary",children:[(0,Fe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Fe.jsxs)("h6",{className:"card-title mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text"}),"Assigned Modules"]})}),(0,Fe.jsx)("div",{className:"card-body",children:0===e.length?(0,Fe.jsxs)("div",{className:"text-center py-3",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-x text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No modules assigned yet"})]}):(0,Fe.jsxs)("div",{className:"list-group list-group-flush",children:[(c?e:e.slice(0,2)).map((e,t)=>(0,Fe.jsx)("div",{className:"list-group-item border-0 px-0",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-primary-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("i",{className:"bi bi-journal-text text-primary"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 fw-semibold",children:e.title}),(0,Fe.jsx)("p",{className:"mb-2 text-muted small",children:e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-calendar me-1"}),"Due: ",g(e.dueDate),(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),e.estimatedTime]}),(0,Fe.jsx)("span",{className:"badge bg-primary",children:"New"})]})]})]})},t)),e.length>2&&(0,Fe.jsx)("div",{className:"text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>u(!c),children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",e.length-2," more)"]})})})]})})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"card border-success",children:[(0,Fe.jsx)("div",{className:"card-header bg-success text-white",children:(0,Fe.jsxs)("h6",{className:"card-title mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-flag"}),"Confirmed Drills"]})}),(0,Fe.jsx)("div",{className:"card-body",children:0===n.length?(0,Fe.jsxs)("div",{className:"text-center py-3",children:[(0,Fe.jsx)("i",{className:"bi bi-flag text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No drills confirmed yet"})]}):(0,Fe.jsxs)("div",{className:"list-group list-group-flush",children:[(d?n:n.slice(0,2)).map((e,t)=>{return(0,Fe.jsx)("div",{className:"list-group-item border-0 px-0",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-success-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("i",{className:"bi bi-flag text-success"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 fw-semibold",children:e.title}),(0,Fe.jsx)("p",{className:"mb-2 text-muted small",children:e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-calendar me-1"}),g(e.scheduledDate),(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),(n=e.scheduledTime,new Date("2000-01-01T".concat(n)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-geo-alt me-1"}),e.location]}),(0,Fe.jsx)("span",{className:"badge bg-success",children:"Confirmed"})]})]})]})},t);var n}),n.length>2&&(0,Fe.jsx)("div",{className:"text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:()=>h(!d),children:d?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",n.length-2," more)"]})})})]})})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"card shadow-sm h-100",children:[(0,Fe.jsx)("div",{className:"card-header bg-info text-white",children:(0,Fe.jsxs)("h6",{className:"card-title mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard"}),"Assignments"]})}),(0,Fe.jsx)("div",{className:"card-body",children:0===s.length?(0,Fe.jsxs)("div",{className:"text-center py-3",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No assignments yet"})]}):(0,Fe.jsxs)("div",{className:"list-group list-group-flush",children:[(f?s:s.slice(0,2)).map((e,t)=>{var n;return(0,Fe.jsx)("div",{className:"list-group-item border-0 px-0",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-info-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("i",{className:"bi bi-clipboard text-info"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 fw-semibold",children:e.title}),e.description&&(0,Fe.jsx)("p",{className:"mb-2 text-muted small",children:e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-people me-1"}),e.classId,(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-calendar me-1"}),g(e.dueDate)]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("span",{className:"badge ".concat("open"===e.status?"bg-warning":"completed"===e.status?"bg-success":"bg-secondary"),children:e.status}),e.pdfFile&&(0,Fe.jsxs)("a",{href:"".concat((null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL)||void 0===n?void 0:n.replace("/api",""))||"http://localhost:5000").concat(e.pdfFile),target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-primary btn-sm",children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf me-1"}),"PDF"]})]})]})]})]})},e._id||t)}),s.length>2&&(0,Fe.jsx)("div",{className:"text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-info btn-sm",onClick:()=>p(!f),children:f?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",s.length-2," more)"]})})})]})})]})})]})};const PC=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api"}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=ot({headers:{"Content-Type":"application/json"}},t);try{const e=await fetch(n,r);if(!e.ok){const t=await e.json();throw new Error(t.message||"API request failed with status ".concat(e.status))}return e.json()}catch(i){throw console.error("Statistics service error:",i),i}}async getUserStatistics(e){try{return(await this.request("/statistics/user/".concat(e))).data}catch(t){return console.error("Failed to get user statistics:",t),{modulesCompleted:0,drillsCompleted:0,totalPoints:0,preparednessScore:0}}}async getPlatformStatistics(){try{return(await this.request("/statistics/platform")).data}catch(e){return console.error("Failed to get platform statistics:",e),{totalStudents:0,totalModulesCompleted:0,totalDrillsCompleted:0,averagePreparedness:0}}}getCurrentUserId(){try{const e=_g();if(e&&e.name)return e.name}catch(t){console.log("AuthService not available, trying localStorage")}const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);return t.name||t.email||t.displayName||"demo-user"}catch(t){console.error("Error parsing stored user:",t)}return"demo-user"}};const IC=function(){const[e,t]=(0,i.useState)({modulesCompleted:0,drillsCompleted:0,totalPoints:0,preparednessScore:0}),[n,r]=(0,i.useState)({totalStudents:0,totalModulesCompleted:0,totalDrillsCompleted:0,averagePreparedness:0}),[s,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{o()},[]);const o=async()=>{try{a(!0);const e=PC.getCurrentUserId(),[n,i]=await Promise.all([PC.getUserStatistics(e),PC.getPlatformStatistics()]);t(n),r(i)}catch(e){console.error("Failed to load statistics:",e)}finally{a(!1)}};return(0,Fe.jsxs)("div",{className:"py-4",children:[(0,Fe.jsxs)("div",{className:"p-4 p-md-5 mb-4 rounded-4 border position-relative overflow-hidden main-hero-card",children:[(0,Fe.jsx)("div",{className:"position-absolute top-0 end-0 opacity-25",style:{transform:"translate(20%, -20%)"},children:(0,Fe.jsx)("i",{className:"bi bi-radar hero-icon"})}),(0,Fe.jsxs)("div",{className:"container-fluid py-3 position-relative",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger",style:{fontSize:32}}),(0,Fe.jsx)("h1",{className:"display-6 fw-semibold mb-0 hero-title",children:"Disaster Preparedness & Response Education"})]}),(0,Fe.jsx)("p",{className:"col-md-10 fs-5 hero-description",children:"Interactive modules, region-specific alerts, virtual drills, and gamified learning to build disaster-ready campuses."}),(0,Fe.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,Fe.jsxs)(Ie,{className:"btn btn-primary",to:"/learn",children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-1"}),"Start Learning"]}),(0,Fe.jsxs)(Ie,{className:"btn btn-outline-secondary",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"View Alerts"]})]})]})]}),(0,Fe.jsx)("div",{className:"row g-3 mb-4",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-3 justify-content-between align-items-center p-3 rounded-4 border bg-white shadow-sm",children:s?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-people text-primary"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Students onboarded"}),(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-film text-danger"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Modules completed"}),(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm text-danger",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-flag text-success"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Drill recorded"}),(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm text-success",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check text-warning"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Avg preparedness"}),(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm text-warning",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-people text-primary"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Students onboarded"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:n.totalStudents.toLocaleString()})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-film text-danger"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Modules completed"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:e.modulesCompleted.toLocaleString()})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-flag text-success"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Drill recorded"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:e.drillsCompleted.toLocaleString()})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check text-warning"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Avg preparedness"}),(0,Fe.jsxs)("span",{className:"fw-semibold",children:[e.preparednessScore,"%"]})]})]})})})}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)(Ie,{to:"/learn",className:"text-decoration-none",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm hover-card",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard fs-2 text-primary"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Interactive Learning"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Bite-sized videos and quizzes."})]})]})})})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)(Ie,{to:"/alerts",className:"text-decoration-none",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm hover-card",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast fs-2 text-danger"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Region Alerts"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Stay updated and prepared."})]})]})})})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)(Ie,{to:"/drills",className:"text-decoration-none",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm hover-card",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick fs-2 text-success"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Virtual Drills"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Practice safely with simulations."})]})]})})})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)(Ie,{to:"/simulation",className:"text-decoration-none",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm hover-card",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-controller fs-2 text-info"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Disaster Simulation"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Interactive VR-style training."})]})]})})})})]}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsx)(OC,{})}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsx)(Qk,{userRole:"student"})})]})};const DC=function(){var e,t,n,r,s,a,o,l;const[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(new Set),[b,x]=(0,i.useState)(null),[w,j]=(0,i.useState)(!1),[S,N]=(0,i.useState)({});(0,i.useEffect)(()=>{E(),Kk.connect(),Kk.onNewModuleAssignment(e=>{u(t=>[e,...t])});const e=e=>{const t=e.detail;u(e=>[t,...e])};return window.addEventListener("moduleAssigned",e),()=>{Kk.disconnect(),window.removeEventListener("moduleAssigned",e)}},[]),(0,i.useEffect)(()=>{c.length>0&&(async()=>{const e=Mg.getCurrentUserId();for(const i of c)try{var t;if(null!==(t=i.files)&&void 0!==t&&t.video){var n;const t=Mg.generateModuleVideoId(i._id,"video-completion"),r=await Mg.getVideoPoints(e,t);let s=0;if(null!==(n=i.files)&&void 0!==n&&n.pdf){const t=Mg.generateModuleVideoId(i._id,"pdf-completion"),n=await Mg.getVideoPoints(e,t);s=n.points}N(e=>ot(ot({},e),{},{[i._id]:(r.points||0)+s}))}}catch(r){console.error("Failed to load points for module ".concat(i._id,":"),r)}})()},[c]);const E=async()=>{try{h(!0);const e=await _C.getAssignedModules();console.log("Loaded modules:",e),u(e)}catch(e){console.error("Error loading modules:",e)}finally{h(!1)}},k=e=>{if(!e)return"Not specified";const t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},C=e=>{if(!e||0===e)return"0 Bytes";if(isNaN(e))return"Unknown size";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},T=e=>e?e.includes("video")?"bi-camera-video text-primary":e.includes("pdf")?"bi-file-pdf text-danger":"bi-file-earmark text-secondary":"bi-file-earmark text-secondary",_=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())&&t<new Date},A=e=>{if(!e)return!1;const t=new Date(e);if(isNaN(t.getTime()))return!1;const n=new Date;return n.setDate(n.getDate()+3),t<=n&&t>new Date},O=(e,t)=>"".concat(e,"-").concat(t),P=(e,t,n)=>{e?e.url?(console.log("Opening ".concat(t," file:"),e.url),fetch(e.url,{method:"HEAD"}).then(r=>{r.ok?p(ot(ot({},n),{},{currentFile:e,currentFileType:t})):alert("File not accessible. Status: ".concat(r.status))}).catch(e=>{console.error("Error accessing file:",e),alert("Error accessing file. Please try again.")})):alert("File URL not available"):alert("File information not available")},I=async(e,t)=>{v(t=>new Set([...t,e])),console.log("File ".concat(e," marked as completed"));try{const e=Mg.getCurrentUserId(),n=(null===f||void 0===f?void 0:f._id)||"unknown",r="video"===t?100:50,i=Mg.generateModuleVideoId(n,"".concat(t,"-completion")),s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",a=await fetch("".concat(s,"/points/award"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,videoId:i,videoType:"module_assignment",completionPercentage:100,points:r})});(await a.json()).success&&(console.log("\ud83c\udf89 ".concat(t.toUpperCase()," marked as complete! Awarded ").concat(r," points")),window.showNotification&&window.showNotification("".concat(t.toUpperCase()," marked as completed! +").concat(r," points earned!"),"success"),f&&N(e=>ot(ot({},e),{},{[f._id]:(e[f._id]||0)+r})))}catch(n){console.error("Failed to award completion points:",n),window.showNotification&&window.showNotification("File marked as completed!","success")}},D=()=>{p(null),j(!1)};return d?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading modules..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h5",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text text-primary"}),"Modules Assigned by Teachers"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:E,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]})]})}),0===c.length?(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-x text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h5",{className:"mt-3 text-muted",children:"No modules assigned yet"}),(0,Fe.jsx)("p",{className:"text-muted",children:"Your teachers will assign modules with videos and PDFs here."})]})})}):(0,Fe.jsxs)(Fe.Fragment,{children:[(m?c:c.slice(0,2)).filter(e=>e&&e.title).map((e,t)=>{var n,r,i,s,a,o;return(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"card h-100 ".concat(_(e.dueDate)?"border-danger":A(e.dueDate)?"border-warning":"border-primary"),children:[(0,Fe.jsx)("div",{className:"card-header bg-light",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold",children:e.title}),(0,Fe.jsx)("div",{className:"d-flex gap-1",children:_(e.dueDate)?(0,Fe.jsx)("span",{className:"badge bg-danger",children:"Overdue"}):A(e.dueDate)?(0,Fe.jsx)("span",{className:"badge bg-warning",children:"Due Soon"}):(0,Fe.jsx)("span",{className:"badge bg-success",children:"Active"})})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("p",{className:"card-text text-muted small mb-3",children:e.description||"No description available"}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("small",{className:"text-muted d-block",children:"Due Date"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:e.dueDate?k(e.dueDate):"Not specified"})]}),(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("small",{className:"text-muted d-block",children:"Estimated Time"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:e.estimatedTime||"Not specified"})]})]}),((null===(n=e.files)||void 0===n?void 0:n.video)||(null===(r=e.files)||void 0===r?void 0:r.pdf))&&(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsx)("h6",{className:"small fw-semibold text-muted mb-2",children:"Attached Files"}),(0,Fe.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(null===(i=e.files)||void 0===i?void 0:i.video)&&e.files.video.originalName&&(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 p-2 bg-primary-subtle rounded",children:[(0,Fe.jsx)("i",{className:"bi ".concat(T(e.files.video.type||"video/mp4"))}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"small fw-semibold",children:e.files.video.originalName}),(0,Fe.jsx)("div",{className:"small text-muted",children:C(e.files.video.size||0)})]})]}),(null===(s=e.files)||void 0===s?void 0:s.pdf)&&e.files.pdf.originalName&&(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 p-2 bg-danger-subtle rounded",children:[(0,Fe.jsx)("i",{className:"bi ".concat(T(e.files.pdf.type||"application/pdf"))}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"small fw-semibold",children:e.files.pdf.originalName}),(0,Fe.jsx)("div",{className:"small text-muted",children:C(e.files.pdf.size||0)})]})]})]})]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("span",{className:"text-muted small",children:"Progress"}),(0,Fe.jsxs)("span",{className:"text-muted small",children:[S[e._id]||0," / 150 points"]})]}),(0,Fe.jsx)("div",{className:"progress",role:"progressbar","aria-label":"module progress","aria-valuenow":S[e._id]||0,"aria-valuemin":"0","aria-valuemax":"150",children:(0,Fe.jsx)("div",{className:"progress-bar bg-primary",style:{width:"".concat(Math.min((S[e._id]||0)/150*100,100),"%")},children:S[e._id]?"".concat(S[e._id]," pts"):"0 pts"})})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-person me-1"}),"Assigned by ",e.teacherName||"Unknown Teacher"]}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(null===(a=e.files)||void 0===a?void 0:a.video)&&e.files.video.url&&(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>P(e.files.video,"video",e),children:[(0,Fe.jsx)("i",{className:"bi bi-play-circle me-1"}),"Watch Video"]}),(null===(o=e.files)||void 0===o?void 0:o.pdf)&&e.files.pdf.url&&(0,Fe.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>P(e.files.pdf,"pdf",e),children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf me-1"}),"View PDF"]}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>p(e),children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-1"}),"View Details"]})]})]})]})]})},e._id||t)}),c.length>2&&(0,Fe.jsx)("div",{className:"col-12 text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>g(!m),children:m?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",c.length-2," more)"]})})})]}),f&&!f.currentFile&&(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",onClick:D,children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",onClick:e=>e.stopPropagation(),children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text text-primary"}),f.title]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:D})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{children:"Description"}),(0,Fe.jsx)("p",{className:"text-muted",children:f.description||"No description available"})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Due Date"}),(0,Fe.jsx)("p",{className:"text-muted",children:k(f.dueDate)})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Estimated Time"}),(0,Fe.jsx)("p",{className:"text-muted",children:f.estimatedTime||"Not specified"})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Target Classes"}),(0,Fe.jsx)("p",{className:"text-muted",children:(null===(e=f.targetClasses)||void 0===e?void 0:e.join(", "))||"Not specified"})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Teacher"}),(0,Fe.jsx)("p",{className:"text-muted",children:f.teacherName||"Unknown Teacher"})]})]}),((null===(t=f.files)||void 0===t?void 0:t.video)||(null===(n=f.files)||void 0===n?void 0:n.pdf))&&(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{children:"Attached Files"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(null===(r=f.files)||void 0===r?void 0:r.video)&&f.files.video.url&&(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsx)("div",{className:"card border-primary",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("i",{className:"bi bi-camera-video text-primary",style:{fontSize:"2rem"}}),(0,Fe.jsx)("h6",{className:"mt-2",children:f.files.video.originalName}),(0,Fe.jsx)("p",{className:"text-muted small",children:C(f.files.video.size||0)}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>P(f.files.video,"video",f),children:[(0,Fe.jsx)("i",{className:"bi bi-play-circle me-1"}),"Watch Video"]})]})})}),(null===(s=f.files)||void 0===s?void 0:s.pdf)&&f.files.pdf.url&&(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsx)("div",{className:"card border-danger",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf text-danger",style:{fontSize:"2rem"}}),(0,Fe.jsx)("h6",{className:"mt-2",children:f.files.pdf.originalName}),(0,Fe.jsx)("p",{className:"text-muted small",children:C(f.files.pdf.size||0)}),(0,Fe.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:()=>P(f.files.pdf,"pdf",f),children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf me-1"}),"View PDF"]})]})})})]})]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsx)("h6",{children:"Completion Status"}),(0,Fe.jsxs)("div",{className:"d-flex gap-3",children:[(null===(a=f.files)||void 0===a?void 0:a.video)&&(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(y.has(O(f._id,"video"))?"bi-check-circle-fill text-success":"bi-circle text-muted")}),(0,Fe.jsxs)("span",{className:y.has(O(f._id,"video"))?"text-success":"text-muted",children:["Video ",y.has(O(f._id,"video"))?"Completed":"Pending"]})]}),(null===(o=f.files)||void 0===o?void 0:o.pdf)&&(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(y.has(O(f._id,"pdf"))?"bi-check-circle-fill text-success":"bi-circle text-muted")}),(0,Fe.jsxs)("span",{className:y.has(O(f._id,"pdf"))?"text-success":"text-muted",children:["PDF ",y.has(O(f._id,"pdf"))?"Completed":"Pending"]})]})]})]})]}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:D,children:"Close"})})]})})}),f&&f.currentFile&&(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",onClick:D,children:(0,Fe.jsx)("div",{className:"modal-dialog modal-xl",onClick:e=>e.stopPropagation(),children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text text-primary"}),f.title]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:D})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:["video"===f.currentFileType&&!w&&(0,Fe.jsxs)("div",{className:"alert alert-info d-flex align-items-center gap-2 mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle"}),(0,Fe.jsx)("span",{children:"Video will be automatically marked as completed when it reaches the last 15 seconds"})]}),"video"===f.currentFileType?(0,Fe.jsx)("div",{className:"ratio ratio-16x9",children:(0,Fe.jsxs)("video",{ref:x,controls:!0,className:"rounded",onTimeUpdate:e=>{const t=e.target,n=t.duration;if(t.currentTime>=n-15&&!w){const e=O(f._id,"video");I(e,"video"),j(!0)}},onEnded:()=>{if(!w){const e=O(f._id,"video");I(e,"video"),j(!0)}},onLoadedMetadata:()=>{j(!1)},children:[(0,Fe.jsx)("source",{src:f.currentFile.url||"",type:"video/mp4"}),"Your browser does not support the video tag."]})}):(0,Fe.jsx)("div",{className:"ratio ratio-16x9",children:(0,Fe.jsx)("iframe",{src:f.currentFile.url||"",className:"rounded",title:f.currentFile.originalName||"PDF Document"})}),(0,Fe.jsxs)("div",{className:"mt-3",children:[(0,Fe.jsx)("h6",{children:"File Details"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"File Name:"})," ",f.currentFile.originalName||"Unknown"]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"File Size:"})," ",C(f.currentFile.size||0)]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"File Type:"})," ",(null===(l=f.currentFileType)||void 0===l?void 0:l.toUpperCase())||"UNKNOWN"]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"Module:"})," ",f.title||"Unknown Module"]})]})]})]}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[(0,Fe.jsx)("div",{children:y.has(O(f._id,f.currentFileType))?(0,Fe.jsxs)("span",{className:"badge bg-success",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-1"}),w?"Auto Completed":"File Completed"]}):(0,Fe.jsxs)("button",{type:"button",className:"btn btn-success btn-sm",onClick:()=>I(O(f._id,f.currentFileType),f.currentFileType),children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-1"}),"Mark as Completed"]})}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:D,children:"Close"})]})})]})})})]})},MC=[{id:"earthquake",name:"Earthquake"},{id:"flood",name:"Flood"},{id:"fire",name:"Fire Safety"},{id:"cyclone",name:"Cyclone"},{id:"landslide",name:"Landslide"}],RC={earthquake:[{id:"eq-bend-cover-hold",title:"Bend Cover Hold",videoPath:"/Videos/Earthquake/Bend Cover Hold.mp4",minutes:4},{id:"eq-dos-donts",title:"Earthquake - DOs & DONTs",videoPath:"/Videos/Earthquake/Earthquake - DOs & DONTs.mp4",minutes:5},{id:"eq-outdoors-safety",title:"How to Stay Safe if outdoors during an earthquake",videoPath:"/Videos/Earthquake/How to Stay Safe if outdoors during an earthquake.mp4",minutes:6}],flood:[{id:"flood-dos-donts",title:"Dos and Donts to follow during a flood",videoPath:"/Videos/Flood/Dos and Donts to follow during a flood.mp4",minutes:5},{id:"flood-secure-after",title:"Here are some ways by which you can secure yourself after a flood",videoPath:"/Videos/Flood/Here are some ways by which you can secure yourself after a flood.mp4",minutes:6},{id:"flood-prepare-before",title:"Know how you can stay prepared before floods",videoPath:"/Videos/Flood/Know how you can stay prepared before floods",minutes:5}],fire:[{id:"fire-safety-kids",title:"Fire Safety for Kids",videoPath:"/Videos/Fire Safety/Fire Safety for Kids.mp4",minutes:4},{id:"fire-tips-dos-donts",title:"Fire Tips - Do's and don'ts & must haves",videoPath:"/Videos/Fire Safety/Fire Tips - Do's and don'ts & must haves.mp4",minutes:5}],cyclone:[{id:"cyclone-early-warning",title:"Know where all you can get early warning information for cyclones",videoPath:"/Videos/Cyclone/Know where all you can get early warning information for cyclones.mp4",minutes:6},{id:"cyclone-prepare",title:"Prepare yourself for a cyclone with these do's and don'ts",videoPath:"/Videos/Cyclone/Prepare yourself for a cyclone with these do's and don'ts.mp4",minutes:5},{id:"cyclone-secure-house",title:"Secure your house from a cyclone with these methods",videoPath:"/Videos/Cyclone/Secure your house from a cyclone with these methods.mp4",minutes:6}],landslide:[{id:"landslide-prepare",title:"How to stay prepared for a landslide",videoPath:"/Videos/Landslide/How to stay prepared for a landslide_.mp4",minutes:5},{id:"landslide-stay-safe",title:"How to stay safe during a landslide",videoPath:"/Videos/Landslide/How to stay safe during a landslide_.mp4",minutes:4},{id:"landslide-reasons",title:"What are the reasons for a landslide",videoPath:"/Videos/Landslide/What are the reasons for a landslide_.mp4",minutes:5}]},LC={"IN-AP":"Andhra Pradesh","IN-AR":"Arunachal Pradesh","IN-AS":"Assam","IN-BR":"Bihar","IN-CT":"Chhattisgarh","IN-GA":"Goa","IN-GJ":"Gujarat","IN-HR":"Haryana","IN-HP":"Himachal Pradesh","IN-JH":"Jharkhand","IN-KA":"Karnataka","IN-KL":"Kerala","IN-MP":"Madhya Pradesh","IN-MH":"Maharashtra","IN-MN":"Manipur","IN-ML":"Meghalaya","IN-MZ":"Mizoram","IN-NL":"Nagaland","IN-OR":"Odisha","IN-PB":"Punjab","IN-RJ":"Rajasthan","IN-SK":"Sikkim","IN-TN":"Tamil Nadu","IN-TG":"Telangana","IN-TR":"Tripura","IN-UP":"Uttar Pradesh","IN-UT":"Uttarakhand","IN-WB":"West Bengal","IN-AN":"Andaman and Nicobar Islands","IN-CH":"Chandigarh","IN-DH":"Dadra and Nagar Haveli and Daman and Diu","IN-DL":"Delhi","IN-JK":"Jammu and Kashmir","IN-LA":"Ladakh","IN-LD":"Lakshadweep","IN-PY":"Puducherry"},FC={"IN-AP":["cyclone","flood"],"IN-AR":["flood","earthquake"],"IN-AS":["flood","earthquake"],"IN-BR":["flood","earthquake"],"IN-CT":["flood","cyclone"],"IN-GA":["cyclone","flood"],"IN-GJ":["cyclone","earthquake"],"IN-HR":["earthquake","fire"],"IN-HP":["landslide","earthquake"],"IN-JH":["flood","earthquake"],"IN-KA":["flood","cyclone"],"IN-KL":["flood","cyclone"],"IN-MP":["flood","earthquake"],"IN-MH":["cyclone","flood"],"IN-MN":["flood","earthquake"],"IN-ML":["flood","landslide"],"IN-MZ":["flood","landslide"],"IN-NL":["flood","landslide"],"IN-OR":["cyclone","flood"],"IN-PB":["earthquake","fire"],"IN-RJ":["earthquake","fire"],"IN-SK":["earthquake","landslide"],"IN-TN":["cyclone","flood"],"IN-TG":["cyclone","flood"],"IN-TR":["flood","earthquake"],"IN-UP":["flood","earthquake"],"IN-UT":["earthquake","landslide"],"IN-WB":["cyclone","flood"],"IN-AN":["cyclone","earthquake"],"IN-CH":["earthquake","fire"],"IN-DH":["earthquake","fire"],"IN-DL":["earthquake","fire"],"IN-JK":["earthquake","landslide"],"IN-LA":["earthquake","landslide"],"IN-LD":["cyclone","flood"],"IN-PY":["cyclone","flood"]};function BC(e){let{video:t,onVideoEnd:n,onVideoProgress:r}=e;const[s,a]=(0,i.useState)(0),[o,l]=(0,i.useState)([]),c=(0,i.useRef)(null),u=()=>{if(c.current){const e=c.current,n=e.currentTime,i=e.duration;if(i>0){const e=Math.round(n/i*100);a(e),d(e),r&&r(t,e)}}},d=async e=>{const n=[25,50,75,100].find(t=>e>=t&&!o.includes(t));if(n)try{const e=Mg.getCurrentUserId(),r=Mg.generateModuleVideoId(t.id.split("-")[0],t.title),i=await Mg.awardPoints(e,r,"module",n);l(e=>[...e,n]),i.updated?console.log("\ud83d\udd04 ".concat(n,"% milestone reached! Updated points: +").concat(i.awardedPoints," points")):console.log("\ud83c\udf89 ".concat(n,"% milestone reached! Awarded ").concat(i.awardedPoints," points"))}catch(r){console.error("Failed to award milestone points:",r)}};return(0,Fe.jsx)("div",{className:"ratio ratio-16x9",children:(0,Fe.jsxs)("video",{ref:c,controls:!0,className:"rounded",onEnded:()=>{n&&n(t)},onTimeUpdate:()=>{u()},onLoadedMetadata:()=>{u()},children:[(0,Fe.jsx)("source",{src:t.videoPath,type:"video/mp4"}),"Your browser does not support the video tag."]})})}const UC=function(){var e,t;const[n,r]=(0,i.useState)("IN-HP"),[s,a]=(0,i.useState)({}),[o,l]=(0,i.useState)("earthquake"),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)("learning"),[f,p]=(0,i.useState)({}),[m,g]=(0,i.useState)([]),[y,v]=(0,i.useState)(!1),[b,x]=(0,i.useState)({}),[w,j]=(0,i.useState)(null),[S,N]=(0,i.useState)(!1),[E,k]=(0,i.useState)(new Set),C=(0,i.useMemo)(()=>{const e=[];return(FC[n]||["earthquake","fire"]).forEach(t=>{RC[t]&&e.push(...RC[t])}),e},[n]),T=(0,i.useMemo)(()=>RC[o]||[],[o]);(0,i.useEffect)(()=>{(async()=>{const e=Mg.getCurrentUserId(),t=[...T,...C];for(const r of t)try{const t=Mg.generateModuleVideoId(r.id.split("-")[0],r.title),n=await Mg.getVideoPoints(e,t);p(e=>ot(ot({},e),{},{[r.id]:n.points}))}catch(n){console.error("Failed to load points for video ".concat(r.id,":"),n)}})(),_()},[o,n]);const _=async()=>{try{v(!0);const e=await AC.getAllAssignments();g(e),A(e)}catch(e){console.error("Failed to load assignments:",e)}finally{v(!1)}},A=async e=>{try{const t=Mg.getCurrentUserId(),n=e.map(async e=>{const n=Mg.generateAssignmentId(e._id,e.title),r=await Mg.getVideoPoints(t,n);return{assignmentId:e._id,points:r.points||0}}),r=await Promise.all(n),i={};r.forEach(e=>{i[e.assignmentId]=e.points}),x(i)}catch(t){console.error("Failed to load assignment points:",t)}},O=e=>{u(e)},P=e=>{if(!e)return"Not specified";const t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},I=e=>{if(!e)return!1;return new Date(e)<new Date},D=e=>{if(!e)return!1;const t=new Date(e),n=new Date;return t<=new Date(n.getTime()+2592e5)&&t>n},M=(e,t)=>"".concat(e,"-").concat(t),R=(e,t,n)=>{var r;j(ot(ot({},n),{},{currentFile:{url:"".concat((null===(r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL)||void 0===r?void 0:r.replace("/api",""))||"http://localhost:5000").concat(e),originalName:"Assignment PDF",size:0,type:t},currentFileType:t}))},L=()=>{j(null)},F=()=>{u(null)};return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsxs)("ul",{className:"nav nav-tabs",id:"learnTabs",role:"tablist",children:[(0,Fe.jsx)("li",{className:"nav-item",role:"presentation",children:(0,Fe.jsxs)("button",{className:"nav-link ".concat("learning"===d?"active":""),onClick:()=>h("learning"),type:"button",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard me-2"}),"Learning Modules"]})}),(0,Fe.jsx)("li",{className:"nav-item",role:"presentation",children:(0,Fe.jsxs)("button",{className:"nav-link ".concat("assigned"===d?"active":""),onClick:()=>h("assigned"),type:"button",children:[(0,Fe.jsx)("i",{className:"bi bi-person-workspace me-2"}),"Modules Assigned by Teachers"]})})]})}),(0,Fe.jsxs)("div",{className:"tab-content",children:["learning"===d&&(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-4",children:[(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-geo-alt text-primary"}),"Your Region"]}),(0,Fe.jsxs)("select",{className:"form-select",value:n,onChange:e=>r(e.target.value),children:[(0,Fe.jsxs)("optgroup",{label:"States",children:[(0,Fe.jsx)("option",{value:"IN-AP",children:"Andhra Pradesh"}),(0,Fe.jsx)("option",{value:"IN-AR",children:"Arunachal Pradesh"}),(0,Fe.jsx)("option",{value:"IN-AS",children:"Assam"}),(0,Fe.jsx)("option",{value:"IN-BR",children:"Bihar"}),(0,Fe.jsx)("option",{value:"IN-CT",children:"Chhattisgarh"}),(0,Fe.jsx)("option",{value:"IN-GA",children:"Goa"}),(0,Fe.jsx)("option",{value:"IN-GJ",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"IN-HR",children:"Haryana"}),(0,Fe.jsx)("option",{value:"IN-HP",children:"Himachal Pradesh"}),(0,Fe.jsx)("option",{value:"IN-JH",children:"Jharkhand"}),(0,Fe.jsx)("option",{value:"IN-KA",children:"Karnataka"}),(0,Fe.jsx)("option",{value:"IN-KL",children:"Kerala"}),(0,Fe.jsx)("option",{value:"IN-MP",children:"Madhya Pradesh"}),(0,Fe.jsx)("option",{value:"IN-MH",children:"Maharashtra"}),(0,Fe.jsx)("option",{value:"IN-MN",children:"Manipur"}),(0,Fe.jsx)("option",{value:"IN-ML",children:"Meghalaya"}),(0,Fe.jsx)("option",{value:"IN-MZ",children:"Mizoram"}),(0,Fe.jsx)("option",{value:"IN-NL",children:"Nagaland"}),(0,Fe.jsx)("option",{value:"IN-OR",children:"Odisha"}),(0,Fe.jsx)("option",{value:"IN-PB",children:"Punjab"}),(0,Fe.jsx)("option",{value:"IN-RJ",children:"Rajasthan"}),(0,Fe.jsx)("option",{value:"IN-SK",children:"Sikkim"}),(0,Fe.jsx)("option",{value:"IN-TN",children:"Tamil Nadu"}),(0,Fe.jsx)("option",{value:"IN-TG",children:"Telangana"}),(0,Fe.jsx)("option",{value:"IN-TR",children:"Tripura"}),(0,Fe.jsx)("option",{value:"IN-UP",children:"Uttar Pradesh"}),(0,Fe.jsx)("option",{value:"IN-UT",children:"Uttarakhand"}),(0,Fe.jsx)("option",{value:"IN-WB",children:"West Bengal"})]}),(0,Fe.jsxs)("optgroup",{label:"Union Territories",children:[(0,Fe.jsx)("option",{value:"IN-AN",children:"Andaman and Nicobar Islands"}),(0,Fe.jsx)("option",{value:"IN-CH",children:"Chandigarh"}),(0,Fe.jsx)("option",{value:"IN-DH",children:"Dadra and Nagar Haveli and Daman and Diu"}),(0,Fe.jsx)("option",{value:"IN-DL",children:"Delhi"}),(0,Fe.jsx)("option",{value:"IN-JK",children:"Jammu and Kashmir"}),(0,Fe.jsx)("option",{value:"IN-LA",children:"Ladakh"}),(0,Fe.jsx)("option",{value:"IN-LD",children:"Lakshadweep"}),(0,Fe.jsx)("option",{value:"IN-PY",children:"Puducherry"})]})]})]})}),(0,Fe.jsx)("div",{className:"card mt-3 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-stars text-warning"}),"Recommended Courses"]}),(0,Fe.jsxs)("p",{className:"text-muted small mb-2",children:["Based on ",LC[n],"'s disaster risk profile"]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsx)("small",{className:"text-muted",children:"Primary risks: "}),null===(e=FC[n])||void 0===e?void 0:e.map((e,t)=>(0,Fe.jsxs)("span",{children:[(0,Fe.jsx)("span",{className:"badge bg-danger-subtle text-danger me-1",children:e.charAt(0).toUpperCase()+e.slice(1)}),t<FC[n].length-1&&", "]},e))]}),(0,Fe.jsx)("ul",{className:"list-group",children:C.map(e=>(0,Fe.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center cursor-pointer",style:{cursor:"pointer"},onClick:()=>O(e),children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-medium",children:e.title}),(0,Fe.jsx)("small",{className:"text-muted text-capitalize",children:e.id.split("-")[0]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsxs)("span",{className:"badge bg-primary rounded-pill",children:[e.minutes,"m"]}),(0,Fe.jsx)("i",{className:"bi bi-play-circle text-primary"})]})]},e.id))})]})})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-8",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2 p-3 rounded-4 border bg-white shadow-sm",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard text-primary"}),"Modules"]}),(0,Fe.jsx)("select",{className:"form-select w-auto",value:o,onChange:e=>l(e.target.value),children:MC.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Fe.jsx)("div",{className:"row g-3",children:T.map(e=>(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("h5",{className:"card-title",children:e.title}),(0,Fe.jsx)("p",{className:"card-text",children:"Educational video with practical safety information."}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("span",{className:"text-muted small",children:[e.minutes," minutes"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>O(e),children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-1"}),"Watch Video"]})]}),(0,Fe.jsx)("div",{className:"progress mt-3",role:"progressbar","aria-label":"module progress","aria-valuenow":f[e.id]||0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat(Math.min(f[e.id]||0,100),"%")},children:f[e.id]?"".concat(f[e.id]," pts"):"0 pts"})})]})})},e.id))}),c&&(0,Fe.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h5",{className:"modal-title",children:c.title}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:F})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsx)(BC,{video:c,onVideoEnd:async e=>{a(t=>ot(ot({},t),{},{[e.id]:100}))},onVideoProgress:async(e,t)=>{try{const n=Mg.getCurrentUserId(),r=Mg.generateModuleVideoId(e.id.split("-")[0],e.title),i=await Mg.awardPoints(n,r,"module",t);i.awardedPoints>0&&(console.log("\ud83c\udf89 ".concat(t,"% milestone reached! Awarded ").concat(i.awardedPoints," points for ").concat(e.title)),p(t=>ot(ot({},t),{},{[e.id]:(t[e.id]||0)+i.awardedPoints})))}catch(n){console.error("Failed to award milestone points:",n)}}})}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:F,children:"Close"})})]})})})]})]}),"assigned"===d&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)(DC,{}),(0,Fe.jsx)("div",{className:"mt-4",children:(0,Fe.jsxs)("div",{className:"card shadow-sm",children:[(0,Fe.jsx)("div",{className:"card-header bg-light",children:(0,Fe.jsxs)("h5",{className:"card-title mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard"}),"Assignments"]})}),(0,Fe.jsx)("div",{className:"card-body",children:y?(0,Fe.jsxs)("div",{className:"text-center py-4",children:[(0,Fe.jsx)("div",{className:"spinner-border text-info",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("p",{className:"text-muted mt-2",children:"Loading assignments..."})]}):0===m.length?(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard-x text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h5",{className:"mt-3 text-muted",children:"No assignments available"}),(0,Fe.jsx)("p",{className:"text-muted",children:"Your teachers will assign tasks with PDFs here."})]})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(S?m:m.slice(0,2)).filter(e=>e&&e.title).map((e,t)=>(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"card h-100 ".concat(I(e.dueDate)?"border-danger":D(e.dueDate)?"border-warning":"border-primary"),children:[(0,Fe.jsx)("div",{className:"card-header bg-light",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold",children:e.title}),(0,Fe.jsx)("div",{className:"d-flex gap-1",children:I(e.dueDate)?(0,Fe.jsx)("span",{className:"badge bg-danger",children:"Overdue"}):D(e.dueDate)?(0,Fe.jsx)("span",{className:"badge bg-warning",children:"Due Soon"}):(0,Fe.jsx)("span",{className:"badge bg-success",children:"Active"})})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("p",{className:"card-text text-muted small mb-3",children:e.description||"No description available"}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("small",{className:"text-muted d-block",children:"Due Date"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:e.dueDate?P(e.dueDate):"Not specified"})]}),(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("small",{className:"text-muted d-block",children:"Class"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:e.classId||"Not specified"})]})]}),e.pdfFile&&(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsx)("h6",{className:"small fw-semibold text-muted mb-2",children:"Attached Files"}),(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-2",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 p-2 bg-danger-subtle rounded",children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf text-danger"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"small fw-semibold",children:"Assignment PDF"}),(0,Fe.jsx)("div",{className:"small text-muted",children:"PDF Document"})]})]})})]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("span",{className:"text-muted small",children:"Progress"}),(0,Fe.jsxs)("span",{className:"text-muted small",children:[b[e._id]||0," / 50 points"]})]}),(0,Fe.jsx)("div",{className:"progress",role:"progressbar","aria-label":"assignment progress","aria-valuenow":b[e._id]||0,"aria-valuemin":"0","aria-valuemax":"50",children:(0,Fe.jsx)("div",{className:"progress-bar bg-primary",style:{width:"".concat(Math.min((b[e._id]||0)/50*100,100),"%")},children:b[e._id]?"".concat(b[e._id]," pts"):"0 pts"})})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-person me-1"}),"Assigned by ",e.teacherName||"Unknown Teacher"]}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[e.pdfFile&&(0,Fe.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>R(e.pdfFile,"pdf",e),children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf me-1"}),"View PDF"]}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>j(e),children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-1"}),"View Details"]})]})]})]})]})},e._id||t)),m.length>2&&(0,Fe.jsx)("div",{className:"col-12 text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>N(!S),children:S?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",m.length-2," more)"]})})})]})})]})})]})]}),w&&!w.currentFile&&(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",onClick:L,children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",onClick:e=>e.stopPropagation(),children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard text-primary"}),w.title]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:L})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{children:"Description"}),(0,Fe.jsx)("p",{className:"text-muted",children:w.description||"No description available"})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Due Date"}),(0,Fe.jsx)("p",{className:"text-muted",children:P(w.dueDate)})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Class"}),(0,Fe.jsx)("p",{className:"text-muted",children:w.classId||"Not specified"})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Instructions"}),(0,Fe.jsx)("p",{className:"text-muted",children:w.instructions||"No instructions provided"})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Teacher"}),(0,Fe.jsx)("p",{className:"text-muted",children:w.teacherName||"Unknown Teacher"})]})]}),w.pdfFile&&(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{children:"Attached Files"}),(0,Fe.jsx)("div",{className:"row g-3",children:(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsx)("div",{className:"card border-danger",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf text-danger",style:{fontSize:"2rem"}}),(0,Fe.jsx)("h6",{className:"mt-2",children:"Assignment PDF"}),(0,Fe.jsx)("p",{className:"text-muted small",children:"PDF Document"}),(0,Fe.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:()=>R(w.pdfFile,"pdf",w),children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf me-1"}),"View PDF"]})]})})})})]})]}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:L,children:"Close"})})]})})}),w&&w.currentFile&&(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",onClick:L,children:(0,Fe.jsx)("div",{className:"modal-dialog modal-xl",onClick:e=>e.stopPropagation(),children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard text-primary"}),w.title]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:L})]}),(0,Fe.jsxs)("div",{className:"modal-body",children:[(0,Fe.jsx)("div",{className:"ratio ratio-16x9",children:(0,Fe.jsx)("iframe",{src:w.currentFile.url||"",className:"rounded",title:w.currentFile.originalName||"PDF Document"})}),(0,Fe.jsxs)("div",{className:"mt-3",children:[(0,Fe.jsx)("h6",{children:"File Details"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"File Name:"})," ",w.currentFile.originalName||"Unknown"]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"File Size:"})," ",(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(w.currentFile.size||0)]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"File Type:"})," ",(null===(t=w.currentFileType)||void 0===t?void 0:t.toUpperCase())||"UNKNOWN"]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("strong",{children:"Assignment:"})," ",w.title||"Unknown Assignment"]})]})]})]}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[(0,Fe.jsx)("div",{children:E.has(M(w._id,w.currentFileType))?(0,Fe.jsxs)("span",{className:"badge bg-success",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-1"}),"Assignment Completed"]}):(0,Fe.jsxs)("button",{type:"button",className:"btn btn-success btn-sm",onClick:()=>(async(e,t)=>{try{const n=m.find(t=>t._id===e);if(!n)return;const r=Mg.getCurrentUserId(),i=Mg.generateAssignmentId(e,n.title),s=await Mg.awardPoints(r,i,"assignment",100,50);x(t=>ot(ot({},t),{},{[e]:50})),k(n=>new Set([...n,M(e,t)])),console.log("Assignment completed! Points awarded:",s)}catch(n){console.error("Failed to complete assignment:",n)}})(w._id,w.currentFileType),children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-1"}),"Mark as Completed"]})}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:L,children:"Close"})]})})]})})})]})};const VC=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",this.token=localStorage.getItem("token")}setToken(e){this.token=e,localStorage.setItem("token",e)}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=ot({headers:ot({"Content-Type":"application/json"},this.token&&{Authorization:"Bearer ".concat(this.token)})},t);try{const e=await fetch(n,r),t=await e.json();if(!e.ok)throw new Error(t.message||"Something went wrong");return t}catch(i){throw console.error("Alert API Error:",i),i}}async createAlert(e){try{const t=await this.request("/alerts",{method:"POST",body:JSON.stringify(e)});return this.simulateRealTimeAlert(t.data),t}catch(t){throw new Error("Failed to create alert: "+t.message)}}async getAlerts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),n="/alerts".concat(t?"?".concat(t):"");return await this.request(n)}catch(t){throw console.error("Error fetching alerts:",t),new Error("Failed to fetch alerts: "+t.message)}}async getAlertById(e){try{return await this.request("/alerts/".concat(e))}catch(t){throw new Error("Failed to fetch alert: "+t.message)}}async updateAlert(e,t){try{return await this.request("/alerts/".concat(e),{method:"PUT",body:JSON.stringify(t)})}catch(n){throw new Error("Failed to update alert: "+n.message)}}async deleteAlert(e){try{return await this.request("/alerts/".concat(e),{method:"DELETE"})}catch(t){throw new Error("Failed to delete alert: "+t.message)}}async getAlertsByRegion(e){return this.getAlerts({region:e})}async getAlertStats(){try{return await this.request("/alerts/stats")}catch(e){throw console.error("Error fetching alert stats:",e),new Error("Failed to fetch alert statistics: "+e.message)}}simulateRealTimeAlert(e){const t=new CustomEvent("newAlert",{detail:{type:"alert",id:e.id,title:e.title,description:e.description,alertType:e.alertType,severity:e.severity,region:e.region,affectedAreas:e.affectedAreas,validFrom:e.validFrom,validUntil:e.validUntil,createdAt:e.createdAt}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("New Alert: ".concat(e.title),{body:e.description,icon:"/favicon.ico",tag:"alert-notification"})}getCurrentUserId(){return localStorage.getItem("userId")||"admin-user"}subscribeToAlerts(e){const t=t=>{e(t.detail)};return window.addEventListener("newAlert",t),()=>{window.removeEventListener("newAlert",t)}}};const zC=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)({region:"",alertType:"",severity:"",page:1,limit:10}),[o,l]=(0,i.useState)({}),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)(null),f=_g();(0,i.useEffect)(()=>{p(),m();return VC.subscribeToAlerts(e=>{t(t=>[e,...t])})},[]),(0,i.useEffect)(()=>{p()},[s]);const p=async()=>{try{r(!0);const e=await VC.getAlerts(s);t(e.data.alerts),l(e.data.pagination)}catch(e){console.error("Error loading alerts:",e)}finally{r(!1)}},m=async()=>{try{const e=await VC.getAlertStats();u(e.data.stats)}catch(e){console.error("Error loading stats:",e),u({total:0,active:0,recent:0,byType:{},bySeverity:{},byRegion:{}})}},g=(e,t)=>{a(n=>ot(ot({},n),{},{[e]:t,page:1}))},y=e=>{a(t=>ot(ot({},t),{},{page:e}))},v=e=>({earthquake:"\ud83c\udf0d",flood:"\ud83c\udf0a",fire:"\ud83d\udd25",cyclone:"\ud83c\udf00",landslide:"\u26f0\ufe0f",tsunami:"\ud83c\udf0a",drought:"\u2600\ufe0f",general:"\ud83d\udce2"}[e]||"\ud83d\udce2"),b=e=>({low:"success",medium:"warning",high:"danger",critical:"dark"}[e]||"secondary"),x=e=>({low:"Low",medium:"Medium",high:"High",critical:"Critical"}[e]||"Unknown"),w=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=e=>{const t=new Date,n=e.validFrom?new Date(e.validFrom):new Date(0),r=e.validUntil?new Date(e.validUntil):new Date(9999,11,31);return t>=n&&t<=r};return n?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading alerts..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-danger"}),"Emergency Alerts"]}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:p,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]}),"admin"===(null===f||void 0===f?void 0:f.role)&&(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>window.location.href="/admin",children:[(0,Fe.jsx)("i",{className:"bi bi-plus me-1"}),"Create Alert"]})]})]})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-primary text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:c.total||0}),(0,Fe.jsx)("p",{className:"card-text small",children:"Total Alerts"})]})})}),(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-success text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:c.active||0}),(0,Fe.jsx)("p",{className:"card-text small",children:"Active Alerts"})]})})}),(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-warning text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:c.recent||0}),(0,Fe.jsx)("p",{className:"card-text small",children:"This Week"})]})})}),(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-info text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:(null===f||void 0===f?void 0:f.institution)||"Your Region"}),(0,Fe.jsx)("p",{className:"card-text small",children:"Your Region"})]})})})]})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("h6",{className:"card-title",children:"Filter Alerts"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Region"}),(0,Fe.jsx)("select",{className:"form-select",value:s.region,onChange:e=>g("region",e.target.value),children:[{value:"",label:"All Regions"},{value:"Himachal Pradesh",label:"Himachal Pradesh"},{value:"Assam",label:"Assam"},{value:"Bihar",label:"Bihar"},{value:"Uttarakhand",label:"Uttarakhand"},{value:"Kerala",label:"Kerala"},{value:"Tamil Nadu",label:"Tamil Nadu"},{value:"Gujarat",label:"Gujarat"},{value:"Maharashtra",label:"Maharashtra"},{value:"West Bengal",label:"West Bengal"},{value:"Odisha",label:"Odisha"},{value:"Andhra Pradesh",label:"Andhra Pradesh"},{value:"Karnataka",label:"Karnataka"},{value:"Rajasthan",label:"Rajasthan"},{value:"Punjab",label:"Punjab"},{value:"Haryana",label:"Haryana"},{value:"Delhi",label:"Delhi"},{value:"Uttar Pradesh",label:"Uttar Pradesh"},{value:"Madhya Pradesh",label:"Madhya Pradesh"},{value:"Jharkhand",label:"Jharkhand"},{value:"Chhattisgarh",label:"Chhattisgarh"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Alert Type"}),(0,Fe.jsx)("select",{className:"form-select",value:s.alertType,onChange:e=>g("alertType",e.target.value),children:[{value:"",label:"All Types"},{value:"earthquake",label:"Earthquake"},{value:"flood",label:"Flood"},{value:"fire",label:"Fire"},{value:"cyclone",label:"Cyclone"},{value:"landslide",label:"Landslide"},{value:"tsunami",label:"Tsunami"},{value:"drought",label:"Drought"},{value:"general",label:"General"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Severity"}),(0,Fe.jsx)("select",{className:"form-select",value:s.severity,onChange:e=>g("severity",e.target.value),children:[{value:"",label:"All Severities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Results per page"}),(0,Fe.jsxs)("select",{className:"form-select",value:s.limit,onChange:e=>g("limit",parseInt(e.target.value)),children:[(0,Fe.jsx)("option",{value:5,children:"5 per page"}),(0,Fe.jsx)("option",{value:10,children:"10 per page"}),(0,Fe.jsx)("option",{value:20,children:"20 per page"}),(0,Fe.jsx)("option",{value:50,children:"50 per page"})]})]})]})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:0===e.length?(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-bell-slash text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h5",{className:"mt-3 text-muted",children:"No alerts found"}),(0,Fe.jsx)("p",{className:"text-muted",children:"No alerts match your current filters."})]})}):(0,Fe.jsx)("div",{className:"row g-3",children:e.map(e=>(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsx)("div",{className:"card h-100 ".concat(j(e)?"border-danger":"border-secondary"),children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-".concat(b(e.severity),"-subtle rounded-circle d-flex align-items-center justify-content-center"),style:{width:"50px",height:"50px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.5rem"},children:v(e.alertType)})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold",children:e.title}),(0,Fe.jsxs)("div",{className:"d-flex gap-1",children:[(0,Fe.jsx)("span",{className:"badge bg-".concat(b(e.severity)),children:x(e.severity)}),j(e)?(0,Fe.jsx)("span",{className:"badge bg-success",children:"Active"}):(0,Fe.jsx)("span",{className:"badge bg-secondary",children:"Expired"})]})]}),(0,Fe.jsx)("p",{className:"card-text text-muted small mb-2",children:e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-geo-alt me-1"}),e.region,(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),w(e.createdAt)]}),(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>h(e),children:"View Details"})]}),e.affectedAreas&&e.affectedAreas.length>0&&(0,Fe.jsxs)("div",{className:"mt-2",children:[(0,Fe.jsx)("small",{className:"text-muted",children:"Affected Areas: "}),e.affectedAreas.slice(0,3).map((e,t)=>(0,Fe.jsx)("span",{className:"badge bg-light text-dark me-1",children:e},t)),e.affectedAreas.length>3&&(0,Fe.jsxs)("span",{className:"badge bg-light text-dark",children:["+",e.affectedAreas.length-3," more"]})]})]})]})})})},e.id))})}),o.pages>1&&(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("nav",{"aria-label":"Alerts pagination",children:(0,Fe.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,Fe.jsx)("li",{className:"page-item ".concat(o.hasPrev?"":"disabled"),children:(0,Fe.jsx)("button",{className:"page-link",onClick:()=>y(o.current-1),disabled:!o.hasPrev,children:"Previous"})}),[...Array(o.pages)].map((e,t)=>(0,Fe.jsx)("li",{className:"page-item ".concat(o.current===t+1?"active":""),children:(0,Fe.jsx)("button",{className:"page-link",onClick:()=>y(t+1),children:t+1})},t)),(0,Fe.jsx)("li",{className:"page-item ".concat(o.hasNext?"":"disabled"),children:(0,Fe.jsx)("button",{className:"page-link",onClick:()=>y(o.current+1),disabled:!o.hasNext,children:"Next"})})]})})}),d&&(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("span",{style:{fontSize:"1.5rem"},children:v(d.alertType)}),d.title]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>h(null)})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("h6",{children:"Description"}),(0,Fe.jsx)("p",{children:d.description})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Severity"}),(0,Fe.jsx)("span",{className:"badge bg-".concat(b(d.severity)),children:x(d.severity)})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Region"}),(0,Fe.jsx)("p",{className:"mb-0",children:d.region})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Valid From"}),(0,Fe.jsx)("p",{className:"mb-0",children:w(d.validFrom)})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Valid Until"}),(0,Fe.jsx)("p",{className:"mb-0",children:w(d.validUntil)})]}),d.affectedAreas&&d.affectedAreas.length>0&&(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("h6",{children:"Affected Areas"}),(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-1",children:d.affectedAreas.map((e,t)=>(0,Fe.jsx)("span",{className:"badge bg-primary",children:e},t))})]})]})}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(null),children:"Close"})})]})})})]})};const qC=[{id:"drill-eq",title:"Earthquake Classroom Drill",steps:["Drop, Cover, Hold","Move to assembly point","Headcount & report"]},{id:"drill-fire",title:"Fire Safety Evacuation Drill",steps:["Raise alarm","Use nearest exit","Do not use elevators"]},{id:"drill-flood",title:"Flood Safety Evacuation Drill",steps:["Move to higher ground","Avoid waterlogged areas","Switch off mains"]},{id:"drill-cyclone",title:"Cyclone Evacuation Drill",steps:["Secure windows and doors","Move to designated safe area","Stay away from windows"]},{id:"drill-landslide",title:"Landslide Evacuation Drill",steps:["Move to higher ground immediately","Avoid steep slopes","Stay alert for debris flow"]}];function WC(e){let{active:t,selected:n,onVideoEnd:r,onProgressUpdate:s,onPointsUpdate:a}=e;const[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)([]),d=(0,i.useRef)(null),h=()=>{if(d.current){const e=d.current,t=e.currentTime,n=e.duration;if(n>0){const e=Math.round(t/n*100);l(e),f(e),s&&s(e)}}},f=async e=>{if(e>=100&&!c.includes(100))try{const e=Mg.getCurrentUserId(),r=Mg.generateDrillVideoId(t,null===n||void 0===n?void 0:n.title),i=await Mg.awardPoints(e,r,"drill",100);u(e=>[...e,100]),i.updated?console.log("\ud83d\udd04 Drill video completed! Updated points: +".concat(i.awardedPoints," points")):console.log("\ud83c\udf89 Drill video completed! Awarded ".concat(i.awardedPoints," points")),a&&a(t,i.awardedPoints)}catch(r){console.error("Failed to award drill completion points:",r)}};return(0,Fe.jsxs)("div",{className:"mt-3 mb-3",children:[(0,Fe.jsx)("div",{className:"ratio ratio-16x9",children:(0,Fe.jsxs)("video",{ref:d,controls:!0,autoPlay:!0,className:"rounded",style:{maxHeight:"400px"},onEnded:()=>{r&&r()},onTimeUpdate:()=>{h()},onLoadedMetadata:()=>{h()},children:[(0,Fe.jsx)("source",{src:(()=>{switch(t){case"drill-eq":return"/Videos/Classroom Drill/Earthquake Drill.mp4";case"drill-fire":return"/Videos/Classroom Drill/Fire safety evacuation.mp4";case"drill-flood":return"/Videos/Classroom Drill/Flood safety evacuation.mp4";case"drill-cyclone":return"/Videos/Classroom Drill/Cyclone evacuation.mp4";case"drill-landslide":return"/Videos/Classroom Drill/Landslide evacuation.mp4";default:return""}})(),type:"video/mp4"}),"Your browser does not support the video tag."]},t)}),(0,Fe.jsxs)("div",{className:"alert alert-info mt-2 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle"}),(0,Fe.jsx)("span",{children:(()=>{switch(t){case"drill-eq":return"Follow along with the video demonstration for proper earthquake drill procedures.";case"drill-fire":return"Follow along with the video demonstration for proper fire evacuation procedures.";case"drill-flood":return"Follow along with the video demonstration for proper flood safety procedures.";case"drill-cyclone":return"Follow along with the video demonstration for proper cyclone evacuation procedures.";case"drill-landslide":return"Follow along with the video demonstration for proper landslide evacuation procedures.";default:return""}})()})]})]})}const HC=function(){const[e,t]=(0,i.useState)("drill-eq"),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)({}),[c,u]=(0,i.useState)("admin"),[d,h]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(null),[y,v]=(0,i.useState)(!0),b=(0,i.useMemo)(()=>qC.find(t=>t.id===e),[e]),x=async()=>{const e=Mg.getCurrentUserId();for(const n of qC)try{const t=Mg.generateDrillVideoId(n.id,n.title),r=await Mg.getVideoPoints(e,t);l(e=>ot(ot({},e),{},{[n.id]:r.points}))}catch(t){console.error("Failed to load points for drill ".concat(n.id,":"),t)}},w=async()=>{try{h([])}catch(e){console.error("Failed to load admin drills:",e)}},j=async()=>{try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",t=await fetch("".concat(e,"/drill-announcements")),n=await t.json(),r=await fetch("".concat(e,"/teacher-actions/confirmed-drills")),i=await r.json(),s=n.success&&n.data.announcements||[],a=i.success&&i.data.drills||[];p([...s,...a])}catch(e){console.error("Failed to load teacher drills:",e)}};(0,i.useEffect)(()=>{(async()=>{v(!0),await Promise.all([w(),j(),x()]),v(!1)})()},[]);const S=e=>({fire:"\ud83d\udd25",earthquake:"\ud83c\udf0d",flood:"\ud83c\udf0a",cyclone:"\ud83c\udf00",landslide:"\ud83c\udfd4\ufe0f",evacuation:"\ud83d\udea8"}[e]||"\ud83d\udce2"),N=e=>({low:"success",normal:"warning",high:"danger"}[e]||"warning"),E=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=e=>{u(e),"admin"===e?g(null):(t(""),r(!1),a(!1))};return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("style",{children:"\n          .list-group-item-action {\n            transition: all 0.2s ease-in-out;\n          }\n          .list-group-item-action:hover {\n            background-color: #e3f2fd;\n            border-color: #bbdefb;\n          }\n          .list-group-item-action:focus {\n            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n            outline: none;\n          }\n          .list-group-item-action.active {\n            background-color: #2196f3 !important;\n            border-color: #1976d2 !important;\n            color: white !important;\n          }\n          .list-group-item-action.active:hover {\n            background-color: #1976d2 !important;\n            border-color: #1565c0 !important;\n            color: white !important;\n          }\n          .list-group-item-action.active:focus {\n            background-color: #1976d2 !important;\n            border-color: #1565c0 !important;\n            color: white !important;\n          }\n          .nav-tabs .nav-link {\n            transition: all 0.2s ease-in-out;\n          }\n          .nav-tabs .nav-link:hover {\n            border-color: #e9ecef #e9ecef #dee2e6;\n          }\n          .nav-tabs .nav-link.active {\n            color: #495057;\n            background-color: #fff;\n            border-color: #dee2e6 #dee2e6 #fff;\n          }\n        "}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsxs)("ul",{className:"nav nav-tabs",id:"drillTabs",role:"tablist",children:[(0,Fe.jsx)("li",{className:"nav-item",role:"presentation",children:(0,Fe.jsxs)("button",{className:"nav-link ".concat("admin"===c?"active":""),onClick:()=>k("admin"),type:"button",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-2"}),"Practice Drills"]})}),(0,Fe.jsx)("li",{className:"nav-item",role:"presentation",children:(0,Fe.jsxs)("button",{className:"nav-link ".concat("teacher"===c?"active":""),onClick:()=>k("teacher"),type:"button",children:[(0,Fe.jsx)("i",{className:"bi bi-person-check me-2"}),"Teacher Drills (",f.length,")"]})})]})}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-4",children:["admin"===c?(0,Fe.jsxs)("div",{className:"card shadow-sm",children:[(0,Fe.jsx)("div",{className:"card-header bg-success text-white",children:(0,Fe.jsxs)("h6",{className:"mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-play-circle me-2"}),"Practice Drills"]})}),(0,Fe.jsx)("div",{className:"card-body p-0",children:(0,Fe.jsx)("div",{className:"list-group list-group-flush",children:qC.map(n=>(0,Fe.jsxs)("button",{type:"button",className:"list-group-item list-group-item-action d-flex align-items-center ".concat(e===n.id?"active":""),onClick:()=>{return e=n.id,t(e),r(!1),void a(!1);var e},style:{border:"none",textAlign:"left"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-circle me-2"}),(0,Fe.jsx)("span",{className:"fw-medium",children:n.title})]},n.id))})})]}):(0,Fe.jsxs)("div",{className:"card shadow-sm",children:[(0,Fe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Fe.jsxs)("h6",{className:"mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-list-ul me-2"}),"Teacher Created Drills"]})}),(0,Fe.jsx)("div",{className:"card-body p-0",children:y?(0,Fe.jsx)("div",{className:"text-center py-4",children:(0,Fe.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===f.length?(0,Fe.jsxs)("div",{className:"text-center py-4 text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-calendar-x fs-4"}),(0,Fe.jsx)("p",{className:"mt-2 mb-0",children:"No teacher drills available"})]}):(0,Fe.jsx)("div",{className:"list-group list-group-flush",children:f.map((e,n)=>(0,Fe.jsx)("button",{type:"button",className:"list-group-item list-group-item-action ".concat((null===m||void 0===m?void 0:m._id)===e._id?"active":""),onClick:()=>(e=>{g(e),t(""),r(!1),a(!1)})(e),style:{border:"none",textAlign:"left"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-primary-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:S(e.drillType)})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 fw-semibold",children:e.title}),(0,Fe.jsx)("p",{className:"text-muted small mb-2",children:e.message||e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-person me-1"}),e.teacherName||"Admin",(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),E(e.createdAt)]}),e.priority&&(0,Fe.jsx)("span",{className:"badge bg-".concat(N(e.priority)),children:e.priority})]})]})]})},e._id||n))})})]}),(0,Fe.jsxs)("div",{className:"alert alert-info mt-3 d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-vr"}),(0,Fe.jsx)("span",{children:"Use VR assets here for immersive practice."})]})]}),(0,Fe.jsx)("div",{className:"col-12 col-md-8",children:(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsx)("div",{className:"card-body",children:"admin"===c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick text-success"}),(null===b||void 0===b?void 0:b.title)||"Select a Practice Drill"]}),b?(0,Fe.jsxs)(Fe.Fragment,{children:[s&&(0,Fe.jsx)(WC,{active:e,selected:b,onVideoEnd:()=>{r(!1),a(!1)},onProgressUpdate:e=>{console.log("Video progress: ".concat(e,"%"))},onPointsUpdate:(e,t)=>{l(n=>ot(ot({},n),{},{[e]:(n[e]||0)+t}))}}),(0,Fe.jsxs)("div",{className:"mt-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("span",{className:"text-muted small",children:"Progress"}),(0,Fe.jsxs)("span",{className:"text-muted small",children:[o[e]||0," / 100 points"]})]}),(0,Fe.jsx)("div",{className:"progress",role:"progressbar","aria-label":"drill progress","aria-valuenow":o[e]||0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,Fe.jsx)("div",{className:"progress-bar bg-success",style:{width:"".concat(Math.min(o[e]||0,100),"%")},children:o[e]?"".concat(o[e]," pts"):"0 pts"})})]}),(0,Fe.jsx)("ol",{className:"mt-3",children:null===b||void 0===b?void 0:b.steps.map((e,t)=>(0,Fe.jsx)("li",{className:"mb-2",children:e},t))}),(0,Fe.jsxs)("div",{className:"d-flex gap-2 mt-3",children:[(0,Fe.jsxs)("button",{className:"btn btn-primary",onClick:()=>{r(!0),a(!0)},disabled:n,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-1"}),"Start"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-secondary",onClick:()=>{r(!1),a(!1)},disabled:!n,children:[(0,Fe.jsx)("i",{className:"bi bi-stop-circle me-1"}),"Stop"]})]})]}):(0,Fe.jsxs)("div",{className:"text-center py-5 text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-left fs-1"}),(0,Fe.jsx)("p",{className:"mt-3",children:"Select a practice drill from the left panel to get started"})]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-person-check text-primary"}),(null===m||void 0===m?void 0:m.title)||"Select a Teacher Drill"]}),m?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"row g-3 mb-4",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"bg-primary-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.5rem"},children:S(m.drillType)})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h5",{className:"mb-1",children:m.title}),(0,Fe.jsxs)("p",{className:"text-muted mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-person me-1"}),m.teacherName||"Admin"]})]})]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"text-end",children:[(0,Fe.jsx)("span",{className:"badge bg-".concat(N(m.priority)," fs-6"),children:m.priority||"normal"}),(0,Fe.jsxs)("p",{className:"text-muted small mt-2 mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),E(m.createdAt)]})]})})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{className:"text-primary",children:"Description"}),(0,Fe.jsx)("p",{className:"text-muted",children:m.message||m.description||"No description available."})]}),m.targetClasses&&(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{className:"text-primary",children:"Target Classes"}),(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-2",children:m.targetClasses.map((e,t)=>(0,Fe.jsx)("span",{className:"badge bg-info",children:e},t))})]}),m.scheduledDate&&(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{className:"text-primary",children:"Scheduled Information"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("p",{className:"mb-1",children:[(0,Fe.jsx)("strong",{children:"Date:"})," ",m.scheduledDate]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("p",{className:"mb-1",children:[(0,Fe.jsx)("strong",{children:"Time:"})," ",m.scheduledTime]})}),m.location&&(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("p",{className:"mb-1",children:[(0,Fe.jsx)("strong",{children:"Location:"})," ",m.location]})})]})]}),(0,Fe.jsxs)("div",{className:"alert alert-info",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-2"}),"This drill was created by ",m.teacherName||"Admin"," and is part of the school's emergency preparedness program."]})]}):(0,Fe.jsxs)("div",{className:"text-center py-5 text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-left fs-1"}),(0,Fe.jsx)("p",{className:"mt-3",children:"Select a teacher drill from the left panel to view details"})]})]})})})})]})]})};const KC=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({totalPoints:0,videosWatched:0}),[s,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{o(),l()},[]);const o=async()=>{try{const e=await Mg.getLeaderboard(50);t(e)}catch(e){console.error("Failed to load leaderboard:",e)}finally{a(!1)}},l=async()=>{try{const e=Mg.getCurrentUserId(),t=await Mg.getUserPoints(e);r(t)}catch(e){console.error("Failed to load user points:",e)}},c=e=>0===e?"bg-primary text-white border-0 shadow-sm":1===e||2===e?"bg-light border-0 shadow-sm":"border-0";return(0,Fe.jsx)("div",{className:"container-fluid",children:(0,Fe.jsxs)("div",{className:"row g-4",children:[(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsxs)("h2",{className:"card-title d-flex align-items-center justify-content-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy text-warning"}),"Your Progress"]}),(0,Fe.jsxs)("div",{className:"row g-3 mt-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"p-3 bg-primary-subtle rounded",children:[(0,Fe.jsx)("h3",{className:"text-primary mb-1",children:n.totalPoints}),(0,Fe.jsx)("p",{className:"text-muted mb-0",children:"Total Points"})]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"p-3 bg-success-subtle rounded",children:[(0,Fe.jsx)("h3",{className:"text-success mb-1",children:n.videosWatched}),(0,Fe.jsx)("p",{className:"text-muted mb-0",children:"Videos Watched"})]})})]})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"card shadow-sm",children:[(0,Fe.jsxs)("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"card-title mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy-fill"}),"Leaderboard"]}),(0,Fe.jsxs)("button",{className:"btn btn-light btn-sm",onClick:()=>{a(!0),o()},disabled:s,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise ".concat(s?"spinner-border spinner-border-sm":"")}),"Refresh"]})]}),(0,Fe.jsx)("div",{className:"card-body",children:s?(0,Fe.jsxs)("div",{className:"text-center py-4",children:[(0,Fe.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("p",{className:"text-muted mt-2",children:"Loading leaderboard..."})]}):0===e.length?(0,Fe.jsxs)("div",{className:"text-center py-4",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2",children:"No users found. Please check your database connection."})]}):(0,Fe.jsx)("div",{className:"row g-3",children:e.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card ".concat(c(t)),children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"fs-3 fw-bold",children:""}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("h5",{className:"mb-1 fw-semibold",children:["demo-user"===e.userId?"You":e.userId,"demo-user"===e.userId&&(0,Fe.jsx)("span",{className:"badge bg-primary ms-2",children:"You"})]}),(0,Fe.jsxs)("small",{className:"text-muted",children:[e.videosWatched," video",1!==e.videosWatched?"s":""," watched"]})]})]}),(0,Fe.jsxs)("div",{className:"text-end",children:[(0,Fe.jsx)("div",{className:"fs-4 fw-bold",children:e.totalPoints}),(0,Fe.jsx)("small",{className:"text-muted",children:"points"})]})]})})})},e.userId))})})]})})]})})},GC=[{label:"NDMA Helpline",phone:"011-26701700"},{label:"Police",phone:"100"},{label:"Ambulance",phone:"108"},{label:"Fire",phone:"101"}];const QC=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{d()},[]);const d=async()=>{try{a(!0);const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",[n,i]=await Promise.all([fetch("".concat(e,"/emergency-alerts")),fetch("".concat(e,"/drill-announcements"))]),s=await n.json(),o=await i.json();s.success&&t(s.data.alerts||[]),o.success&&r(o.data.announcements||[])}catch(e){console.error("Error fetching real-time data:",e)}finally{a(!1)}},h=e=>{if(!e)return"Unknown";return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-telephone text-danger"}),"Emergency Contacts"]}),(0,Fe.jsx)("ul",{className:"list-group mt-3",children:GC.map(e=>(0,Fe.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.label,(0,Fe.jsx)("a",{className:"btn btn-outline-danger btn-sm",href:"tel:".concat(e.phone),children:e.phone})]},e.label))})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"card h-100",children:[(0,Fe.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"card-title mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-megaphone me-2"}),"Real-time Communication"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:d,disabled:s,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise ".concat(s?"spinner-border spinner-border-sm":"")}),"Refresh"]})]}),(0,Fe.jsx)("div",{className:"card-body",children:s?(0,Fe.jsxs)("div",{className:"text-center py-3",children:[(0,Fe.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("p",{className:"text-muted mt-2 small",children:"Loading alerts..."})]}):(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsxs)("h6",{className:"text-danger mb-2",children:["Emergency Alerts (",e.length,")"]}),0===e.length?(0,Fe.jsxs)("div",{className:"text-center py-2 text-muted small",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-1"}),"No active alerts"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{className:"list-group list-group-flush",children:(o?e:e.slice(0,2)).map(e=>(0,Fe.jsx)("div",{className:"list-group-item px-0 py-2 border-0",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 small fw-semibold",children:e.title}),(0,Fe.jsx)("p",{className:"text-muted small mb-1",children:e.message})]}),(0,Fe.jsx)("small",{className:"text-muted",children:h(e.createdAt)})]})},e._id))}),e.length>2&&(0,Fe.jsx)("div",{className:"text-center mt-2",children:(0,Fe.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>l(!o),children:o?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",e.length-2," more)"]})})})]})]}),(0,Fe.jsxs)("div",{className:"mb-0",children:[(0,Fe.jsxs)("h6",{className:"text-warning mb-2",children:["Drill Announcements (",n.length,")"]}),0===n.length?(0,Fe.jsxs)("div",{className:"text-center py-2 text-muted small",children:[(0,Fe.jsx)("i",{className:"bi bi-calendar-x me-1"}),"No announcements"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{className:"list-group list-group-flush",children:(c?n:n.slice(0,2)).map(e=>(0,Fe.jsx)("div",{className:"list-group-item px-0 py-2 border-0",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 small fw-semibold",children:e.title}),(0,Fe.jsx)("p",{className:"text-muted small mb-1",children:e.message})]}),(0,Fe.jsx)("small",{className:"text-muted",children:h(e.createdAt)})]})},e._id))}),n.length>2&&(0,Fe.jsx)("div",{className:"text-center mt-2",children:(0,Fe.jsx)("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>u(!c),children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",n.length-2," more)"]})})})]})]})]})})]})})]})};const YC=new class{constructor(){this.sounds={},this.isEnabled=!0,this.volume=.7,this.initializeSounds()}initializeSounds(){this.sounds={earthquake:this.createEarthquakeSound(),fire:this.createFireSound(),flood:this.createFloodSound(),cyclone:this.createCycloneSound(),landslide:this.createLandslideSound(),success:this.createChildFriendlySuccessSound(),error:this.createChildFriendlyErrorSound()}}createEarthquakeSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*Math.sin(2*Math.PI*15*e),s=.2*Math.sin(2*Math.PI*45*e),a=.1*Math.sin(2*Math.PI*120*e),o=.15*(Math.random()-.5),l=Math.sin(Math.PI*e/2)*Math.sin(Math.PI*e/2);r[i]=(n+s+a+o)*l*this.volume}return{audioContext:e,buffer:n}}createFireSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.25*Math.sin(2*Math.PI*80*e),s=.2*Math.sin(2*Math.PI*200*e),a=.15*Math.sin(2*Math.PI*150*e),o=Math.random()>.95?.3*(Math.random()-.5):0,l=Math.min(e/.5,1)*Math.max(0,1-(e-2)/.5);r[i]=(n+s+a+o)*l*this.volume}return{audioContext:e,buffer:n}}createFloodSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*(Math.random()-.5),s=.2*Math.sin(2*Math.PI*100*e),a=.25*Math.sin(2*Math.PI*60*e),o=.15*Math.sin(2*Math.PI*30*e),l=Math.min(e/1,1)*Math.max(0,1-(e-1.5)/1);r[i]=(n+s+a+o)*l*this.volume}return{audioContext:e,buffer:n}}createCycloneSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*Math.sin(2*Math.PI*40*e),s=.25*Math.sin(2*Math.PI*90*e),a=.2*(Math.random()-.5),o=.2*Math.sin(2*Math.PI*70*e+Math.sin(2*Math.PI*5*e)),l=Math.min(e/.8,1)*Math.max(0,1-(e-1.7)/.8);r[i]=(n+s+a+o)*l*this.volume}return{audioContext:e,buffer:n}}createLandslideSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*Math.sin(2*Math.PI*25*e),s=.25*Math.sin(2*Math.PI*80*e),a=.2*Math.sin(2*Math.PI*180*e),o=Math.random()>.9?.4*(Math.random()-.5):0,l=Math.min(e/.3,1)*Math.max(0,1-(e-1.5)/1);r[i]=(n+s+a+o)*l*this.volume}return{audioContext:e,buffer:n}}createChildFriendlySuccessSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,.8*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.15*Math.sin(2*Math.PI*261.63*e)+.2*Math.sin(2*Math.PI*329.63*e)+.2*Math.sin(2*Math.PI*392*e)+.15*Math.sin(2*Math.PI*523.25*e),s=.1*Math.sin(2*Math.PI*523.25*e*1.5)+.08*Math.sin(2*Math.PI*523.25*e*2),a=.05*Math.sin(2*Math.PI*1200*e),o=Math.min(e/.05,1)*Math.exp(3*-e);r[i]=(n+s+a)*o*this.volume*.8}return{audioContext:e,buffer:n}}createChildFriendlyErrorSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,.6*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.2*Math.sin(2*Math.PI*174.61*e),s=.1*Math.sin(2*Math.PI*174.61*e*1.2)+.08*Math.sin(2*Math.PI*174.61*e*1.5),a=.1*Math.sin(2*Math.PI*80*e),o=Math.min(e/.1,1)*Math.exp(4*-e);r[i]=(n+s+a)*o*this.volume*.6}return{audioContext:e,buffer:n}}playDisasterSound(e){if(this.isEnabled&&this.sounds[e])try{const{audioContext:t,buffer:n}=this.sounds[e];"suspended"===t.state&&t.resume();const r=t.createBufferSource(),i=t.createGain();r.buffer=n,r.connect(i),i.connect(t.destination),i.gain.value=this.volume,r.start(0),r.onended=()=>{r.disconnect(),i.disconnect()}}catch(t){console.warn("Could not play disaster sound:",t)}}setEnabled(e){this.isEnabled=e}setVolume(e){this.volume=Math.max(0,Math.min(1,e))}getVolume(){return this.volume}isSoundEnabled(){return this.isEnabled}},XC=YC,JC=e=>{let{type:t,trigger:n,position:r={x:50,y:50}}=e;const[s,a]=(0,i.useState)([]);return(0,i.useEffect)(()=>{if(n){const e=[],n="success"===t?15:"error"===t?8:12;for(let s=0;s<n;s++)e.push({id:s,x:r.x+20*(Math.random()-.5),y:r.y+20*(Math.random()-.5),vx:4*(Math.random()-.5),vy:4*(Math.random()-.5)-2,life:1,decay:.02+.01*Math.random(),size:4*Math.random()+2,color:"success"===t?"#10b981":"error"===t?"#ef4444":"#3b82f6"});a(e);const i=setInterval(()=>{a(e=>e.map(e=>ot(ot({},e),{},{x:e.x+e.vx,y:e.y+e.vy,life:e.life-e.decay,vy:e.vy+.1})).filter(e=>e.life>0))},16);setTimeout(()=>clearInterval(i),2e3)}},[n,t,r]),(0,Fe.jsx)("div",{className:"particle-container",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3},children:s.map(e=>(0,Fe.jsx)("div",{className:"particle",style:{position:"absolute",left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),backgroundColor:e.color,borderRadius:"50%",opacity:e.life,transform:"translate(-50%, -50%) scale(".concat(e.life,")"),transition:"all 0.1s ease-out"}},e.id))})},$C=e=>{let{children:t,onClick:n,className:r="",type:s="default",disabled:a=!1}=e;const[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)({x:50,y:50}),f="interactive-button ".concat(r," ").concat(o?"pressed":""," ").concat(a?"disabled":"");return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{className:f,onClick:e=>{if(a)return;const t=e.currentTarget.getBoundingClientRect(),r=(t.left+t.width/2)/window.innerWidth*100,i=(t.top+t.height/2)/window.innerHeight*100;h({x:r,y:i}),u(!0),l(!0),setTimeout(()=>{l(!1),u(!1)},600),null===n||void 0===n||n(e)},disabled:a,style:{transform:o?"scale(0.95)":"scale(1)",transition:"all 0.1s ease-out"},children:t}),(0,Fe.jsx)(JC,{type:s,trigger:c,position:d})]})},ZC=(e,t,n)=>{const r=JSON.parse(localStorage.getItem("disasterScores")||"{}");r[e]={score:t,maxScore:n,timestamp:(new Date).toISOString()},localStorage.setItem("disasterScores",JSON.stringify(r))},eT=()=>JSON.parse(localStorage.getItem("disasterScores")||"{}"),tT=(e,t)=>{const n=e/t*100;return n>=90?{name:"Safety Expert",icon:"\ud83c\udfc6",color:"warning"}:n>=75?{name:"Safety Star",icon:"\u2b50",color:"success"}:n>=50?{name:"Safety Learner",icon:"\ud83d\udcda",color:"info"}:{name:"Safety Beginner",icon:"\ud83c\udfaf",color:"secondary"}},nT=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)("ready"),[s,a]=(0,i.useState)(0),[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=[{id:1,question:"\ud83d\udea8 FIRE ALARM! The loud beeping starts while you're playing with your toys! What should you do immediately?",options:[{text:"\ud83e\udd8e Stop, Drop, and Crawl like a lizard to the nearest exit",correct:!0,feedback:"\ud83c\udf89 You're a fire safety champion! Crawling like a lizard keeps you below the smoke where the air is cleaner!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run as fast as you can to get out",correct:!1,feedback:"\u274c Running can make you breathe in more smoke and you might fall! Stay calm and crawl like a lizard!"},{text:"\ud83c\udf92 Grab your favorite toy first",correct:!1,feedback:"\u274c Toys can be replaced, but you can't! Your safety is the most important thing!"},{text:"\ud83d\uded7 Use the elevator to get downstairs quickly",correct:!1,feedback:"\u274c Never use elevators during a fire - they might stop working and you could get stuck!"}]},{id:2,question:"\ud83d\udca8 You're crawling down the hallway when you see thick gray smoke! It's hard to see. What should you do?",options:[{text:"\ud83e\udd8e Keep crawling on your hands and knees like a lizard",correct:!0,feedback:"\ud83c\udf1f Awesome! You're being so smart! The air near the floor is much cleaner and easier to breathe!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run through the smoke as fast as possible",correct:!1,feedback:"\u274c Running through smoke makes you breathe in more bad air! Keep crawling like a lizard!"},{text:"\ud83d\udeaa Go back to your room and wait for help",correct:!1,feedback:"\u274c Never go back into a burning building! Keep looking for a safe way out!"},{text:"\ud83e\uddfb Cover your mouth with a wet towel and walk normally",correct:!1,feedback:"\u274c While covering your mouth helps, you should still crawl like a lizard to stay below the smoke!"}]},{id:3,question:"\ud83d\udeaa You reach a closed door. What should you do before opening it?",options:[{text:"\ud83e\udd1a Feel the door with the back of your hand like a detective",correct:!0,feedback:"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f You're a super detective! Checking if the door is hot helps you know if there's fire on the other side!"},{text:"\ud83d\udeaa Open the door immediately",correct:!1,feedback:"\u274c Always check if a door is hot first - it's like being a safety detective!"},{text:"\ud83d\udc4a Knock on the door first",correct:!1,feedback:"\u274c Don't waste time knocking - be a detective and check the door temperature first!"},{text:"\ud83d\udc41\ufe0f Look through the keyhole",correct:!1,feedback:"\u274c The back of your hand is the best detective tool to check door temperature safely!"}]},{id:4,question:"\ud83d\udd25 The door feels hot like a warm cookie! What should you do?",options:[{text:"\ud83d\udd04 Find a different door or window to escape through",correct:!0,feedback:"\ud83c\udfaf Perfect! You're a fire escape expert! A hot door means fire is on the other side - find another way out!"},{text:"\ud83d\udeaa Open the door anyway",correct:!1,feedback:"\u274c Never open a hot door - it could make the fire spread faster! Find another way out!"},{text:"\u23f0 Wait for help at the door",correct:!1,feedback:"\u274c Don't wait - be an active escape artist and find another way out right now!"},{text:"\ud83d\udca7 Try to cool the door with water",correct:!1,feedback:"\u274c Don't waste time - be a quick escape artist and find another way out immediately!"}]},{id:5,question:"\ud83c\udf89 You made it safely outside! The fire truck is coming! What should you do next?",options:[{text:"\ud83d\udccd Go to the meeting spot and wait for your teacher to call your name",correct:!0,feedback:"\ud83c\udfc6 You're a fire safety superstar! The meeting spot is where everyone goes so teachers can make sure everyone is safe!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Go back inside to help your friends",correct:!1,feedback:"\u274c Never go back into a burning building! Let the firefighters help - they have special equipment!"},{text:"\ud83d\ude97 Go to your car and leave immediately",correct:!1,feedback:"\u274c Stay at the meeting spot so your teacher knows you're safe and can tell your family!"},{text:"\ud83d\udcf1 Call your family first",correct:!1,feedback:"\u274c Go to the meeting spot first, then you can call your family once your teacher knows you're safe!"}]}],p=()=>{r("active"),a(0),l(0),u(null),h(!1)},m=()=>{r("ready"),a(0),l(0),u(null),h(!1)};if("ready"===n)return(0,Fe.jsxs)("div",{className:"game-card",style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Fe.jsx)("div",{className:"game-header fire-header",style:{padding:"16px 24px",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",borderRadius:"12px 12px 0 0"},children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2 text-white",style:{fontSize:"1.4rem",fontWeight:"600"},children:[(0,Fe.jsx)("i",{className:"bi bi-fire",style:{fontSize:"1.2rem"}}),"Fire Safety Training"]})}),(0,Fe.jsxs)("div",{className:"card-body",style:{padding:"32px 24px"},children:[(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{width:"160px",height:"160px",margin:"0 auto 24px",background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderRadius:"20px",border:"3px solid #dc2626",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(220, 38, 38, 0.3)"},children:(0,Fe.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fe.jsx)("rect",{x:"20",y:"40",width:"12",height:"35",fill:"#DC2626",rx:"3"}),(0,Fe.jsx)("rect",{x:"17",y:"35",width:"18",height:"8",fill:"#DC2626",rx:"3"}),(0,Fe.jsx)("rect",{x:"22",y:"25",width:"8",height:"12",fill:"#DC2626",rx:"2"}),(0,Fe.jsx)("circle",{cx:"26",cy:"31",r:"2",fill:"#FEF2F2"}),(0,Fe.jsx)("path",{d:"M55 65 Q65 45 75 65 Q85 55 95 65 L95 85 L55 85 Z",fill:"#FF6B35"}),(0,Fe.jsx)("path",{d:"M57 65 Q67 50 77 65 Q87 57 97 65 L97 83 L57 83 Z",fill:"#FF8C42"}),(0,Fe.jsx)("path",{d:"M59 65 Q69 55 79 65 Q89 59 99 65 L99 81 L59 81 Z",fill:"#FFA726"}),(0,Fe.jsx)("ellipse",{cx:"45",cy:"30",rx:"12",ry:"8",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"38",y:"25",width:"14",height:"4",fill:"#FEF2F2",rx:"2"}),(0,Fe.jsx)("path",{d:"M30 15 Q40 8 50 15 Q40 22 30 15 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"40",y:"19",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"})]})})}),(0,Fe.jsx)("h2",{className:"text-center mb-4",style:{fontSize:"2.2rem",fontWeight:"700",color:"#1f2937",lineHeight:"1.2"},children:"Fire Safety Training"}),(0,Fe.jsx)("div",{className:"text-center mb-5",style:{maxWidth:"600px",margin:"0 auto"},children:(0,Fe.jsx)("p",{style:{fontSize:"1.2rem",lineHeight:"1.7",color:"#4b5563",fontWeight:"400",margin:"0"},children:"Learn proper fire safety procedures through scenario-based training. Practice emergency response protocols and evacuation techniques."})}),(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b",borderRadius:"16px",padding:"20px 24px",maxWidth:"500px",margin:"0 auto",boxShadow:"0 4px 15px rgba(245, 158, 11, 0.2)"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb",style:{fontSize:"1.5rem",color:"#f59e0b"}}),(0,Fe.jsxs)("div",{className:"text-start",children:[(0,Fe.jsx)("strong",{style:{fontSize:"1.1rem",color:"#92400e"},children:"Safety Tip:"}),(0,Fe.jsx)("p",{className:"mb-0 mt-1",style:{fontSize:"1rem",color:"#92400e",lineHeight:"1.5"},children:"In a real fire, stay low to avoid smoke and move quickly but safely to exits."})]})]})})}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("button",{className:"btn btn-lg",onClick:p,style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",border:"none",borderRadius:"16px",padding:"16px 32px",fontSize:"1.3rem",fontWeight:"600",color:"white",boxShadow:"0 6px 20px rgba(239, 68, 68, 0.4)",transition:"all 0.3s ease",minWidth:"200px"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(239, 68, 68, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 6px 20px rgba(239, 68, 68, 0.4)"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.4rem"}}),"Start Training"]})})]})]});if("active"===n){const e=f[s];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header fire-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-fire"}),"Fire Emergency Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",s+1,"/",f.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("div",{style:{width:"100%",height:"200px",background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderRadius:"16px",border:"3px solid #dc2626",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(220, 38, 38, 0.3)",overflow:"hidden",position:"relative"},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 400 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("path",{d:"M100 120 Q120 80 140 120 Q160 100 180 120 Q200 90 220 120 L220 160 L100 160 Z",fill:"#FF6B35"}),(0,Fe.jsx)("path",{d:"M102 120 Q122 85 142 120 Q162 105 182 120 Q202 95 222 120 L222 158 L102 158 Z",fill:"#FF8C42"}),(0,Fe.jsx)("path",{d:"M104 120 Q124 90 144 120 Q164 110 184 120 Q204 100 224 120 L224 156 L104 156 Z",fill:"#FFA726"}),(0,Fe.jsx)("path",{d:"M250 130 Q270 90 290 130 Q310 110 330 130 Q350 100 370 130 L370 170 L250 170 Z",fill:"#FF6B35"}),(0,Fe.jsx)("path",{d:"M252 130 Q272 95 292 130 Q312 115 332 130 Q352 105 372 130 L372 168 L252 168 Z",fill:"#FF8C42"}),(0,Fe.jsx)("path",{d:"M254 130 Q274 100 294 130 Q314 120 334 130 Q354 110 374 130 L374 166 L254 166 Z",fill:"#FFA726"}),(0,Fe.jsx)("rect",{x:"50",y:"100",width:"15",height:"50",fill:"#DC2626",rx:"3"}),(0,Fe.jsx)("rect",{x:"47",y:"90",width:"21",height:"15",fill:"#DC2626",rx:"3"}),(0,Fe.jsx)("rect",{x:"52",y:"80",width:"11",height:"15",fill:"#DC2626",rx:"2"}),(0,Fe.jsx)("circle",{cx:"57",cy:"87",r:"3",fill:"#FEF2F2"}),(0,Fe.jsx)("ellipse",{cx:"150",cy:"60",rx:"20",ry:"10",fill:"#6B7280",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"160",cy:"50",rx:"15",ry:"8",fill:"#9CA3AF",opacity:"0.5"}),(0,Fe.jsx)("ellipse",{cx:"170",cy:"40",rx:"12",ry:"6",fill:"#D1D5DB",opacity:"0.3"}),(0,Fe.jsx)("ellipse",{cx:"320",cy:"70",rx:"18",ry:"9",fill:"#6B7280",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"330",cy:"60",rx:"13",ry:"7",fill:"#9CA3AF",opacity:"0.5"}),(0,Fe.jsx)("ellipse",{cx:"340",cy:"50",rx:"10",ry:"5",fill:"#D1D5DB",opacity:"0.3"})]})})}),(0,Fe.jsx)("div",{className:"alert alert-danger",children:(0,Fe.jsx)("h5",{className:"mb-0",children:e.question})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(f[s].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(f[s].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:f[s].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:f[s].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:e.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=f[s].options[e].correct;t?(l(o+1),XC.playDisasterSound("success")):XC.playDisasterSound("error"),setTimeout(()=>{h(!1),u(null),s<f.length-1?a(s+1):(ZC("fireDrill",o+(t?1:0),f.length),r("result"))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((s+1)/f.length*100,"%")}})})]})]})}if("result"===n){const e=o,n=tT(e,f.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header fire-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon text-success"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",f.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/f.length*100,"%")},children:[Math.round(e/f.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert ".concat(e>=4?"alert-success":e>=3?"alert-warning":"alert-danger"," mb-4"),children:[(0,Fe.jsx)("h5",{children:e>=4?"Excellent Performance":e>=3?"Good Performance":"Keep Practicing"}),(0,Fe.jsx)("p",{className:"mb-0",children:e>=4?"You have demonstrated strong fire safety knowledge and would be well-prepared in a real emergency.":e>=3?"Good effort! Review the feedback and practice more to improve your fire safety knowledge.":"Keep practicing! Fire safety knowledge is crucial for real emergency situations."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:m,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}},rT=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)("ready"),[s,a]=(0,i.useState)(0),[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=[{id:1,question:"\ud83c\udf0d EARTHQUAKE! The ground starts shaking while you're in your classroom! What should you do immediately?",options:[{text:"\ud83e\udd8e Drop, Cover, and Hold like a turtle under your desk",correct:!0,feedback:"\ud83c\udf89 You're an earthquake safety champion! Dropping, covering, and holding protects you from falling objects!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run outside as fast as you can",correct:!1,feedback:"\u274c Never run during an earthquake! You might fall or get hit by falling objects. Drop, cover, and hold!"},{text:"\ud83d\udeaa Stand in the doorway",correct:!1,feedback:"\u274c Doorways aren't the safest place anymore! Drop, cover, and hold under a sturdy desk or table!"},{text:"\ud83d\udcf1 Call your family first",correct:!1,feedback:"\u274c Don't use phones during an earthquake! Focus on protecting yourself first - drop, cover, and hold!"}]},{id:2,question:"\ud83e\ude91 You're under your desk when the shaking gets stronger! What should you do?",options:[{text:"\ud83e\udd8e Hold on tight to the desk legs like a koala",correct:!0,feedback:"\ud83c\udf1f Awesome! You're being so smart! Holding onto the desk keeps you safe from moving around!"},{text:"\ud83d\udc40 Look around to see what's happening",correct:!1,feedback:"\u274c Keep your head down and protected! Don't look around - just hold on tight!"},{text:"\ud83d\udce2 Shout for help loudly",correct:!1,feedback:"\u274c Stay quiet and focused! Shouting won't help and you need to conserve energy!"},{text:"\ud83d\udeb6\u200d\u2642\ufe0f Get up and move to a different spot",correct:!1,feedback:"\u274c Never move during an earthquake! Stay where you are and hold on tight!"}]},{id:3,question:"\u23f0 The shaking stops! What should you do next?",options:[{text:"\u23f3 Wait for your teacher's instructions like a patient penguin",correct:!0,feedback:"\ud83d\udc27 You're a super patient penguin! Always wait for your teacher to tell you it's safe to move!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Get up and run outside immediately",correct:!1,feedback:"\u274c Don't run yet! There might be aftershocks. Wait for your teacher's instructions!"},{text:"\ud83d\udcf1 Call your family right away",correct:!1,feedback:"\u274c Wait for your teacher first! They need to check if it's safe and give you instructions!"},{text:"\ud83d\udd0d Look around to see if there's damage",correct:!1,feedback:"\u274c Stay put and wait! Your teacher will check for damage and tell you what to do!"}]},{id:4,question:"\ud83d\udc69\u200d\ud83c\udfeb Your teacher says 'Evacuate!' What should you do?",options:[{text:"\ud83d\udeb6\u200d\u2642\ufe0f Walk calmly to the meeting spot like a careful turtle",correct:!0,feedback:"\ud83d\udc22 Perfect! You're a careful turtle! Walking calmly helps everyone stay safe during evacuation!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run as fast as you can to get outside",correct:!1,feedback:"\u274c Don't run! Walking calmly prevents accidents and helps everyone stay safe!"},{text:"\ud83c\udf92 Grab your backpack first",correct:!1,feedback:"\u274c Leave your things behind! Your safety is more important than any belongings!"},{text:"\ud83d\udc65 Help your friends carry their things",correct:!1,feedback:"\u274c Don't help with belongings! Focus on getting yourself to safety first!"}]},{id:5,question:"\ud83d\udccd You're at the meeting spot outside! What should you do now?",options:[{text:"\ud83d\udc65 Stay with your class and wait for roll call like a good student",correct:!0,feedback:"\ud83c\udfc6 You're an earthquake safety superstar! Staying with your class helps teachers make sure everyone is safe!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Go find your family immediately",correct:!1,feedback:"\u274c Stay with your class! Your teacher needs to make sure everyone is accounted for first!"},{text:"\ud83d\udcf1 Call your family from your phone",correct:!1,feedback:"\u274c Wait for your teacher's permission! They need to check everyone is safe first!"},{text:"\ud83c\udfe0 Try to walk home by yourself",correct:!1,feedback:"\u274c Never leave without permission! Stay with your class until your teacher says it's okay!"}]}],p=()=>{r("active"),a(0),l(0),u(null),h(!1)},m=()=>{r("ready"),a(0),l(0),u(null),h(!1)};if("ready"===n)return(0,Fe.jsxs)("div",{className:"game-card",style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Fe.jsx)("div",{className:"game-header earthquake-header",style:{padding:"16px 24px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"12px 12px 0 0"},children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2 text-white",style:{fontSize:"1.4rem",fontWeight:"600"},children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation",style:{fontSize:"1.2rem"}}),"Earthquake Safety Training"]})}),(0,Fe.jsxs)("div",{className:"card-body",style:{padding:"32px 24px"},children:[(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{width:"160px",height:"160px",margin:"0 auto 24px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"20px",border:"3px solid #f59e0b",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)"},children:(0,Fe.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fe.jsx)("rect",{x:"0",y:"70",width:"100",height:"30",fill:"#8B4513"}),(0,Fe.jsx)("path",{d:"M20 70 L25 100 M40 70 L45 100 M60 70 L65 100 M80 70 L85 100",stroke:"#654321",strokeWidth:"2",strokeLinecap:"round"}),(0,Fe.jsx)("rect",{x:"10",y:"40",width:"20",height:"30",fill:"#D2691E",rx:"2"}),(0,Fe.jsx)("rect",{x:"12",y:"42",width:"16",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"12",y:"52",width:"16",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"12",y:"62",width:"16",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"40",y:"35",width:"18",height:"35",fill:"#D2691E",rx:"2"}),(0,Fe.jsx)("rect",{x:"42",y:"37",width:"14",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"42",y:"47",width:"14",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"42",y:"57",width:"14",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"42",y:"67",width:"14",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"70",y:"45",width:"15",height:"25",fill:"#D2691E",rx:"2"}),(0,Fe.jsx)("rect",{x:"72",y:"47",width:"11",height:"4",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"72",y:"55",width:"11",height:"4",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"72",y:"63",width:"11",height:"4",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"15",y:"60",width:"8",height:"6",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"19",cy:"57",r:"2",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"18",y:"59",width:"2",height:"4",fill:"#4169E1"}),(0,Fe.jsx)("rect",{x:"45",y:"65",width:"7",height:"5",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"48",cy:"62",r:"1.8",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"47",y:"64",width:"2",height:"3",fill:"#4169E1"}),(0,Fe.jsx)("rect",{x:"75",y:"62",width:"6",height:"5",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"78",cy:"59",r:"1.5",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"77",y:"61",width:"2",height:"3",fill:"#4169E1"}),(0,Fe.jsx)("path",{d:"M5 50 Q25 45 50 50 Q75 45 95 50",stroke:"#FF6B6B",strokeWidth:"2",fill:"none",opacity:"0.8"})]})})}),(0,Fe.jsx)("h2",{className:"text-center mb-4",style:{fontSize:"2.2rem",fontWeight:"700",color:"#1f2937",lineHeight:"1.2"},children:"Earthquake Safety Training"}),(0,Fe.jsx)("div",{className:"text-center mb-5",style:{maxWidth:"600px",margin:"0 auto"},children:(0,Fe.jsx)("p",{style:{fontSize:"1.2rem",lineHeight:"1.7",color:"#4b5563",fontWeight:"400",margin:"0"},children:"Learn proper earthquake safety procedures through scenario-based training. Practice emergency response protocols and evacuation techniques."})}),(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px solid #f59e0b",borderRadius:"16px",padding:"20px 24px",maxWidth:"500px",margin:"0 auto",boxShadow:"0 4px 15px rgba(245, 158, 11, 0.2)"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb",style:{fontSize:"1.5rem",color:"#f59e0b"}}),(0,Fe.jsxs)("div",{className:"text-start",children:[(0,Fe.jsx)("strong",{style:{fontSize:"1.1rem",color:"#92400e"},children:"Safety Tip:"}),(0,Fe.jsx)("p",{className:"mb-0 mt-1",style:{fontSize:"1rem",color:"#92400e",lineHeight:"1.5"},children:"In a real earthquake, drop to the ground, take cover under a sturdy desk or table, and hold on until the shaking stops."})]})]})})}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("button",{className:"btn btn-lg",onClick:p,style:{background:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",border:"none",borderRadius:"16px",padding:"16px 32px",fontSize:"1.3rem",fontWeight:"600",color:"white",boxShadow:"0 6px 20px rgba(245, 158, 11, 0.4)",transition:"all 0.3s ease",minWidth:"200px"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(245, 158, 11, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 6px 20px rgba(245, 158, 11, 0.4)"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.4rem"}}),"Start Training"]})})]})]});if("active"===n){const e=f[s];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header earthquake-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation"}),"Earthquake Emergency Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",s+1,"/",f.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("div",{style:{width:"100%",height:"200px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"16px",border:"3px solid #f59e0b",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)",overflow:"hidden",position:"relative"},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 400 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("rect",{x:"0",y:"150",width:"400",height:"50",fill:"#8B4513"}),(0,Fe.jsx)("path",{d:"M50 150 L60 200 M100 150 L110 200 M150 150 L160 200 M200 150 L210 200 M250 150 L260 200 M300 150 L310 200 M350 150 L360 200",stroke:"#654321",strokeWidth:"3",strokeLinecap:"round"}),(0,Fe.jsx)("rect",{x:"50",y:"100",width:"40",height:"50",fill:"#D2691E",rx:"3"}),(0,Fe.jsx)("rect",{x:"55",y:"105",width:"30",height:"8",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"55",y:"118",width:"30",height:"8",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"55",y:"131",width:"30",height:"8",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"150",y:"80",width:"35",height:"70",fill:"#D2691E",rx:"3"}),(0,Fe.jsx)("rect",{x:"155",y:"85",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"155",y:"98",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"155",y:"111",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"155",y:"124",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"155",y:"137",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"250",y:"110",width:"30",height:"40",fill:"#D2691E",rx:"3"}),(0,Fe.jsx)("rect",{x:"255",y:"115",width:"20",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"255",y:"128",width:"20",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"255",y:"141",width:"20",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("path",{d:"M20 50 Q100 45 200 50 Q300 45 380 50",stroke:"#F59E0B",strokeWidth:"3",fill:"none",opacity:"0.8"}),(0,Fe.jsx)("path",{d:"M20 60 Q100 55 200 60 Q300 55 380 60",stroke:"#F59E0B",strokeWidth:"2",fill:"none",opacity:"0.6"})]})})}),(0,Fe.jsx)("div",{className:"alert alert-warning",children:(0,Fe.jsx)("h5",{className:"mb-0",children:e.question})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(f[s].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(f[s].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:f[s].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:f[s].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:e.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=f[s].options[e].correct;t?(l(o+1),XC.playDisasterSound("success")):XC.playDisasterSound("error"),setTimeout(()=>{h(!1),u(null),s<f.length-1?a(s+1):(ZC("earthquakeDrill",o+(t?1:0),f.length),r("result"))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((s+1)/f.length*100,"%")}})})]})]})}if("result"===n){const e=o,n=tT(e,f.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header earthquake-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon text-success"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",f.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/f.length*100,"%")},children:[Math.round(e/f.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert ".concat(e>=4?"alert-success":e>=3?"alert-warning":"alert-danger"," mb-4"),children:[(0,Fe.jsx)("h5",{children:e>=4?"Excellent Performance":e>=3?"Good Performance":"Keep Practicing"}),(0,Fe.jsx)("p",{className:"mb-0",children:e>=4?"You have demonstrated strong earthquake safety knowledge and would be well-prepared in a real emergency.":e>=3?"Good effort! Review the feedback and practice more to improve your earthquake safety knowledge.":"Keep practicing! Earthquake safety knowledge is crucial for real emergency situations."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:m,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}},iT=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)("ready"),[s,a]=(0,i.useState)(0),[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=[{id:1,question:"\ud83c\udf0a FLOOD WARNING! Heavy rain is causing water to rise around your school! What should you do immediately?",options:[{text:"\ud83c\udfc3\u200d\u2642\ufe0f Move to higher ground like a smart mountain goat",correct:!0,feedback:"\ud83d\udc10 You're a flood safety champion! Moving to higher ground keeps you safe from rising water!"},{text:"\ud83c\udfca\u200d\u2642\ufe0f Try to swim through the water",correct:!1,feedback:"\u274c Never try to swim in flood water! It's dangerous and you might get swept away!"},{text:"\ud83d\ude97 Try to drive through the water",correct:!1,feedback:"\u274c Never drive through flood water! Cars can float away and you could get trapped!"},{text:"\ud83d\udcf1 Stay and call for help",correct:!1,feedback:"\u274c Don't wait to call! Move to higher ground first, then you can call for help!"}]},{id:2,question:"\ud83d\udeb6\u200d\u2642\ufe0f You're walking to higher ground when you see fast-moving water ahead! What should you do?",options:[{text:"\ud83d\udd04 Turn around and find a different route like a smart explorer",correct:!0,feedback:"\ud83d\uddfa\ufe0f Awesome! You're a smart explorer! Never walk through fast-moving water - find a safer path!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run through the water as fast as you can",correct:!1,feedback:"\u274c Never run through fast-moving water! You could slip and get swept away!"},{text:"\ud83e\udd1a Test the water depth with your hand",correct:!1,feedback:"\u274c Don't test the water! Even shallow water can be dangerous if it's moving fast!"},{text:"\u23f0 Wait for the water to slow down",correct:!1,feedback:"\u274c Don't wait! Find a different route immediately - flood water can get worse quickly!"}]},{id:3,question:"\ud83c\udfe0 You reach a building on higher ground, but the water is still rising! What should you do?",options:[{text:"\ud83c\udfe2 Go to the highest floor like a climbing monkey",correct:!0,feedback:"\ud83d\udc12 You're a smart climbing monkey! The higher you go, the safer you'll be from rising water!"},{text:"\ud83d\udeaa Stay on the ground floor",correct:!1,feedback:"\u274c Don't stay on the ground floor! Water can still reach you there!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Go back outside to find help",correct:!1,feedback:"\u274c Don't go back outside! Stay in the building and go higher up!"},{text:"\ud83d\udcf1 Stay by the window to signal for help",correct:!1,feedback:"\u274c Don't stay by windows! Go to the highest floor first, then you can signal for help!"}]},{id:4,question:"\ud83d\udea8 You hear a flood evacuation order! What should you do?",options:[{text:"\ud83d\udc65 Follow your teacher's instructions like a good team player",correct:!0,feedback:"\ud83d\udc65 Perfect! You're a great team player! Always follow your teacher's instructions during emergencies!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run to your car to drive away",correct:!1,feedback:"\u274c Don't try to drive during a flood! Follow your teacher's evacuation plan!"},{text:"\ud83c\udf92 Pack your belongings first",correct:!1,feedback:"\u274c Don't pack belongings! Your safety is more important than any items!"},{text:"\ud83d\udcde Call your family before leaving",correct:!1,feedback:"\u274c Follow evacuation orders first! You can call your family once you're safe!"}]},{id:5,question:"\ud83d\udea4 You're in a rescue boat! What should you do to stay safe?",options:[{text:"\ud83e\udd8e Sit still and hold on tight like a calm turtle",correct:!0,feedback:"\ud83d\udc22 You're a calm turtle! Sitting still and holding on helps the rescuers keep you safe!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Stand up to see better",correct:!1,feedback:"\u274c Don't stand up in a boat! You could fall into the water!"},{text:"\ud83d\udcf1 Take pictures of the flood",correct:!1,feedback:"\u274c Don't take pictures! Focus on staying safe and following instructions!"},{text:"\ud83c\udfca\u200d\u2642\ufe0f Jump out to swim to shore",correct:!1,feedback:"\u274c Never jump out of a rescue boat! Stay in the boat until you reach safety!"}]}],p=()=>{r("active"),a(0),l(0),u(null),h(!1)},m=()=>{r("ready"),a(0),l(0),u(null),h(!1)};if("ready"===n)return(0,Fe.jsxs)("div",{className:"game-card",style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Fe.jsx)("div",{className:"game-header flood-header",style:{padding:"16px 24px",background:"linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)",borderRadius:"12px 12px 0 0"},children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2 text-white",style:{fontSize:"1.4rem",fontWeight:"600"},children:[(0,Fe.jsx)("i",{className:"bi bi-droplet",style:{fontSize:"1.2rem"}}),"Flood Safety Training"]})}),(0,Fe.jsxs)("div",{className:"card-body",style:{padding:"32px 24px"},children:[(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{width:"160px",height:"160px",margin:"0 auto 24px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:"20px",border:"3px solid #0ea5e9",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(14, 165, 233, 0.3)"},children:(0,Fe.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fe.jsx)("rect",{x:"10",y:"40",width:"20",height:"20",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"10,40 20,30 30,40",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"15",y:"50",width:"10",height:"10",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"40",y:"35",width:"18",height:"25",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"40,35 49,25 58,35",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"45",y:"45",width:"8",height:"10",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"70",y:"45",width:"15",height:"15",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"70,45 77,38 85,45",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"74",y:"52",width:"7",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("path",{d:"M0 60 Q25 50 50 60 Q75 50 100 60 L100 100 L0 100 Z",fill:"#0EA5E9",opacity:"0.7"}),(0,Fe.jsx)("path",{d:"M0 65 Q25 55 50 65 Q75 55 100 65 L100 100 L0 100 Z",fill:"#0284C7",opacity:"0.5"}),(0,Fe.jsx)("path",{d:"M0 70 Q25 60 50 70 Q75 60 100 70 L100 100 L0 100 Z",fill:"#0369A1",opacity:"0.3"}),(0,Fe.jsx)("circle",{cx:"5",cy:"25",r:"3",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"3",y:"28",width:"4",height:"6",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"2",y:"29",width:"6",height:"4",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("circle",{cx:"35",cy:"20",r:"2.5",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"34",y:"22",width:"2",height:"5",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"33",y:"23",width:"4",height:"3",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("circle",{cx:"65",cy:"25",r:"3",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"63",y:"28",width:"4",height:"6",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"62",y:"29",width:"6",height:"4",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("path",{d:"M5 15 Q10 10 15 15 Q20 10 25 15",stroke:"#10B981",strokeWidth:"2",fill:"none"}),(0,Fe.jsx)("path",{d:"M5 18 Q10 13 15 18 Q20 13 25 18",stroke:"#10B981",strokeWidth:"2",fill:"none"})]})})}),(0,Fe.jsx)("h2",{className:"text-center mb-4",style:{fontSize:"2.2rem",fontWeight:"700",color:"#1f2937",lineHeight:"1.2"},children:"Flood Safety Training"}),(0,Fe.jsx)("div",{className:"text-center mb-5",style:{maxWidth:"600px",margin:"0 auto"},children:(0,Fe.jsx)("p",{style:{fontSize:"1.2rem",lineHeight:"1.7",color:"#4b5563",fontWeight:"400",margin:"0"},children:"Learn proper flood safety procedures through scenario-based training. Practice emergency response protocols and evacuation techniques."})}),(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"2px solid #0ea5e9",borderRadius:"16px",padding:"20px 24px",maxWidth:"500px",margin:"0 auto",boxShadow:"0 4px 15px rgba(14, 165, 233, 0.2)"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb",style:{fontSize:"1.5rem",color:"#0ea5e9"}}),(0,Fe.jsxs)("div",{className:"text-start",children:[(0,Fe.jsx)("strong",{style:{fontSize:"1.1rem",color:"#0369a1"},children:"Safety Tip:"}),(0,Fe.jsx)("p",{className:"mb-0 mt-1",style:{fontSize:"1rem",color:"#0369a1",lineHeight:"1.5"},children:"In a real flood, move to higher ground immediately and never walk or drive through flood water."})]})]})})}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("button",{className:"btn btn-lg",onClick:p,style:{background:"linear-gradient(135deg, #0EA5E9 0%, #0284C7 100%)",border:"none",borderRadius:"16px",padding:"16px 32px",fontSize:"1.3rem",fontWeight:"600",color:"white",boxShadow:"0 6px 20px rgba(14, 165, 233, 0.4)",transition:"all 0.3s ease",minWidth:"200px"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(14, 165, 233, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 6px 20px rgba(14, 165, 233, 0.4)"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.4rem"}}),"Start Training"]})})]})]});if("active"===n){const e=f[s];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header flood-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-droplet"}),"Flood Emergency Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",s+1,"/",f.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("div",{style:{width:"100%",height:"200px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:"16px",border:"3px solid #0ea5e9",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(14, 165, 233, 0.3)",overflow:"hidden",position:"relative"},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 400 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("rect",{x:"0",y:"120",width:"400",height:"80",fill:"#0EA5E9"}),(0,Fe.jsx)("path",{d:"M0 120 Q50 110 100 120 Q150 110 200 120 Q250 110 300 120 Q350 110 400 120 L400 200 L0 200 Z",fill:"#0284C7",opacity:"0.7"}),(0,Fe.jsx)("path",{d:"M0 130 Q50 120 100 130 Q150 120 200 130 Q250 120 300 130 Q350 120 400 130 L400 200 L0 200 Z",fill:"#0369A1",opacity:"0.5"}),(0,Fe.jsx)("rect",{x:"50",y:"100",width:"40",height:"30",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"50,100 70,85 90,100",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"60",y:"110",width:"20",height:"15",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"150",y:"90",width:"35",height:"40",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"150,90 167,75 185,90",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"160",y:"100",width:"15",height:"20",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"250",y:"105",width:"30",height:"25",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"250,105 265,92 280,105",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"258",y:"112",width:"14",height:"12",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"320",y:"95",width:"25",height:"35",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"320,95 332,82 345,95",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"327",y:"102",width:"11",height:"18",fill:"#87CEEB",rx:"1"})]})})}),(0,Fe.jsx)("div",{className:"alert alert-info",children:(0,Fe.jsx)("h5",{className:"mb-0",children:e.question})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(f[s].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(f[s].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:f[s].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:f[s].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:e.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=f[s].options[e].correct;t?(l(o+1),XC.playDisasterSound("success")):XC.playDisasterSound("error"),setTimeout(()=>{h(!1),u(null),s<f.length-1?a(s+1):(ZC("floodDrill",o+(t?1:0),f.length),r("result"))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((s+1)/f.length*100,"%")}})})]})]})}if("result"===n){const e=o,n=tT(e,f.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header flood-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon text-success"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",f.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/f.length*100,"%")},children:[Math.round(e/f.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert ".concat(e>=4?"alert-success":e>=3?"alert-warning":"alert-danger"," mb-4"),children:[(0,Fe.jsx)("h5",{children:e>=4?"Excellent Performance":e>=3?"Good Performance":"Keep Practicing"}),(0,Fe.jsx)("p",{className:"mb-0",children:e>=4?"You have demonstrated strong flood safety knowledge and would be well-prepared in a real emergency.":e>=3?"Good effort! Review the feedback and practice more to improve your flood safety knowledge.":"Keep practicing! Flood safety knowledge is crucial for real emergency situations."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:m,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}},sT=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)("ready"),[s,a]=(0,i.useState)(0),[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=[{id:1,question:"\ud83c\udf2a\ufe0f CYCLONE WARNING! Strong winds are approaching your area! What should you do immediately?",options:[{text:"\ud83c\udfe0 Go inside a strong building like a smart turtle in its shell",correct:!0,feedback:"\ud83d\udc22 You're a cyclone safety champion! Going inside a strong building protects you from dangerous winds!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run outside to see the cyclone",correct:!1,feedback:"\u274c Never go outside during a cyclone! The winds are very dangerous and can hurt you!"},{text:"\ud83d\ude97 Try to drive away from the cyclone",correct:!1,feedback:"\u274c Don't try to drive during a cyclone! It's too dangerous and you might get caught in the storm!"},{text:"\ud83d\udcf1 Stay outside to call for help",correct:!1,feedback:"\u274c Go inside first! You can call for help once you're safe inside a strong building!"}]},{id:2,question:"\ud83c\udfe0 You're inside, but the winds are getting stronger! What should you do?",options:[{text:"\ud83e\udd8e Go to the lowest floor like a smart groundhog",correct:!0,feedback:"\ud83e\uddab Awesome! You're a smart groundhog! The lowest floor is the safest place during strong winds!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Go to the highest floor to see better",correct:!1,feedback:"\u274c Don't go to high floors! The winds are stronger up there and more dangerous!"},{text:"\ud83d\udeaa Stand by the windows to watch",correct:!1,feedback:"\u274c Stay away from windows! They can break and hurt you during strong winds!"},{text:"\ud83d\udcf1 Go to the roof to get better phone signal",correct:!1,feedback:"\u274c Never go to the roof during a cyclone! It's the most dangerous place!"}]},{id:3,question:"\ud83d\udeaa You're on the lowest floor when you hear the cyclone getting closer! What should you do?",options:[{text:"\ud83e\udd8e Hide in a small room like a bathroom like a smart mouse",correct:!0,feedback:"\ud83d\udc2d You're a smart mouse! Small rooms like bathrooms are the safest places during cyclones!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run to the garage",correct:!1,feedback:"\u274c Don't go to the garage! It's not safe during a cyclone - find a small interior room!"},{text:"\ud83d\udeaa Go to the kitchen",correct:!1,feedback:"\u274c The kitchen has windows and appliances that can be dangerous! Find a small interior room!"},{text:"\ud83d\udcf1 Stay in the living room",correct:!1,feedback:"\u274c Living rooms often have big windows! Find a small interior room without windows!"}]},{id:4,question:"\ud83d\udea8 You hear the cyclone evacuation order! What should you do?",options:[{text:"\ud83d\udc65 Follow your teacher's evacuation plan like a good team player",correct:!0,feedback:"\ud83d\udc65 Perfect! You're a great team player! Always follow your teacher's evacuation plan during emergencies!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run to your car to drive away",correct:!1,feedback:"\u274c Don't try to drive during a cyclone! Follow your teacher's evacuation plan instead!"},{text:"\ud83c\udf92 Pack your belongings first",correct:!1,feedback:"\u274c Don't pack belongings! Your safety is more important than any items!"},{text:"\ud83d\udcde Call your family before leaving",correct:!1,feedback:"\u274c Follow evacuation orders first! You can call your family once you're safe!"}]},{id:5,question:"\ud83d\ude8c You're in the evacuation bus! What should you do to stay safe?",options:[{text:"\ud83e\udd8e Sit still and hold on tight like a calm koala",correct:!0,feedback:"\ud83d\udc28 You're a calm koala! Sitting still and holding on helps everyone stay safe during the evacuation!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Stand up to see out the window",correct:!1,feedback:"\u274c Don't stand up in a moving bus! You could fall and get hurt!"},{text:"\ud83d\udcf1 Take pictures of the cyclone",correct:!1,feedback:"\u274c Don't take pictures! Focus on staying safe and following instructions!"},{text:"\ud83d\udeaa Try to open the bus door",correct:!1,feedback:"\u274c Never try to open bus doors! Stay seated and let the driver handle everything!"}]}],p=()=>{r("active"),a(0),l(0),u(null),h(!1)},m=()=>{r("ready"),a(0),l(0),u(null),h(!1)};if("ready"===n)return(0,Fe.jsxs)("div",{className:"game-card",style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Fe.jsx)("div",{className:"game-header cyclone-header",style:{padding:"16px 24px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",borderRadius:"12px 12px 0 0"},children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2 text-white",style:{fontSize:"1.4rem",fontWeight:"600"},children:[(0,Fe.jsx)("i",{className:"bi bi-tornado",style:{fontSize:"1.2rem"}}),"Cyclone Safety Training"]})}),(0,Fe.jsxs)("div",{className:"card-body",style:{padding:"32px 24px"},children:[(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{width:"160px",height:"160px",margin:"0 auto 24px",background:"linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%)",borderRadius:"20px",border:"3px solid #8b5cf6",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(139, 92, 246, 0.3)"},children:(0,Fe.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fe.jsx)("path",{d:"M50 20 Q60 30 50 40 Q40 50 50 60 Q60 70 50 80 Q40 90 50 100",stroke:"#8B5CF6",strokeWidth:"3",fill:"none",opacity:"0.8"}),(0,Fe.jsx)("path",{d:"M50 25 Q55 35 50 45 Q45 55 50 65 Q55 75 50 85 Q45 95 50 100",stroke:"#A78BFA",strokeWidth:"2",fill:"none",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M50 30 Q52 40 50 50 Q48 60 50 70 Q52 80 50 90 Q48 100 50 100",stroke:"#C4B5FD",strokeWidth:"1.5",fill:"none",opacity:"0.4"}),(0,Fe.jsx)("ellipse",{cx:"30",cy:"25",rx:"15",ry:"8",fill:"#6B7280",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"70",cy:"35",rx:"12",ry:"6",fill:"#6B7280",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"20",cy:"45",rx:"10",ry:"5",fill:"#6B7280",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"80",cy:"55",rx:"14",ry:"7",fill:"#6B7280",opacity:"0.7"}),(0,Fe.jsx)("rect",{x:"40",y:"60",width:"20",height:"25",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"40,60 50,50 60,60",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"45",y:"70",width:"10",height:"15",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("circle",{cx:"50",cy:"75",r:"2",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"49",y:"77",width:"2",height:"3",fill:"#4169E1"}),(0,Fe.jsx)("path",{d:"M10 20 Q20 25 30 20 Q40 25 50 20",stroke:"#8B5CF6",strokeWidth:"2",fill:"none",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M10 30 Q20 35 30 30 Q40 35 50 30",stroke:"#8B5CF6",strokeWidth:"2",fill:"none",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M10 40 Q20 45 30 40 Q40 45 50 40",stroke:"#8B5CF6",strokeWidth:"2",fill:"none",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M70 15 Q80 8 90 15 Q80 22 70 15 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"80",y:"19",textAnchor:"middle",fontSize:"6",fill:"white",fontWeight:"bold",children:"SAFE"})]})})}),(0,Fe.jsx)("h2",{className:"text-center mb-4",style:{fontSize:"2.2rem",fontWeight:"700",color:"#1f2937",lineHeight:"1.2"},children:"Cyclone Safety Training"}),(0,Fe.jsx)("div",{className:"text-center mb-5",style:{maxWidth:"600px",margin:"0 auto"},children:(0,Fe.jsx)("p",{style:{fontSize:"1.2rem",lineHeight:"1.7",color:"#4b5563",fontWeight:"400",margin:"0"},children:"Learn proper cyclone safety procedures through scenario-based training. Practice emergency response protocols and evacuation techniques."})}),(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{background:"linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%)",border:"2px solid #8b5cf6",borderRadius:"16px",padding:"20px 24px",maxWidth:"500px",margin:"0 auto",boxShadow:"0 4px 15px rgba(139, 92, 246, 0.2)"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb",style:{fontSize:"1.5rem",color:"#8b5cf6"}}),(0,Fe.jsxs)("div",{className:"text-start",children:[(0,Fe.jsx)("strong",{style:{fontSize:"1.1rem",color:"#7c3aed"},children:"Safety Tip:"}),(0,Fe.jsx)("p",{className:"mb-0 mt-1",style:{fontSize:"1rem",color:"#7c3aed",lineHeight:"1.5"},children:"In a real cyclone, go to the lowest floor of a strong building and stay in a small interior room away from windows."})]})]})})}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("button",{className:"btn btn-lg",onClick:p,style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",border:"none",borderRadius:"16px",padding:"16px 32px",fontSize:"1.3rem",fontWeight:"600",color:"white",boxShadow:"0 6px 20px rgba(139, 92, 246, 0.4)",transition:"all 0.3s ease",minWidth:"200px"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(139, 92, 246, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 6px 20px rgba(139, 92, 246, 0.4)"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.4rem"}}),"Start Training"]})})]})]});if("active"===n){const e=f[s];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header cyclone-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-tornado"}),"Cyclone Emergency Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",s+1,"/",f.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("div",{style:{width:"100%",height:"200px",background:"linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%)",borderRadius:"16px",border:"3px solid #8b5cf6",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(139, 92, 246, 0.3)",overflow:"hidden",position:"relative"},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 400 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("path",{d:"M200 50 Q220 70 200 90 Q180 110 200 130 Q220 150 200 170",stroke:"#8B5CF6",strokeWidth:"4",fill:"none",opacity:"0.8"}),(0,Fe.jsx)("path",{d:"M200 60 Q215 75 200 90 Q185 105 200 120 Q215 135 200 150",stroke:"#A78BFA",strokeWidth:"3",fill:"none",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M200 70 Q210 80 200 90 Q190 100 200 110 Q210 120 200 130",stroke:"#C4B5FD",strokeWidth:"2",fill:"none",opacity:"0.4"}),(0,Fe.jsx)("ellipse",{cx:"100",cy:"60",rx:"25",ry:"12",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"110",cy:"50",rx:"20",ry:"10",fill:"#9CA3AF",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"120",cy:"40",rx:"15",ry:"8",fill:"#D1D5DB",opacity:"0.4"}),(0,Fe.jsx)("ellipse",{cx:"300",cy:"80",rx:"22",ry:"11",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"310",cy:"70",rx:"18",ry:"9",fill:"#9CA3AF",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"320",cy:"60",rx:"12",ry:"6",fill:"#D1D5DB",opacity:"0.4"}),(0,Fe.jsx)("ellipse",{cx:"50",cy:"100",rx:"20",ry:"10",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"60",cy:"90",rx:"15",ry:"8",fill:"#9CA3AF",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"350",cy:"120",rx:"18",ry:"9",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"360",cy:"110",rx:"12",ry:"6",fill:"#9CA3AF",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M50 40 Q100 35 150 40 Q200 35 250 40 Q300 35 350 40",stroke:"#8B5CF6",strokeWidth:"3",fill:"none",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M50 50 Q100 45 150 50 Q200 45 250 50 Q300 45 350 50",stroke:"#A78BFA",strokeWidth:"2",fill:"none",opacity:"0.4"}),(0,Fe.jsx)("path",{d:"M50 60 Q100 55 150 60 Q200 55 250 60 Q300 55 350 60",stroke:"#C4B5FD",strokeWidth:"2",fill:"none",opacity:"0.3"})]})})}),(0,Fe.jsx)("div",{className:"alert alert-secondary",children:(0,Fe.jsx)("h5",{className:"mb-0",children:e.question})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(f[s].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(f[s].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:f[s].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:f[s].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:e.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=f[s].options[e].correct;t?(l(o+1),XC.playDisasterSound("success")):XC.playDisasterSound("error"),setTimeout(()=>{h(!1),u(null),s<f.length-1?a(s+1):(ZC("cycloneDrill",o+(t?1:0),f.length),r("result"))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((s+1)/f.length*100,"%")}})})]})]})}if("result"===n){const e=o,n=tT(e,f.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header cyclone-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon text-success"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",f.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/f.length*100,"%")},children:[Math.round(e/f.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert ".concat(e>=4?"alert-success":e>=3?"alert-warning":"alert-danger"," mb-4"),children:[(0,Fe.jsx)("h5",{children:e>=4?"Excellent Performance":e>=3?"Good Performance":"Keep Practicing"}),(0,Fe.jsx)("p",{className:"mb-0",children:e>=4?"You have demonstrated strong cyclone safety knowledge and would be well-prepared in a real emergency.":e>=3?"Good effort! Review the feedback and practice more to improve your cyclone safety knowledge.":"Keep practicing! Cyclone safety knowledge is crucial for real emergency situations."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:m,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}},aT=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)("ready"),[s,a]=(0,i.useState)(0),[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=[{id:1,question:"\ud83c\udfd4\ufe0f LANDSLIDE WARNING! Heavy rain is making the hillside unstable! What should you do immediately?",options:[{text:"\ud83c\udfc3\u200d\u2642\ufe0f Move away from the hillside like a smart mountain goat",correct:!0,feedback:"\ud83d\udc10 You're a landslide safety champion! Moving away from unstable hillsides keeps you safe from falling rocks and mud!"},{text:"\ud83c\udfd4\ufe0f Go up the hill to get higher",correct:!1,feedback:"\u274c Never go up a hill during a landslide warning! The ground might be unstable and dangerous!"},{text:"\ud83d\ude97 Try to drive through the area quickly",correct:!1,feedback:"\u274c Don't try to drive through landslide areas! The road might be blocked or unsafe!"},{text:"\ud83d\udcf1 Stay and call for help",correct:!1,feedback:"\u274c Don't wait to call! Move to safety first, then you can call for help!"}]},{id:2,question:"\ud83d\udeb6\u200d\u2642\ufe0f You're walking away when you see rocks starting to fall! What should you do?",options:[{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run to the side like a quick rabbit",correct:!0,feedback:"\ud83d\udc30 Awesome! You're a quick rabbit! Running to the side helps you avoid falling rocks and debris!"},{text:"\ud83e\udd8e Drop and cover like in an earthquake",correct:!1,feedback:"\u274c Don't drop and cover! You need to get away from falling rocks - run to the side!"},{text:"\ud83d\udce2 Shout for help loudly",correct:!1,feedback:"\u274c Don't shout! Focus on getting to safety first - run to the side!"},{text:"\u23f0 Stop and wait for the rocks to stop falling",correct:!1,feedback:"\u274c Don't wait! Keep moving to safety - run to the side immediately!"}]},{id:3,question:"\ud83c\udfe0 You reach a safe building, but the landslide is getting worse! What should you do?",options:[{text:"\ud83e\udd8e Go to the side of the building away from the hill like a smart squirrel",correct:!0,feedback:"\ud83d\udc3f\ufe0f You're a smart squirrel! Going to the side away from the hill keeps you safe from falling debris!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Go to the back of the building",correct:!1,feedback:"\u274c The back might be closer to the hill! Go to the side away from the landslide!"},{text:"\ud83d\udeaa Stay by the front door",correct:!1,feedback:"\u274c Don't stay by doors! Go to the side of the building away from the hill!"},{text:"\ud83d\udcf1 Go to the roof to get better signal",correct:!1,feedback:"\u274c Don't go to the roof! Stay on the ground floor on the side away from the hill!"}]},{id:4,question:"\ud83d\udea8 You hear a landslide evacuation order! What should you do?",options:[{text:"\ud83d\udc65 Follow your teacher's evacuation plan like a good team player",correct:!0,feedback:"\ud83d\udc65 Perfect! You're a great team player! Always follow your teacher's evacuation plan during emergencies!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Run to your car to drive away",correct:!1,feedback:"\u274c Don't try to drive during a landslide! Follow your teacher's evacuation plan instead!"},{text:"\ud83c\udf92 Pack your belongings first",correct:!1,feedback:"\u274c Don't pack belongings! Your safety is more important than any items!"},{text:"\ud83d\udcde Call your family before leaving",correct:!1,feedback:"\u274c Follow evacuation orders first! You can call your family once you're safe!"}]},{id:5,question:"\ud83d\ude8c You're in the evacuation vehicle! What should you do to stay safe?",options:[{text:"\ud83e\udd8e Sit still and hold on tight like a calm turtle",correct:!0,feedback:"\ud83d\udc22 You're a calm turtle! Sitting still and holding on helps everyone stay safe during the evacuation!"},{text:"\ud83c\udfc3\u200d\u2642\ufe0f Stand up to see out the window",correct:!1,feedback:"\u274c Don't stand up in a moving vehicle! You could fall and get hurt!"},{text:"\ud83d\udcf1 Take pictures of the landslide",correct:!1,feedback:"\u274c Don't take pictures! Focus on staying safe and following instructions!"},{text:"\ud83d\udeaa Try to open the vehicle door",correct:!1,feedback:"\u274c Never try to open vehicle doors! Stay seated and let the driver handle everything!"}]}],p=()=>{r("active"),a(0),l(0),u(null),h(!1)},m=()=>{r("ready"),a(0),l(0),u(null),h(!1)};if("ready"===n)return(0,Fe.jsxs)("div",{className:"game-card",style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Fe.jsx)("div",{className:"game-header landslide-header",style:{padding:"16px 24px",background:"linear-gradient(135deg, #059669 0%, #047857 100%)",borderRadius:"12px 12px 0 0"},children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2 text-white",style:{fontSize:"1.4rem",fontWeight:"600"},children:[(0,Fe.jsx)("i",{className:"bi bi-mountain",style:{fontSize:"1.2rem"}}),"Landslide Safety Training"]})}),(0,Fe.jsxs)("div",{className:"card-body",style:{padding:"32px 24px"},children:[(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{width:"160px",height:"160px",margin:"0 auto 24px",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",borderRadius:"20px",border:"3px solid #059669",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(5, 150, 105, 0.3)"},children:(0,Fe.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fe.jsx)("path",{d:"M0 80 L20 40 L40 60 L60 30 L80 50 L100 70 L100 100 L0 100 Z",fill:"#8B4513"}),(0,Fe.jsx)("path",{d:"M0 80 L20 40 L40 60 L60 30 L80 50 L100 70",stroke:"#654321",strokeWidth:"2",fill:"none"}),(0,Fe.jsx)("circle",{cx:"15",cy:"75",r:"3",fill:"#6B7280"}),(0,Fe.jsx)("circle",{cx:"25",cy:"70",r:"2",fill:"#6B7280"}),(0,Fe.jsx)("circle",{cx:"35",cy:"80",r:"2.5",fill:"#6B7280"}),(0,Fe.jsx)("circle",{cx:"45",cy:"75",r:"2",fill:"#6B7280"}),(0,Fe.jsx)("circle",{cx:"55",cy:"70",r:"3",fill:"#6B7280"}),(0,Fe.jsx)("circle",{cx:"65",cy:"75",r:"2",fill:"#6B7280"}),(0,Fe.jsx)("circle",{cx:"75",cy:"80",r:"2.5",fill:"#6B7280"}),(0,Fe.jsx)("circle",{cx:"85",cy:"75",r:"2",fill:"#6B7280"}),(0,Fe.jsx)("rect",{x:"70",y:"60",width:"15",height:"20",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"70,60 77,50 85,60",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"73",y:"68",width:"9",height:"12",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("circle",{cx:"77",cy:"72",r:"1.5",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"76",y:"74",width:"2",height:"2",fill:"#4169E1"}),(0,Fe.jsx)("rect",{x:"10",y:"45",width:"8",height:"8",fill:"#FEF3C7",rx:"1"}),(0,Fe.jsx)("text",{x:"14",y:"51",textAnchor:"middle",fontSize:"4",fill:"#92400E",fontWeight:"bold",children:"!"}),(0,Fe.jsx)("rect",{x:"30",y:"35",width:"8",height:"8",fill:"#FEF3C7",rx:"1"}),(0,Fe.jsx)("text",{x:"34",y:"41",textAnchor:"middle",fontSize:"4",fill:"#92400E",fontWeight:"bold",children:"!"}),(0,Fe.jsx)("path",{d:"M50 20 Q60 15 70 20 Q60 25 50 20 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"60",y:"23",textAnchor:"middle",fontSize:"6",fill:"white",fontWeight:"bold",children:"SAFE"})]})})}),(0,Fe.jsx)("h2",{className:"text-center mb-4",style:{fontSize:"2.2rem",fontWeight:"700",color:"#1f2937",lineHeight:"1.2"},children:"Landslide Safety Training"}),(0,Fe.jsx)("div",{className:"text-center mb-5",style:{maxWidth:"600px",margin:"0 auto"},children:(0,Fe.jsx)("p",{style:{fontSize:"1.2rem",lineHeight:"1.7",color:"#4b5563",fontWeight:"400",margin:"0"},children:"Learn proper landslide safety procedures through scenario-based training. Practice emergency response protocols and evacuation techniques."})}),(0,Fe.jsx)("div",{className:"text-center mb-5",children:(0,Fe.jsx)("div",{style:{background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",border:"2px solid #059669",borderRadius:"16px",padding:"20px 24px",maxWidth:"500px",margin:"0 auto",boxShadow:"0 4px 15px rgba(5, 150, 105, 0.2)"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb",style:{fontSize:"1.5rem",color:"#059669"}}),(0,Fe.jsxs)("div",{className:"text-start",children:[(0,Fe.jsx)("strong",{style:{fontSize:"1.1rem",color:"#047857"},children:"Safety Tip:"}),(0,Fe.jsx)("p",{className:"mb-0 mt-1",style:{fontSize:"1rem",color:"#047857",lineHeight:"1.5"},children:"In a real landslide, move away from hillsides and unstable ground immediately, and go to the side of buildings away from the slope."})]})]})})}),(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("button",{className:"btn btn-lg",onClick:p,style:{background:"linear-gradient(135deg, #059669 0%, #047857 100%)",border:"none",borderRadius:"16px",padding:"16px 32px",fontSize:"1.3rem",fontWeight:"600",color:"white",boxShadow:"0 6px 20px rgba(5, 150, 105, 0.4)",transition:"all 0.3s ease",minWidth:"200px"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(5, 150, 105, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 6px 20px rgba(5, 150, 105, 0.4)"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.4rem"}}),"Start Training"]})})]})]});if("active"===n){const e=f[s];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header landslide-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-mountain"}),"Landslide Emergency Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",s+1,"/",f.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("div",{style:{width:"100%",height:"200px",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",borderRadius:"16px",border:"3px solid #059669",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 25px rgba(5, 150, 105, 0.3)",overflow:"hidden",position:"relative"},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 400 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("path",{d:"M0 100 Q100 60 200 80 Q300 50 400 70 L400 200 L0 200 Z",fill:"#8B4513"}),(0,Fe.jsx)("path",{d:"M0 110 Q100 70 200 90 Q300 60 400 80 L400 200 L0 200 Z",fill:"#A0522D",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"120",cy:"140",rx:"25",ry:"15",fill:"#654321",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"150",cy:"150",rx:"20",ry:"12",fill:"#8B4513",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"180",cy:"145",rx:"18",ry:"10",fill:"#A0522D",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"210",cy:"155",rx:"22",ry:"13",fill:"#654321",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"240",cy:"148",rx:"16",ry:"9",fill:"#8B4513",opacity:"0.7"}),(0,Fe.jsx)("ellipse",{cx:"270",cy:"152",rx:"19",ry:"11",fill:"#A0522D",opacity:"0.6"}),(0,Fe.jsx)("circle",{cx:"100",cy:"160",r:"8",fill:"#696969"}),(0,Fe.jsx)("circle",{cx:"130",cy:"165",r:"6",fill:"#808080"}),(0,Fe.jsx)("circle",{cx:"160",cy:"162",r:"7",fill:"#696969"}),(0,Fe.jsx)("circle",{cx:"190",cy:"168",r:"5",fill:"#808080"}),(0,Fe.jsx)("circle",{cx:"220",cy:"164",r:"6",fill:"#696969"}),(0,Fe.jsx)("circle",{cx:"250",cy:"170",r:"7",fill:"#808080"}),(0,Fe.jsx)("circle",{cx:"280",cy:"166",r:"5",fill:"#696969"}),(0,Fe.jsx)("path",{d:"M50 150 L60 200 M100 150 L110 200 M150 150 L160 200 M200 150 L210 200 M250 150 L260 200 M300 150 L310 200 M350 150 L360 200",stroke:"#654321",strokeWidth:"2",strokeLinecap:"round"})]})})}),(0,Fe.jsx)("div",{className:"alert alert-success",children:(0,Fe.jsx)("h5",{className:"mb-0",children:e.question})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(f[s].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(f[s].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:f[s].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:f[s].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:e.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=f[s].options[e].correct;t?(l(o+1),XC.playDisasterSound("success")):XC.playDisasterSound("error"),setTimeout(()=>{h(!1),u(null),s<f.length-1?a(s+1):(ZC("landslideDrill",o+(t?1:0),f.length),r("result"))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((s+1)/f.length*100,"%")}})})]})]})}if("result"===n){const e=o,n=tT(e,f.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header landslide-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon text-success"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",f.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/f.length*100,"%")},children:[Math.round(e/f.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert ".concat(e>=4?"alert-success":e>=3?"alert-warning":"alert-danger"," mb-4"),children:[(0,Fe.jsx)("h5",{children:e>=4?"Excellent Performance":e>=3?"Good Performance":"Keep Practicing"}),(0,Fe.jsx)("p",{className:"mb-0",children:e>=4?"You have demonstrated strong landslide safety knowledge and would be well-prepared in a real emergency.":e>=3?"Good effort! Review the feedback and practice more to improve your landslide safety knowledge.":"Keep practicing! Landslide safety knowledge is crucial for real emergency situations."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:m,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}},oT=e=>{let{onStartSimulation:t,onStartDrill:n,onStartFlood:r,onStartCyclone:s,onStartLandslide:a}=e;const[o,l]=(0,i.useState)({}),[c,u]=(0,i.useState)({totalActivities:5,completedActivities:0,averageScore:0,expertBadges:0});(0,i.useEffect)(()=>{l(eT()),d(eT())},[]);const d=e=>{const t=["earthquake","fireDrill","flood","cyclone","landslide"];let n=0,r=0,i=0,s=0;t.forEach(t=>{e[t]&&(n++,r+=e[t].score,i+=e[t].maxScore,e[t].score>=4&&s++)});const a=i>0?Math.round(r/i*100):0;u({totalActivities:t.length,completedActivities:n,averageScore:a,expertBadges:s})};return(0,Fe.jsx)("div",{className:"container-fluid",children:(0,Fe.jsx)("div",{className:"row",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"game-card mb-4",children:[(0,Fe.jsx)("div",{className:"game-header dashboard-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h3",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check"}),"Safety Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("button",{className:"btn btn-outline-light btn-sm me-2",onClick:()=>{const e=eT();l(e),d(e)},children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-light btn-sm",onClick:()=>{localStorage.removeItem("disasterScores"),l({}),u({totalActivities:5,completedActivities:0,averageScore:0,expertBadges:0})},children:[(0,Fe.jsx)("i",{className:"bi bi-trash me-1"}),"Reset All"]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",style:{padding:"24px"},children:[(0,Fe.jsx)("div",{className:"text-center mb-4 mt-2 px-4",children:(0,Fe.jsxs)("div",{className:"d-inline-block p-5 rounded-4 shadow-sm",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%)",border:"3px solid #0ea5e9",maxWidth:"600px",minWidth:"400px"},children:[(0,Fe.jsx)("h4",{className:"mb-4 text-info fw-bold",children:"Choose Your Adventure!"}),(0,Fe.jsx)("p",{className:"mb-0 text-dark fs-5",children:"Pick a training module to start learning about safety"})]})}),(0,Fe.jsxs)("div",{className:"row g-4",children:[(0,Fe.jsx)("div",{className:"col-lg-8",children:(0,Fe.jsxs)("div",{className:"row g-4",children:[(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card training-card border-warning h-100 position-relative overflow-hidden d-flex flex-column",children:[(0,Fe.jsx)("div",{className:"simple-bg position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #f59e0b 0%, #d97706 50%, #fbbf24 100%)",opacity:.1}}),(0,Fe.jsxs)("div",{className:"card-body position-relative d-flex flex-column px-6 py-4",style:{flex:"1"},children:[(0,Fe.jsxs)("div",{className:"mb-4",style:{minHeight:"80px"},children:[(0,Fe.jsx)("h5",{className:"card-title text-warning mb-3 fw-bold",style:{fontSize:"1.5rem",lineHeight:"1.3",fontWeight:"700"},children:"Earthquake Safety Training"}),(0,Fe.jsx)("p",{className:"card-text mb-0",style:{fontSize:"0.9rem",lineHeight:"1.4",color:"#374151",fontWeight:"400"},children:"Learn earthquake safety procedures through fun interactive scenarios!"})]}),(0,Fe.jsx)("div",{className:"simulation-preview mb-4",style:{width:"100%",height:"120px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"16px",border:"3px solid #f59e0b",position:"relative",overflow:"hidden",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)",flexShrink:0},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 300 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("rect",{x:"0",y:"80",width:"300",height:"40",fill:"#8B4513"}),(0,Fe.jsx)("path",{d:"M50 80 L60 120 M100 80 L110 120 M150 80 L160 120 M200 80 L210 120 M250 80 L260 120",stroke:"#654321",strokeWidth:"3",strokeLinecap:"round"}),(0,Fe.jsx)("rect",{x:"20",y:"50",width:"40",height:"30",fill:"#D2691E",rx:"3"}),(0,Fe.jsx)("rect",{x:"25",y:"55",width:"30",height:"8",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"25",y:"68",width:"30",height:"8",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"80",y:"40",width:"35",height:"40",fill:"#D2691E",rx:"3"}),(0,Fe.jsx)("rect",{x:"85",y:"45",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"85",y:"58",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"85",y:"71",width:"25",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"140",y:"45",width:"30",height:"35",fill:"#D2691E",rx:"3"}),(0,Fe.jsx)("rect",{x:"145",y:"50",width:"20",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"145",y:"63",width:"20",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"145",y:"76",width:"20",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"200",y:"55",width:"25",height:"25",fill:"#D2691E",rx:"2"}),(0,Fe.jsx)("rect",{x:"205",y:"60",width:"15",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"205",y:"70",width:"15",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"250",y:"50",width:"30",height:"30",fill:"#D2691E",rx:"3"}),(0,Fe.jsx)("rect",{x:"255",y:"55",width:"20",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"255",y:"65",width:"20",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"255",y:"75",width:"20",height:"5",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("path",{d:"M10 60 Q50 55 100 60 Q150 55 200 60 Q250 55 290 60",stroke:"#FF6B6B",strokeWidth:"3",fill:"none",opacity:"0.8"}),(0,Fe.jsx)("rect",{x:"15",y:"70",width:"12",height:"8",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"21",cy:"65",r:"3",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"20",y:"68",width:"2",height:"5",fill:"#4169E1"}),(0,Fe.jsx)("rect",{x:"70",y:"75",width:"10",height:"6",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"75",cy:"70",r:"2.5",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"74",y:"73",width:"2",height:"4",fill:"#4169E1"}),(0,Fe.jsx)("rect",{x:"130",y:"72",width:"11",height:"7",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"135",cy:"67",r:"2.8",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"134",y:"70",width:"2",height:"4",fill:"#4169E1"}),(0,Fe.jsx)("rect",{x:"190",y:"73",width:"9",height:"6",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"194",cy:"68",r:"2.2",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"193",y:"71",width:"2",height:"4",fill:"#4169E1"}),(0,Fe.jsx)("rect",{x:"240",y:"70",width:"13",height:"8",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("circle",{cx:"246",cy:"65",r:"3",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"245",y:"68",width:"2",height:"5",fill:"#4169E1"})]})}),(0,Fe.jsx)("div",{className:"text-center mb-4",children:(0,Fe.jsxs)("span",{className:"badge bg-warning text-white px-4 py-2 rounded-pill fs-6 fw-semibold",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation me-2"}),"Quick Challenge"]})}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",style:{flex:"1"},children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Drop & Cover"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Safe Evacuation"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Emergency Plan"})})})]}),(0,Fe.jsxs)("div",{className:"mt-auto",children:[(0,Fe.jsxs)($C,{className:"start-training-btn w-100 mb-2 position-relative",onClick:t,type:"default",style:{padding:"16px 24px",fontSize:"1.2rem",fontWeight:"600",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"white",boxShadow:"0 6px 20px rgba(245, 158, 11, 0.4)",transition:"all 0.3s ease"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.3rem"}}),"Start Earthquake Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),o.earthquake&&(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",o.earthquake.score,"/",o.earthquake.maxScore,"(",Math.round(o.earthquake.score/o.earthquake.maxScore*100),"%)"]})})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card training-card border-danger h-100 position-relative overflow-hidden d-flex flex-column",children:[(0,Fe.jsx)("div",{className:"simple-bg position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #dc2626 0%, #ea580c 50%, #f59e0b 100%)",opacity:.1}}),(0,Fe.jsxs)("div",{className:"card-body position-relative d-flex flex-column px-6 py-4",style:{flex:"1"},children:[(0,Fe.jsxs)("div",{className:"mb-4",style:{minHeight:"80px"},children:[(0,Fe.jsx)("h5",{className:"card-title text-danger mb-3 fw-bold",style:{fontSize:"1.5rem",lineHeight:"1.3",fontWeight:"700"},children:"Fire Safety Training"}),(0,Fe.jsx)("p",{className:"card-text mb-0",style:{fontSize:"0.9rem",lineHeight:"1.4",color:"#374151",fontWeight:"400"},children:"Learn fire safety procedures and emergency response through exciting interactive training!"})]}),(0,Fe.jsx)("div",{className:"simulation-preview mb-4",style:{width:"100%",height:"120px",background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderRadius:"16px",border:"3px solid #dc2626",position:"relative",overflow:"hidden",boxShadow:"0 8px 25px rgba(220, 38, 38, 0.3)",flexShrink:0},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 300 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("rect",{x:"20",y:"60",width:"12",height:"40",fill:"#DC2626",rx:"3"}),(0,Fe.jsx)("rect",{x:"17",y:"50",width:"18",height:"12",fill:"#DC2626",rx:"3"}),(0,Fe.jsx)("rect",{x:"22",y:"40",width:"8",height:"12",fill:"#DC2626",rx:"2"}),(0,Fe.jsx)("circle",{cx:"26",cy:"46",r:"2",fill:"#FEF2F2"}),(0,Fe.jsx)("rect",{x:"80",y:"65",width:"10",height:"35",fill:"#DC2626",rx:"2"}),(0,Fe.jsx)("rect",{x:"78",y:"55",width:"14",height:"10",fill:"#DC2626",rx:"2"}),(0,Fe.jsx)("rect",{x:"81",y:"45",width:"8",height:"10",fill:"#DC2626",rx:"1"}),(0,Fe.jsx)("circle",{cx:"85",cy:"50",r:"1.5",fill:"#FEF2F2"}),(0,Fe.jsx)("rect",{x:"140",y:"62",width:"11",height:"38",fill:"#DC2626",rx:"2"}),(0,Fe.jsx)("rect",{x:"138",y:"52",width:"15",height:"11",fill:"#DC2626",rx:"2"}),(0,Fe.jsx)("rect",{x:"141",y:"42",width:"9",height:"11",fill:"#DC2626",rx:"1"}),(0,Fe.jsx)("circle",{cx:"145",cy:"47",r:"1.8",fill:"#FEF2F2"}),(0,Fe.jsx)("path",{d:"M50 80 Q60 60 70 80 Q80 70 90 80 Q100 60 110 80 L110 100 L50 100 Z",fill:"#FF6B35"}),(0,Fe.jsx)("path",{d:"M52 80 Q62 65 72 80 Q82 72 92 80 Q102 65 112 80 L112 98 L52 98 Z",fill:"#FF8C42"}),(0,Fe.jsx)("path",{d:"M54 80 Q64 70 74 80 Q84 74 94 80 Q104 70 114 80 L114 96 L54 96 Z",fill:"#FFA726"}),(0,Fe.jsx)("path",{d:"M120 85 Q130 65 140 85 Q150 75 160 85 Q170 65 180 85 L180 105 L120 105 Z",fill:"#FF6B35"}),(0,Fe.jsx)("path",{d:"M122 85 Q132 70 142 85 Q152 77 162 85 Q172 70 182 85 L182 103 L122 103 Z",fill:"#FF8C42"}),(0,Fe.jsx)("path",{d:"M124 85 Q134 75 144 85 Q154 79 164 85 Q174 75 184 85 L184 101 L124 101 Z",fill:"#FFA726"}),(0,Fe.jsx)("path",{d:"M190 82 Q200 62 210 82 Q220 72 230 82 Q240 62 250 82 L250 102 L190 102 Z",fill:"#FF6B35"}),(0,Fe.jsx)("path",{d:"M192 82 Q202 67 212 82 Q222 74 232 82 Q242 67 252 82 L252 100 L192 100 Z",fill:"#FF8C42"}),(0,Fe.jsx)("path",{d:"M194 82 Q204 72 214 82 Q224 76 234 82 Q244 72 254 82 L254 98 L194 98 Z",fill:"#FFA726"}),(0,Fe.jsx)("ellipse",{cx:"35",cy:"35",rx:"12",ry:"8",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"28",y:"28",width:"14",height:"4",fill:"#FEF2F2",rx:"2"}),(0,Fe.jsx)("ellipse",{cx:"95",cy:"40",rx:"10",ry:"7",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"88",y:"33",width:"14",height:"4",fill:"#FEF2F2",rx:"2"}),(0,Fe.jsx)("ellipse",{cx:"155",cy:"37",rx:"11",ry:"7",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"147",y:"30",width:"16",height:"4",fill:"#FEF2F2",rx:"2"}),(0,Fe.jsx)("path",{d:"M10 20 Q25 10 40 20 Q25 30 10 20 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"25",y:"25",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"}),(0,Fe.jsx)("path",{d:"M70 25 Q85 15 100 25 Q85 35 70 25 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"85",y:"30",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"}),(0,Fe.jsx)("path",{d:"M130 22 Q145 12 160 22 Q145 32 130 22 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"145",y:"27",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"})]})}),(0,Fe.jsx)("div",{className:"text-center mb-4",children:(0,Fe.jsxs)("span",{className:"badge bg-danger text-white px-4 py-2 rounded-pill fs-6 fw-semibold",children:[(0,Fe.jsx)("i",{className:"bi bi-fire me-2"}),"Hot Challenge"]})}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",style:{flex:"1"},children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Quick Decisions"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Emergency Routes"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Evacuation Tech"})})})]}),(0,Fe.jsxs)("div",{className:"mt-auto",children:[(0,Fe.jsxs)($C,{className:"start-training-btn w-100 mb-2 position-relative",onClick:n,type:"default",style:{padding:"16px 24px",fontSize:"1.2rem",fontWeight:"600",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",color:"white",boxShadow:"0 6px 20px rgba(239, 68, 68, 0.4)",transition:"all 0.3s ease"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.3rem"}}),"Start Fire Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),o.fireDrill&&(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",o.fireDrill.score,"/",o.fireDrill.maxScore,"(",Math.round(o.fireDrill.score/o.fireDrill.maxScore*100),"%)"]})})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card training-card border-info h-100 position-relative overflow-hidden d-flex flex-column",children:[(0,Fe.jsx)("div",{className:"simple-bg position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #0ea5e9 0%, #0284c7 50%, #0369a1 100%)",opacity:.1}}),(0,Fe.jsxs)("div",{className:"card-body position-relative d-flex flex-column px-6 py-4",style:{flex:"1"},children:[(0,Fe.jsxs)("div",{className:"mb-4",style:{minHeight:"80px"},children:[(0,Fe.jsx)("h5",{className:"card-title text-info mb-3 fw-bold",style:{fontSize:"1.5rem",lineHeight:"1.3",fontWeight:"700"},children:"Flood Safety Training"}),(0,Fe.jsx)("p",{className:"card-text mb-0",style:{fontSize:"0.9rem",lineHeight:"1.4",color:"#374151",fontWeight:"400"},children:"Learn flood safety procedures and emergency response through engaging interactive scenarios!"})]}),(0,Fe.jsx)("div",{className:"simulation-preview mb-4",style:{width:"100%",height:"120px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:"16px",border:"3px solid #0ea5e9",position:"relative",overflow:"hidden",boxShadow:"0 8px 25px rgba(14, 165, 233, 0.3)",flexShrink:0},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 300 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("rect",{x:"20",y:"50",width:"40",height:"25",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"20,50 40,35 60,50",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"30",y:"60",width:"20",height:"15",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"80",y:"45",width:"35",height:"30",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"80,45 97,30 115,45",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"90",y:"55",width:"15",height:"15",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"140",y:"40",width:"30",height:"35",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"140,40 155,25 170,40",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"148",y:"50",width:"14",height:"20",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"200",y:"55",width:"25",height:"20",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"200,55 212,45 225,55",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"207",y:"62",width:"11",height:"10",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"250",y:"50",width:"30",height:"25",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"250,50 265,35 280,50",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"258",y:"60",width:"14",height:"10",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("path",{d:"M0 70 Q50 60 100 70 Q150 60 200 70 Q250 60 300 70 L300 120 L0 120 Z",fill:"#0EA5E9",opacity:"0.7"}),(0,Fe.jsx)("path",{d:"M0 75 Q50 65 100 75 Q150 65 200 75 Q250 65 300 75 L300 120 L0 120 Z",fill:"#0284C7",opacity:"0.5"}),(0,Fe.jsx)("path",{d:"M0 80 Q50 70 100 80 Q150 70 200 80 Q250 70 300 80 L300 120 L0 120 Z",fill:"#0369A1",opacity:"0.3"}),(0,Fe.jsx)("circle",{cx:"10",cy:"35",r:"4",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"7",y:"39",width:"6",height:"8",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"6",y:"40",width:"8",height:"6",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("circle",{cx:"70",cy:"30",r:"3.5",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"68",y:"33",width:"4",height:"7",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"67",y:"34",width:"6",height:"5",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("circle",{cx:"130",cy:"25",r:"4",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"127",y:"29",width:"6",height:"8",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"126",y:"30",width:"8",height:"6",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("circle",{cx:"190",cy:"30",r:"3.5",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"188",y:"33",width:"4",height:"7",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"187",y:"34",width:"6",height:"5",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("circle",{cx:"240",cy:"35",r:"4",fill:"#FFDBAC"}),(0,Fe.jsx)("rect",{x:"237",y:"39",width:"6",height:"8",fill:"#FFD700"}),(0,Fe.jsx)("rect",{x:"236",y:"40",width:"8",height:"6",fill:"#FFD700",rx:"1"}),(0,Fe.jsx)("path",{d:"M10 20 Q20 15 30 20 Q40 15 50 20",stroke:"#10B981",strokeWidth:"3",fill:"none"}),(0,Fe.jsx)("path",{d:"M10 25 Q20 20 30 25 Q40 20 50 25",stroke:"#10B981",strokeWidth:"3",fill:"none"}),(0,Fe.jsx)("path",{d:"M80 15 Q90 10 100 15 Q110 10 120 15",stroke:"#10B981",strokeWidth:"3",fill:"none"}),(0,Fe.jsx)("path",{d:"M80 20 Q90 15 100 20 Q110 15 120 20",stroke:"#10B981",strokeWidth:"3",fill:"none"}),(0,Fe.jsx)("path",{d:"M150 18 Q160 13 170 18 Q180 13 190 18",stroke:"#10B981",strokeWidth:"3",fill:"none"}),(0,Fe.jsx)("path",{d:"M150 23 Q160 18 170 23 Q180 18 190 23",stroke:"#10B981",strokeWidth:"3",fill:"none"}),(0,Fe.jsx)("path",{d:"M220 16 Q230 11 240 16 Q250 11 260 16",stroke:"#10B981",strokeWidth:"3",fill:"none"}),(0,Fe.jsx)("path",{d:"M220 21 Q230 16 240 21 Q250 16 260 21",stroke:"#10B981",strokeWidth:"3",fill:"none"})]})}),(0,Fe.jsx)("div",{className:"text-center mb-4",children:(0,Fe.jsxs)("span",{className:"badge bg-info text-white px-4 py-2 rounded-pill fs-6 fw-semibold",children:[(0,Fe.jsx)("i",{className:"bi bi-droplet me-2"}),"Water Challenge"]})}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",style:{flex:"1"},children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Water Safety"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Evacuation Routes"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Rescue Techniques"})})})]}),(0,Fe.jsxs)("div",{className:"mt-auto",children:[(0,Fe.jsxs)($C,{className:"start-training-btn w-100 mb-2 position-relative",onClick:r,type:"default",style:{padding:"16px 24px",fontSize:"1.2rem",fontWeight:"600",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #0EA5E9 0%, #0284C7 100%)",color:"white",boxShadow:"0 6px 20px rgba(14, 165, 233, 0.4)",transition:"all 0.3s ease"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.3rem"}}),"Start Flood Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),o.flood&&(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",o.flood.score,"/",o.flood.maxScore,"(",Math.round(o.flood.score/o.flood.maxScore*100),"%)"]})})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card training-card border-purple h-100 position-relative overflow-hidden d-flex flex-column",children:[(0,Fe.jsx)("div",{className:"simple-bg position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #8b5cf6 0%, #7c3aed 50%, #a855f7 100%)",opacity:.1}}),(0,Fe.jsxs)("div",{className:"card-body position-relative d-flex flex-column px-6 py-4",style:{flex:"1"},children:[(0,Fe.jsxs)("div",{className:"mb-4",style:{minHeight:"80px"},children:[(0,Fe.jsx)("h5",{className:"card-title text-purple mb-3 fw-bold",style:{fontSize:"1.5rem",lineHeight:"1.3",fontWeight:"700",color:"#8b5cf6"},children:"Cyclone Safety Training"}),(0,Fe.jsx)("p",{className:"card-text mb-0",style:{fontSize:"0.9rem",lineHeight:"1.4",color:"#374151",fontWeight:"400"},children:"Learn cyclone safety procedures and emergency response through fun interactive training!"})]}),(0,Fe.jsx)("div",{className:"simulation-preview mb-4",style:{width:"100%",height:"120px",background:"linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%)",borderRadius:"16px",border:"3px solid #8b5cf6",position:"relative",overflow:"hidden",boxShadow:"0 8px 25px rgba(139, 92, 246, 0.3)",flexShrink:0},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 300 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("path",{d:"M150 20 Q200 40 150 60 Q100 80 150 100 Q200 120 150 120",stroke:"#8B5CF6",strokeWidth:"4",fill:"none",opacity:"0.8"}),(0,Fe.jsx)("path",{d:"M150 25 Q180 40 150 55 Q120 70 150 85 Q180 100 150 115",stroke:"#A855F7",strokeWidth:"3",fill:"none",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M150 30 Q170 40 150 50 Q130 60 150 70 Q170 80 150 90",stroke:"#C084FC",strokeWidth:"2",fill:"none",opacity:"0.4"}),(0,Fe.jsx)("ellipse",{cx:"80",cy:"30",rx:"20",ry:"10",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"70",cy:"35",rx:"15",ry:"7",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"90",cy:"35",rx:"12",ry:"5",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"220",cy:"25",rx:"18",ry:"9",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"210",cy:"28",rx:"12",ry:"6",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"230",cy:"28",rx:"10",ry:"4",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"50",cy:"35",rx:"15",ry:"8",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"42",cy:"38",rx:"10",ry:"5",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"58",cy:"38",rx:"8",ry:"4",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"250",cy:"30",rx:"16",ry:"8",fill:"#6B7280",opacity:"0.8"}),(0,Fe.jsx)("ellipse",{cx:"242",cy:"33",rx:"11",ry:"5",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("ellipse",{cx:"258",cy:"33",rx:"9",ry:"4",fill:"#6B7280",opacity:"0.6"}),(0,Fe.jsx)("rect",{x:"30",y:"80",width:"25",height:"20",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"30,80 42,65 55,80",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"38",y:"88",width:"9",height:"12",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"120",y:"85",width:"22",height:"15",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"120,85 131,75 142,85",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"128",y:"90",width:"6",height:"10",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"200",y:"82",width:"28",height:"18",fill:"#8B4513",rx:"3"}),(0,Fe.jsx)("polygon",{points:"200,82 214,70 228,82",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"210",y:"88",width:"8",height:"12",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"260",y:"85",width:"20",height:"15",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"260,85 270,75 280,85",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"267",y:"90",width:"6",height:"10",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("path",{d:"M10 25 L20 25 M10 30 L25 30 M10 35 L20 35",stroke:"#8B5CF6",strokeWidth:"3",strokeLinecap:"round",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M100 20 L110 20 M100 25 L120 25 M100 30 L110 30",stroke:"#8B5CF6",strokeWidth:"3",strokeLinecap:"round",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M190 22 L200 22 M190 27 L210 27 M190 32 L200 32",stroke:"#8B5CF6",strokeWidth:"3",strokeLinecap:"round",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M280 25 L290 25 M280 30 L295 30 M280 35 L290 35",stroke:"#8B5CF6",strokeWidth:"3",strokeLinecap:"round",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M160 15 Q170 10 180 15 Q170 20 160 15 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"170",y:"19",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"}),(0,Fe.jsx)("path",{d:"M40 12 Q50 7 60 12 Q50 17 40 12 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"50",y:"16",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"}),(0,Fe.jsx)("path",{d:"M240 10 Q250 5 260 10 Q250 15 240 10 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"250",y:"14",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"})]})}),(0,Fe.jsx)("div",{className:"text-center mb-4",children:(0,Fe.jsxs)("span",{className:"badge bg-purple text-white px-4 py-2 rounded-pill fs-6 fw-semibold",style:{backgroundColor:"#8b5cf6"},children:[(0,Fe.jsx)("i",{className:"bi bi-tornado me-2"}),"Wind Challenge"]})}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",style:{flex:"1"},children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Storm Shelter"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Secure Home"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Wind Safety"})})})]}),(0,Fe.jsxs)("div",{className:"mt-auto",children:[(0,Fe.jsxs)($C,{className:"start-training-btn w-100 mb-2 position-relative",onClick:s,type:"default",style:{padding:"16px 24px",fontSize:"1.2rem",fontWeight:"600",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",color:"white",boxShadow:"0 6px 20px rgba(139, 92, 246, 0.4)",transition:"all 0.3s ease"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.3rem"}}),"Start Cyclone Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),o.cyclone&&(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",o.cyclone.score,"/",o.cyclone.maxScore,"(",Math.round(o.cyclone.score/o.cyclone.maxScore*100),"%)"]})})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card training-card border-success h-100 position-relative overflow-hidden d-flex flex-column",children:[(0,Fe.jsx)("div",{className:"simple-bg position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #059669 0%, #047857 50%, #10b981 100%)",opacity:.1}}),(0,Fe.jsxs)("div",{className:"card-body position-relative d-flex flex-column px-6 py-4",style:{flex:"1"},children:[(0,Fe.jsxs)("div",{className:"mb-4",style:{minHeight:"80px"},children:[(0,Fe.jsx)("h5",{className:"card-title text-success mb-3 fw-bold",style:{fontSize:"1.5rem",lineHeight:"1.3",fontWeight:"700"},children:"Landslide Safety Training"}),(0,Fe.jsx)("p",{className:"card-text mb-0",style:{fontSize:"0.9rem",lineHeight:"1.4",color:"#374151",fontWeight:"400"},children:"Learn landslide safety procedures and emergency response through exciting interactive scenarios!"})]}),(0,Fe.jsx)("div",{className:"simulation-preview mb-4",style:{width:"100%",height:"120px",background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",borderRadius:"16px",border:"3px solid #059669",position:"relative",overflow:"hidden",boxShadow:"0 8px 25px rgba(5, 150, 105, 0.3)",flexShrink:0},children:(0,Fe.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 300 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:[(0,Fe.jsx)("polygon",{points:"30,90 60,30 90,90",fill:"#8B4513"}),(0,Fe.jsx)("polygon",{points:"60,90 75,60 90,90",fill:"#A0522D"}),(0,Fe.jsx)("polygon",{points:"120,95 160,35 200,95",fill:"#8B4513"}),(0,Fe.jsx)("polygon",{points:"160,95 170,70 180,95",fill:"#A0522D"}),(0,Fe.jsx)("polygon",{points:"210,92 240,40 270,92",fill:"#8B4513"}),(0,Fe.jsx)("polygon",{points:"240,92 250,65 260,92",fill:"#A0522D"}),(0,Fe.jsx)("path",{d:"M50 90 Q80 80 110 90 Q140 75 170 90 Q200 80 230 90 L230 120 L50 120 Z",fill:"#D2691E",opacity:"0.8"}),(0,Fe.jsx)("path",{d:"M60 95 Q90 85 120 95 Q150 80 180 95 Q210 85 240 95 L240 120 L60 120 Z",fill:"#CD853F",opacity:"0.6"}),(0,Fe.jsx)("path",{d:"M70 100 Q100 90 130 100 Q160 85 190 100 Q220 90 250 100 L250 120 L70 120 Z",fill:"#DEB887",opacity:"0.4"}),(0,Fe.jsx)("ellipse",{cx:"80",cy:"95",rx:"4",ry:"3",fill:"#696969"}),(0,Fe.jsx)("ellipse",{cx:"130",cy:"98",rx:"3",ry:"2",fill:"#696969"}),(0,Fe.jsx)("ellipse",{cx:"170",cy:"96",rx:"4",ry:"3",fill:"#696969"}),(0,Fe.jsx)("ellipse",{cx:"210",cy:"97",rx:"3",ry:"2",fill:"#696969"}),(0,Fe.jsx)("ellipse",{cx:"250",cy:"95",rx:"4",ry:"3",fill:"#696969"}),(0,Fe.jsx)("rect",{x:"40",cy:"70",width:"16",height:"20",fill:"#FFD700",rx:"2"}),(0,Fe.jsx)("polygon",{points:"48,60 40,70 56,70",fill:"#FFD700"}),(0,Fe.jsx)("text",{x:"48",y:"84",textAnchor:"middle",fontSize:"10",fill:"#DC2626",fontWeight:"bold",children:"!"}),(0,Fe.jsx)("rect",{x:"140",cy:"80",width:"12",height:"16",fill:"#FFD700",rx:"2"}),(0,Fe.jsx)("polygon",{points:"146,72 140,80 152,80",fill:"#FFD700"}),(0,Fe.jsx)("text",{x:"146",y:"92",textAnchor:"middle",fontSize:"8",fill:"#DC2626",fontWeight:"bold",children:"!"}),(0,Fe.jsx)("rect",{x:"230",cy:"75",width:"14",height:"18",fill:"#FFD700",rx:"2"}),(0,Fe.jsx)("polygon",{points:"237,67 230,75 244,75",fill:"#FFD700"}),(0,Fe.jsx)("text",{x:"237",y:"88",textAnchor:"middle",fontSize:"9",fill:"#DC2626",fontWeight:"bold",children:"!"}),(0,Fe.jsx)("rect",{x:"15",cy:"80",width:"20",height:"16",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"15,80 25,70 35,80",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"22",y:"86",width:"8",height:"10",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"150",cy:"82",width:"18",height:"14",fill:"#8B4513",rx:"2"}),(0,Fe.jsx)("polygon",{points:"150,82 159,74 168,82",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"156",y:"87",width:"6",height:"8",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("rect",{x:"260",cy:"85",width:"16",height:"12",fill:"#8B4513",rx:"1"}),(0,Fe.jsx)("polygon",{points:"260,85 268,78 276,85",fill:"#DC2626"}),(0,Fe.jsx)("rect",{x:"265",y:"89",width:"6",height:"6",fill:"#87CEEB",rx:"1"}),(0,Fe.jsx)("path",{d:"M90 50 Q100 45 110 50 Q100 55 90 50 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"100",y:"54",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"}),(0,Fe.jsx)("path",{d:"M190 48 Q200 43 210 48 Q200 53 190 48 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"200",y:"52",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"}),(0,Fe.jsx)("path",{d:"M50 45 Q60 40 70 45 Q60 50 50 45 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"60",y:"49",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"}),(0,Fe.jsx)("path",{d:"M240 42 Q250 37 260 42 Q250 47 240 42 Z",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),(0,Fe.jsx)("text",{x:"250",y:"46",textAnchor:"middle",fontSize:"8",fill:"white",fontWeight:"bold",children:"SAFE"})]})}),(0,Fe.jsx)("div",{className:"text-center mb-4",children:(0,Fe.jsxs)("span",{className:"badge bg-success text-white px-4 py-2 rounded-pill fs-6 fw-semibold",children:[(0,Fe.jsx)("i",{className:"bi bi-mountain me-2"}),"Rock Challenge"]})}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",style:{flex:"1"},children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Slope Stability"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Warning Signs"})})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("div",{className:"feature-item",children:(0,Fe.jsx)("small",{style:{fontSize:"0.95rem",fontWeight:"600"},children:"Safe Routes"})})})]}),(0,Fe.jsxs)("div",{className:"mt-auto",children:[(0,Fe.jsxs)($C,{className:"start-training-btn w-100 mb-2 position-relative",onClick:a,type:"default",style:{padding:"16px 24px",fontSize:"1.2rem",fontWeight:"600",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",boxShadow:"0 6px 20px rgba(5, 150, 105, 0.4)",transition:"all 0.3s ease"},children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2",style:{fontSize:"1.3rem"}}),"Start Landslide Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),o.landslide&&(0,Fe.jsx)("div",{className:"text-center",children:(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",o.landslide.score,"/",o.landslide.maxScore,"(",Math.round(o.landslide.score/o.landslide.maxScore*100),"%)"]})})]})]})]})})]})}),(0,Fe.jsx)("div",{className:"col-lg-4",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"2px solid #0ea5e9"},children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("div",{className:"text-center mb-3",children:[(0,Fe.jsx)("div",{className:"d-inline-block p-2 rounded-circle",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",border:"2px solid #d97706"},children:(0,Fe.jsx)("i",{className:"bi bi-trophy text-white",style:{fontSize:"1.5rem"}})}),(0,Fe.jsx)("h5",{className:"mt-2 mb-0 text-info",children:"Your Progress"})]}),0===Object.keys(o).length?(0,Fe.jsxs)("div",{className:"text-center text-muted",children:[(0,Fe.jsx)("div",{style:{fontSize:"2.5rem",opacity:.6},children:(0,Fe.jsx)("i",{className:"bi bi-star"})}),(0,Fe.jsx)("p",{className:"mt-2",children:"Start training to earn badges!"})]}):(0,Fe.jsxs)("div",{children:[o.earthquake&&(0,Fe.jsx)("div",{className:"mb-3 p-3 border rounded bg-white",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation text-warning"}),"Earthquake Safety"]}),(0,Fe.jsx)("br",{}),(0,Fe.jsxs)("small",{className:"text-muted",children:["Completed: ",new Date(o.earthquake.timestamp).toLocaleDateString()]})]}),(0,Fe.jsxs)("span",{className:"badge bg-".concat(tT(o.earthquake.score,o.earthquake.maxScore).color," fs-6"),children:[(0,Fe.jsx)("i",{className:"bi bi-award me-1"}),tT(o.earthquake.score,o.earthquake.maxScore).name]})]})}),o.fireDrill&&(0,Fe.jsx)("div",{className:"mb-3 p-3 border rounded bg-white",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-fire text-danger"}),"Fire Safety"]}),(0,Fe.jsx)("br",{}),(0,Fe.jsxs)("small",{className:"text-muted",children:["Completed: ",new Date(o.fireDrill.timestamp).toLocaleDateString()]})]}),(0,Fe.jsxs)("span",{className:"badge bg-".concat(tT(o.fireDrill.score,o.fireDrill.maxScore).color," fs-6"),children:[(0,Fe.jsx)("i",{className:"bi bi-award me-1"}),tT(o.fireDrill.score,o.fireDrill.maxScore).name]})]})}),(0,Fe.jsxs)("div",{className:"mt-4 p-3 bg-primary text-white rounded",children:[(0,Fe.jsxs)("h6",{className:"mb-2 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-graph-up"}),"Overall Progress"]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Activities Completed:"}),(0,Fe.jsxs)("strong",{children:[Object.keys(o).length,"/2"]})]})]})]})]})})})]}),(0,Fe.jsx)("div",{className:"row mt-4",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card text-dark shadow-sm",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%)",border:"3px solid #0ea5e9"},children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h6",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-bar-chart"}),"Quick Stats"]}),(0,Fe.jsxs)("div",{className:"row text-center",children:[(0,Fe.jsxs)("div",{className:"col-md-4",children:[(0,Fe.jsx)("div",{className:"fs-5",children:c.completedActivities}),(0,Fe.jsx)("small",{children:"Activities Completed"})]}),(0,Fe.jsxs)("div",{className:"col-md-4",children:[(0,Fe.jsx)("div",{className:"fs-5",children:c.expertBadges}),(0,Fe.jsx)("small",{children:"Expert Badges"})]}),(0,Fe.jsxs)("div",{className:"col-md-4",children:[(0,Fe.jsxs)("div",{className:"fs-5",children:[c.averageScore,"%"]}),(0,Fe.jsx)("small",{children:"Average Score"})]})]}),(0,Fe.jsx)("div",{className:"mt-3",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("small",{children:"Overall Progress"}),(0,Fe.jsxs)("small",{children:[c.completedActivities,"/",c.totalActivities]})]})})]})})})})]})]})})})})},lT=()=>{const[e,t]=(0,i.useState)("dashboard");return(0,Fe.jsx)("div",{className:"disaster-simulation py-4",children:(0,Fe.jsxs)("div",{className:"container",children:["dashboard"!==e&&(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsxs)("button",{className:"game-button",onClick:()=>t("dashboard"),children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back to Dashboard"]})}),(()=>{switch(e){case"earthquake":return(0,Fe.jsx)(rT,{onComplete:()=>t("dashboard")});case"fire":return(0,Fe.jsx)(nT,{onComplete:()=>t("dashboard")});case"flood":return(0,Fe.jsx)(iT,{onComplete:()=>t("dashboard")});case"cyclone":return(0,Fe.jsx)(sT,{onComplete:()=>t("dashboard")});case"landslide":return(0,Fe.jsx)(aT,{onComplete:()=>t("dashboard")});default:return(0,Fe.jsx)(oT,{onStartSimulation:()=>t("earthquake"),onStartDrill:()=>t("fire"),onStartFlood:()=>t("flood"),onStartCyclone:()=>t("cyclone"),onStartLandslide:()=>t("landslide")})}})()]})})};const cT=function(){return(0,Fe.jsxs)("div",{className:"py-4 disaster-simulation",children:[(0,Fe.jsx)(lT,{}),(0,Fe.jsx)("div",{className:"row mt-5",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-2"}),"About Disaster Preparedness Training"]}),(0,Fe.jsxs)("div",{className:"row",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"\ud83c\udf0d Earthquake Simulation"}),(0,Fe.jsxs)("ul",{className:"small",children:[(0,Fe.jsx)("li",{children:"Learn Drop, Cover, and Hold techniques"}),(0,Fe.jsx)("li",{children:"Practice safe evacuation procedures"}),(0,Fe.jsx)("li",{children:"Identify safe zones during emergencies"}),(0,Fe.jsx)("li",{children:"Understand post-earthquake safety measures"})]})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"\ud83d\udd25 Fire Drill Training"}),(0,Fe.jsxs)("ul",{className:"small",children:[(0,Fe.jsx)("li",{children:"Test your reaction time under pressure"}),(0,Fe.jsx)("li",{children:"Learn proper fire evacuation procedures"}),(0,Fe.jsx)("li",{children:"Practice quick decision-making skills"}),(0,Fe.jsx)("li",{children:"Develop emergency response confidence"})]})]})]}),(0,Fe.jsxs)("div",{className:"alert alert-info mt-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb me-2"}),(0,Fe.jsx)("strong",{children:"Pro Tip:"})," Regular practice with these simulations helps build muscle memory for real emergency situations. The more you practice, the better prepared you'll be when it matters most!"]})]})})})})]})};function uT(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=uT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const dT=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=uT(e))&&(r&&(r+=" "),r+=t);return r};var hT=n(9889),fT=n.n(hT),pT=n(620),mT=n.n(pT),gT=n(5268),yT=n.n(gT),vT=n(3097),bT=n.n(vT),xT=n(9160),wT=n.n(xT),jT=n(9686),ST=n.n(jT),NT=function(e){return 0===e?0:e>0?1:-1},ET=function(e){return mT()(e)&&e.indexOf("%")===e.length-1},kT=function(e){return wT()(e)&&!yT()(e)},CT=function(e){return kT(e)||mT()(e)},TT=0,_T=function(e){var t=++TT;return"".concat(e||"").concat(t)},AT=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!kT(e)&&!mT()(e))return r;if(ET(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return yT()(n)&&(n=r),i&&n>t&&(n=t),n},OT=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},PT=function(e,t){return kT(e)&&kT(t)?function(n){return e+n*(t-e)}:function(){return t}};function IT(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):bT()(e,t))===n}):null}var DT=function(e,t){return kT(e)&&kT(t)?e-t:mT()(e)&&mT()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},MT=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},RT=n(1629),LT=n.n(RT),FT=n(6686),BT=n.n(FT),UT=n(9062);function VT(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function zT(e){return zT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zT(e)}var qT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WT=["points","pathLength"],HT={svg:["viewBox","children"],polygon:WT,polyline:WT},KT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],GT=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!BT()(n))return null;var r={};return Object.keys(n).forEach(function(e){KT.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},QT=function(e,t,n){if(!BT()(e)||"object"!==zT(e))return null;var r=null;return Object.keys(e).forEach(function(i){var s=e[i];KT.includes(i)&&"function"===typeof s&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(s,t,n))}),r},YT=["children"],XT=["children"];function JT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $T(e){return $T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(e)}var ZT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},e_=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},t_=null,n_=null,r_=function e(t){if(t===t_&&Array.isArray(n_))return n_;var n=[];return i.Children.forEach(t,function(t){ST()(t)||((0,UT.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),n_=n,t_=t,n};function i_(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return e_(e)}):[e_(t)],r_(e).forEach(function(e){var t=bT()(e,"type.displayName")||bT()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function s_(e,t){var n=i_(e,t);return n&&n[0]}var a_=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!kT(n)||n<=0||!kT(r)||r<=0)},o_=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],l_=function(e){return e&&e.type&&mT()(e.type)&&o_.indexOf(e.type)>=0},c_=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!BT()(r))return null;var s={};return Object.keys(r).forEach(function(e){var i;(function(e,t,n,r){var i,s=null!==(i=null===HT||void 0===HT?void 0:HT[r])&&void 0!==i?i:[];return t.startsWith("data-")||!LT()(e)&&(r&&s.includes(t)||qT.includes(t))||n&&KT.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(s[e]=r[e])}),s},u_=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return d_(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!d_(a,o))return!1}return!0},d_=function(e,t){if(ST()(e)&&ST()(t))return!0;if(!ST()(e)&&!ST()(t)){var n=e.props||{},r=n.children,i=JT(n,YT),s=t.props||{},a=s.children,o=JT(s,XT);return r&&a?VT(i,o)&&u_(r,a):!r&&!a&&VT(i,o)}return!1},h_=function(e,t){var n=[],r={};return r_(e).forEach(function(e,i){if(l_(e))n.push(e);else if(e){var s=e_(e.type),a=t[s]||{},o=a.handler,l=a.once;if(o&&(!l||!r[s])){var c=o(e,s,i);n.push(c),r[s]=!0}}}),n};function f_(e){return f_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(e)}function p_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p_(Object(n),!0).forEach(function(t){g_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=f_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b_=(0,i.forwardRef)(function(e,t){var n=e.aspect,r=e.initialDimension,s=void 0===r?{width:-1,height:-1}:r,a=e.width,o=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,j=(0,i.useRef)(null),S=(0,i.useRef)();S.current=b,(0,i.useImperativeHandle)(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=y_((0,i.useState)({containerWidth:s.width,containerHeight:s.height}),2),E=N[0],k=N[1],C=(0,i.useCallback)(function(e,t){k(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,i.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;C(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};g>0&&(e=fT()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,i=n.height;return C(r,i),t.observe(j.current),function(){t.disconnect()}},[C,g]);var T=(0,i.useMemo)(function(){var e=E.containerWidth,t=E.containerHeight;if(e<0||t<0)return null;MT(ET(o)||ET(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),MT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=ET(o)?e:o,s=ET(c)?t:c;n&&n>0&&(r?s=r/n:s&&(r=s*n),f&&s>f&&(s=f)),MT(r>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,s,o,c,d,h,n);var a=!Array.isArray(p)&&e_(p.type).endsWith("Chart");return i.Children.map(p,function(e){return i.isValidElement(e)?(0,i.cloneElement)(e,m_({width:r,height:s},a?{style:m_({height:"100%",width:"100%",maxHeight:s,maxWidth:r},e.props.style)}:{})):e})},[n,p,c,f,h,d,E,o]);return i.createElement("div",{id:y?"".concat(y):void 0,className:dT("recharts-responsive-container",v),style:m_(m_({},w),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},T)}),x_=n(6604),w_=n.n(x_),j_=n(7424),S_=n.n(j_),N_="Invariant failed";function E_(e,t){if(!e)throw new Error(N_)}var k_=["children","width","height","viewBox","className","style","title","desc"];function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(this,arguments)}function T_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function __(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=T_(e,k_),d=s||{width:n,height:r,x:0,y:0},h=dT("recharts-surface",a);return i.createElement("svg",C_({},c_(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),i.createElement("title",null,l),i.createElement("desc",null,c),t)}var A_=["children","className"];function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_.apply(this,arguments)}function P_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var I_=i.forwardRef(function(e,t){var n=e.children,r=e.className,s=P_(e,A_),a=dT("recharts-layer",r);return i.createElement("g",O_({className:a},c_(s,!0),{ref:t}),n)});function D_(e){return D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M_.apply(this,arguments)}function R_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return L_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(t){U_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=D_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e){return Array.isArray(e)&&CT(e[0])&&CT(e[1])?e.join(" ~ "):e}var z_=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,s=void 0===r?{}:r,a=e.itemStyle,o=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=B_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=B_({margin:0},c),w=!ST()(m),j=w?m:"",S=dT("recharts-default-tooltip",f),N=dT("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(j=g(m,u));var E=v?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",M_({className:S,style:b},E),i.createElement("p",{className:N,style:x},i.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(h?S_()(u,h):u).map(function(e,t){if("none"===e.type)return null;var r=B_({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),s=e.formatter||d||V_,a=e.value,l=e.name,c=a,h=l;if(s&&null!=c&&null!=h){var f=s(a,l,e,t,u);if(Array.isArray(f)){var p=R_(f,2);c=p[0],h=p[1]}else c=f}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},CT(h)?i.createElement("span",{className:"recharts-tooltip-item-name"},h):null,CT(h)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function q_(e){return q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q_(e)}function W_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=q_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H_="recharts-tooltip-wrapper",K_={visibility:"hidden"};function G_(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return dT(H_,W_(W_(W_(W_({},"".concat(H_,"-right"),kT(n)&&t&&kT(t.x)&&n>=t.x),"".concat(H_,"-left"),kT(n)&&t&&kT(t.x)&&n<t.x),"".concat(H_,"-bottom"),kT(r)&&t&&kT(t.y)&&r>=t.y),"".concat(H_,"-top"),kT(r)&&t&&kT(t.y)&&r<t.y))}function Q_(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&kT(s[r]))return s[r];var u=n[r]-o-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+o>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function Y_(e){return Y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y_(e)}function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(t){rA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iA(r.key),r)}}function Z_(e,t,n){return t=tA(t),function(e,t){if(t&&("object"===Y_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eA()?Reflect.construct(t,n||[],tA(e).constructor):t.apply(e,n))}function eA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eA=function(){return!!e})()}function tA(e){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tA(e)}function nA(e,t){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nA(e,t)}function rA(e,t,n){return(t=iA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iA(e){var t=function(e,t){if("object"!=Y_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y_(t)?t:t+""}var sA=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rA(e=Z_(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),rA(e,"handleKeyDown",function(t){var n,r,i,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==i?i:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nA(e,t)}(t,e),n=t,(r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,s=t.animationDuration,a=t.animationEasing,o=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Q_({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:s,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Q_({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:s,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):K_,cssClasses:G_({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=J_(J_({transition:u&&n?"transform ".concat(s,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return i.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},o)}}])&&$_(n.prototype,r),s&&$_(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.PureComponent),aA={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return aA[e]},set:function(e,t){if("string"===typeof e)aA[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){aA[t]=e[t]})}}},oA=n(977),lA=n.n(oA);function cA(e,t,n){return!0===t?lA()(e,n):LT()(t)?lA()(e,t):e}function uA(e){return uA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(e)}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(t){vA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bA(r.key),r)}}function pA(e,t,n){return t=gA(t),function(e,t){if(t&&("object"===uA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mA()?Reflect.construct(t,n||[],gA(e).constructor):t.apply(e,n))}function mA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mA=function(){return!!e})()}function gA(e){return gA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gA(e)}function yA(e,t){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yA(e,t)}function vA(e,t,n){return(t=bA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bA(e){var t=function(e,t){if("object"!=uA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uA(t)?t:t+""}function xA(e){return e.dataKey}var wA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pA(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yA(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,s=t.animationDuration,a=t.animationEasing,o=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=cA(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,xA));var x=b.length>0;return i.createElement(sA,{allowEscapeViewBox:r,animationDuration:s,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(z_,t)}(o,hA(hA({},this.props),{},{payload:b})))}}])&&fA(n.prototype,r),s&&fA(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.PureComponent);vA(wA,"displayName","Tooltip"),vA(wA,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!aA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jA=n(643),SA=n.n(jA);Math.abs,Math.atan2;const NA=Math.cos,EA=(Math.max,Math.min,Math.sin),kA=Math.sqrt,CA=Math.PI,TA=2*CA;const _A={draw(e,t){const n=kA(t/CA);e.moveTo(n,0),e.arc(0,0,n,0,TA)}},AA={draw(e,t){const n=kA(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},OA=kA(1/3),PA=2*OA,IA={draw(e,t){const n=kA(t/PA),r=n*OA;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},DA={draw(e,t){const n=kA(t),r=-n/2;e.rect(r,r,n,n)}},MA=EA(CA/10)/EA(7*CA/10),RA=EA(TA/10)*MA,LA=-NA(TA/10)*MA,FA={draw(e,t){const n=kA(.8908130915292852*t),r=RA*n,i=LA*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const t=TA*s/5,a=NA(t),o=EA(t);e.lineTo(o*n,-a*n),e.lineTo(a*r-o*i,o*r+a*i)}e.closePath()}},BA=kA(3),UA={draw(e,t){const n=-kA(t/(3*BA));e.moveTo(0,2*n),e.lineTo(-BA*n,-n),e.lineTo(BA*n,-n),e.closePath()}},VA=-.5,zA=kA(3)/2,qA=1/kA(12),WA=3*(qA/2+1),HA={draw(e,t){const n=kA(t/WA),r=n/2,i=n*qA,s=r,a=n*qA+n,o=-s,l=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(o,l),e.lineTo(VA*r-zA*i,zA*r+VA*i),e.lineTo(VA*s-zA*a,zA*s+VA*a),e.lineTo(VA*o-zA*l,zA*o+VA*l),e.lineTo(VA*r+zA*i,VA*i-zA*r),e.lineTo(VA*s+zA*a,VA*a-zA*s),e.lineTo(VA*o+zA*l,VA*l-zA*o),e.closePath()}};function KA(e){return function(){return e}}function GA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QA,YA,XA,JA,$A,ZA,eO,tO,nO,rO,iO,sO,aO,oO;const lO=Math.PI,cO=2*lO,uO=1e-6,dO=cO-uO;function hO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class fO{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?hO:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return hO;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(QA||(QA=GA(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(YA||(YA=GA(["Z"]))))}lineTo(e,t){this._append(XA||(XA=GA(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(JA||(JA=GA(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,s){this._append($A||($A=GA(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+s)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let s=this._x1,a=this._y1,o=n-e,l=r-t,c=s-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append(ZA||(ZA=GA(["M",",",""])),this._x1=e,this._y1=t);else if(d>uO)if(Math.abs(u*o-l*c)>uO&&i){let h=n-s,f=r-a,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((lO-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>uO&&this._append(tO||(tO=GA(["L",",",""])),e+b*c,t+b*u),this._append(nO||(nO=GA(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+x*o,this._y1=t+x*l)}else this._append(eO||(eO=GA(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),o=n*Math.sin(r),l=e+a,c=t+o,u=1^s,d=s?r-i:i-r;null===this._x1?this._append(rO||(rO=GA(["M",",",""])),l,c):(Math.abs(this._x1-l)>uO||Math.abs(this._y1-c)>uO)&&this._append(iO||(iO=GA(["L",",",""])),l,c),n&&(d<0&&(d=d%cO+cO),d>dO?this._append(sO||(sO=GA(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-o,n,n,u,this._x1=l,this._y1=c):d>uO&&this._append(aO||(aO=GA(["A",",",",0,",",",",",",",""])),n,n,+(d>=lO),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(oO||(oO=GA(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function pO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new fO(t)}kA(3),kA(3);function mO(e){return mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mO(e)}var gO=["type","size","sizeType"];function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yO.apply(this,arguments)}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(t){xO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jO={symbolCircle:_A,symbolCross:AA,symbolDiamond:IA,symbolSquare:DA,symbolStar:FA,symbolTriangle:UA,symbolWye:HA},SO=Math.PI/180,NO=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,s=void 0===r?64:r,a=e.sizeType,o=void 0===a?"area":a,l=bO(bO({},wO(e,gO)),{},{type:n,size:s,sizeType:o}),c=l.className,u=l.cx,d=l.cy,h=c_(l,!0);return u===+u&&d===+d&&s===+s?i.createElement("path",yO({},h,{className:dT("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(SA()(e));return jO[t]||_A}(n),t=function(e,t){let n=null,r=pO(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:KA(e||_A),t="function"===typeof t?t:KA(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:KA(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:KA(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*SO;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,o,n));return t()}()})):null};function EO(e){return EO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EO(e)}function kO(){return kO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kO.apply(this,arguments)}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DO(r.key),r)}}function _O(e,t,n){return t=OO(t),function(e,t){if(t&&("object"===EO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AO()?Reflect.construct(t,n||[],OO(e).constructor):t.apply(e,n))}function AO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(AO=function(){return!!e})()}function OO(e){return OO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OO(e)}function PO(e,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PO(e,t)}function IO(e,t,n){return(t=DO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DO(e){var t=function(e,t){if("object"!=EO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EO(t)?t:t+""}NO.registerSymbol=function(e,t){jO["symbol".concat(SA()(e))]=t};var MO=32,RO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_O(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PO(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=MO/6,s=MO/3,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:MO,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(s,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*s,",").concat(n,"\n            H").concat(MO,"M").concat(2*s,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(MO,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(t){IO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete o.legendIcon,i.cloneElement(e.legendIcon,o)}return i.createElement(NO,{fill:a,cx:n,cy:n,size:MO,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,s=t.layout,a=t.formatter,o=t.inactiveColor,l={x:0,y:0,width:MO,height:MO},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var s=t.formatter||a,d=dT(IO(IO({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=LT()(t.value)?null:t.value;MT(!LT()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?o:t.color;return i.createElement("li",kO({className:d,style:c,key:"legend-item-".concat(n)},QT(e.props,t,n)),i.createElement(__,{width:r,height:r,viewBox:l,style:u},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},s?s(h,t,n):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],r&&TO(n.prototype,r),s&&TO(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.PureComponent);function LO(e){return LO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LO(e)}IO(RO,"displayName","Legend"),IO(RO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var FO=["ref"];function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(t){KO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GO(r.key),r)}}function zO(e,t,n){return t=WO(t),function(e,t){if(t&&("object"===LO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qO()?Reflect.construct(t,n||[],WO(e).constructor):t.apply(e,n))}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qO=function(){return!!e})()}function WO(e){return WO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WO(e)}function HO(e,t){return HO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HO(e,t)}function KO(e,t,n){return(t=GO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GO(e){var t=function(e,t){if("object"!=LO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LO(t)?t:t+""}function QO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YO(e){return e.value}var XO=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return KO(e=zO(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HO(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?UO({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,s=r.align,a=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),UO(UO({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,s=t.height,a=t.wrapperStyle,o=t.payloadUniqBy,l=t.payload,c=UO(UO({position:"absolute",width:r||"auto",height:s||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var n=QO(t,FO);return i.createElement(RO,n)}(n,UO(UO({},this.props),{},{payload:cA(l,o,YO)})))}}],s=[{key:"getWithHeight",value:function(e,t){var n=UO(UO({},this.defaultProps),e.props).layout;return"vertical"===n&&kT(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&VO(n.prototype,r),s&&VO(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.PureComponent);function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JO.apply(this,arguments)}KO(XO,"displayName","Legend"),KO(XO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $O=function(e){var t=e.cx,n=e.cy,r=e.r,s=e.className,a=dT("recharts-dot",s);return t===+t&&n===+n&&r===+r?i.createElement("circle",JO({},c_(e,!1),GT(e),{className:a,cx:t,cy:n,r:r})):null},ZO=n(5173),eP=n.n(ZO),tP=Object.getOwnPropertyNames,nP=Object.getOwnPropertySymbols,rP=Object.prototype.hasOwnProperty;function iP(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function sP(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,s=i.get(t),a=i.get(n);if(s&&a)return s===n&&a===t;i.set(t,n),i.set(n,t);var o=e(t,n,r);return i.delete(t),i.delete(n),o}}function aP(e){return tP(e).concat(nP(e))}var oP=Object.hasOwn||function(e,t){return rP.call(e,t)};function lP(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var cP=Object.getOwnPropertyDescriptor,uP=Object.keys;function dP(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function hP(e,t){return lP(e.getTime(),t.getTime())}function fP(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pP(e,t){return e===t}function mP(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,s,a=new Array(r),o=e.entries(),l=0;(i=o.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;)if(a[d])d++;else{var h=i.value,f=s.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var gP=lP;function yP(e,t,n){var r=uP(e),i=r.length;if(uP(t).length!==i)return!1;for(;i-- >0;)if(!NP(e,t,n,r[i]))return!1;return!0}function vP(e,t,n){var r,i,s,a=aP(e),o=a.length;if(aP(t).length!==o)return!1;for(;o-- >0;){if(!NP(e,t,n,r=a[o]))return!1;if(i=cP(e,r),s=cP(t,r),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable))return!1}return!0}function bP(e,t){return lP(e.valueOf(),t.valueOf())}function xP(e,t){return e.source===t.source&&e.flags===t.flags}function wP(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,s,a=new Array(r),o=e.values();(i=o.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!a[u]&&n.equals(i.value,s.value,i.value,s.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function jP(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function SP(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function NP(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||oP(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var EP=Array.isArray,kP="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,CP=Object.assign,TP=Object.prototype.toString.call.bind(Object.prototype.toString);var _P=AP();AP({strict:!0}),AP({circular:!0}),AP({circular:!0,strict:!0}),AP({createInternalComparator:function(){return lP}}),AP({strict:!0,createInternalComparator:function(){return lP}}),AP({circular:!0,createInternalComparator:function(){return lP}}),AP({circular:!0,createInternalComparator:function(){return lP},strict:!0});function AP(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,s=e.createState,a=e.strict,o=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?vP:dP,areDatesEqual:hP,areErrorsEqual:fP,areFunctionsEqual:pP,areMapsEqual:r?iP(mP,vP):mP,areNumbersEqual:gP,areObjectsEqual:r?vP:yP,arePrimitiveWrappersEqual:bP,areRegExpsEqual:xP,areSetsEqual:r?iP(wP,vP):wP,areTypedArraysEqual:r?vP:jP,areUrlsEqual:SP};if(n&&(i=CP({},i,n(i))),t){var s=sP(i.areArraysEqual),a=sP(i.areMapsEqual),o=sP(i.areObjectsEqual),l=sP(i.areSetsEqual);i=CP({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,a=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return o(e,f,p);if(EP(e))return t(e,f,p);if(null!=kP&&kP(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return s(e,f,p);if(g===Set)return u(e,f,p);var y=TP(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?s(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&o(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?o(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,s,a,o){return t(e,n,o)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,s=e.strict;if(r)return function(e,a){var o=r(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,u=o.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:s})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:s,equals:u,strict:o})}function OP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function PP(e){return PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PP(e)}function IP(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return DP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MP(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=IP(r),s=i[0],a=i.slice(1);return"number"===typeof s?void OP(n.bind(null,a),s):(n(s),void OP(n.bind(null,a)))}"object"===PP(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function RP(e){return RP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RP(e)}function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(t){BP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==RP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==RP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===RP(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UP=function(e){return e},VP=function(e,t){return Object.keys(t).reduce(function(n,r){return FP(FP({},n),{},BP({},r,e(r,t[r])))},{})},zP=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function qP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||HP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WP(e){return function(e){if(Array.isArray(e))return KP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||HP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HP(e,t){if(e){if("string"===typeof e)return KP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KP(e,t):void 0}}function KP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GP=1e-4,QP=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},YP=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},XP=function(e,t){return function(n){var r=QP(e,t);return YP(r,n)}},JP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],s=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,s=1,a=1;break;case"ease":r=.25,i=.1,s=.25,a=1;break;case"ease-in":r=.42,i=0,s=1,a=1;break;case"ease-out":r=.42,i=0,s=.58,a=1;break;case"ease-in-out":r=0,i=0,s=.58,a=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=qP(l,4);r=c[0],i=c[1],s=c[2],a=c[3]}}[r,s,i,a].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=XP(r,s),f=XP(i,a),p=(u=r,d=s,function(e){var t=QP(u,d),n=[].concat(WP(t.map(function(e,t){return e*t}).slice(1)),[0]);return YP(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,s=p(n);if(Math.abs(i-t)<GP||s<GP)return f(n);n=m(n-i/s)}return f(n)};return g.isStepper=!1,g},$P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JP(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,s=e.dt,a=void 0===s?17:s,o=function(e,t,r){var s=r+(-(e-t)*n-r*i)*a/1e3,o=r*a/1e3+e;return Math.abs(o-t)<GP&&Math.abs(s)<GP?[t,0]:[o,s]};return o.isStepper=!0,o.dt=a,o}();default:if("cubic-bezier"===r.split("(")[0])return JP(r)}return"function"===typeof r?r:null};function ZP(e){return ZP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZP(e)}function eI(e){return function(e){if(Array.isArray(e))return aI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ZP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ZP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ZP(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||sI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sI(e,t){if(e){if("string"===typeof e)return aI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aI(e,t):void 0}}function aI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oI=function(e,t,n){return e+(t-e)*n},lI=function(e){return e.from!==e.to},cI=function e(t,n,r){var i=VP(function(e,n){if(lI(n)){var r=iI(t(n.from,n.to,n.velocity),2),i=r[0],s=r[1];return nI(nI({},n),{},{from:i,velocity:s})}return n},n);return r<1?VP(function(e,t){return lI(t)?nI(nI({},t),{},{velocity:oI(t.velocity,i[e].velocity,r),from:oI(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const uI=function(e,t,n,r,i){var s,a,o,l,c=(s=e,a=t,[Object.keys(s),Object.keys(a)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return nI(nI({},n),{},rI({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return nI(nI({},n),{},rI({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){o||(o=r);var s=(r-o)/n.dt;d=cI(n,d,s),i(nI(nI(nI({},e),t),VP(function(e,t){return t.from},d))),o=r,Object.values(d).filter(lI).length&&(h=requestAnimationFrame(f))}:function(s){l||(l=s);var a=(s-l)/r,o=VP(function(e,t){return oI.apply(void 0,eI(t).concat([n(a)]))},u);if(i(nI(nI(nI({},e),t),o)),a<1)h=requestAnimationFrame(f);else{var c=VP(function(e,t){return oI.apply(void 0,eI(t).concat([n(1)]))},u);i(nI(nI(nI({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function dI(e){return dI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dI(e)}var hI=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pI(e){return function(e){if(Array.isArray(e))return mI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return mI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(t){vI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vI(e,t,n){return(t=xI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xI(r.key),r)}}function xI(e){var t=function(e,t){if("object"!==dI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dI(t)?t:String(t)}function wI(e,t){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wI(e,t)}function jI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(yQ){return!1}}();return function(){var n,r=EI(e);if(t){var i=EI(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SI(this,n)}}function SI(e,t){if(t&&("object"===dI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return NI(e)}function NI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EI(e){return EI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EI(e)}var kI=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wI(e,t)}(a,e);var t,n,r,s=jI(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=s.call(this,e,t)).props,i=r.isActive,o=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(NI(n)),n.changeStyle=n.changeStyle.bind(NI(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),SI(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},SI(n);n.state={style:o?vI({},o,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,s=t.shouldReAnimate,a=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(_P(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||s?o:e.to;if(this.state&&l){var d={style:i?vI({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(yI(yI({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?vI({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,s=e.easing,a=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=uI(n,r,$P(s),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,s=n[0],a=s.style,o=s.duration,l=void 0===o?0:o;return this.manager.start([i].concat(pI(n.reduce(function(e,r,i){if(0===i)return e;var s=r.duration,a=r.easing,o=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(pI(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:s,easing:o}),s]);var f=zP(h,s,o),p=yI(yI(yI({},d.style),l),{},{transition:f});return[].concat(pI(e),[p,s,u]).filter(UP)},[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=MP());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,s=e.easing,a=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var d=r?vI({},r,i):i,h=zP(Object.keys(d),n,s);u.start([a,t,yI(yI({},d),{},{transition:h}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,fI(e,hI)),a=i.Children.count(t),o=this.state.style;if("function"===typeof t)return t(o);if(!r||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return(0,i.cloneElement)(e,yI(yI({},s),{},{style:yI(yI({},r),o),className:a}))};return 1===a?l(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,function(e){return l(e)}))}}],n&&bI(t.prototype,n),r&&bI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent);kI.displayName="Animate",kI.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},kI.propTypes={from:eP().oneOfType([eP().object,eP().string]),to:eP().oneOfType([eP().object,eP().string]),attributeName:eP().string,duration:eP().number,begin:eP().number,easing:eP().oneOfType([eP().string,eP().func]),steps:eP().arrayOf(eP().shape({duration:eP().number.isRequired,style:eP().object.isRequired,easing:eP().oneOfType([eP().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),eP().func]),properties:eP().arrayOf("string"),onAnimationEnd:eP().func})),children:eP().oneOfType([eP().node,eP().func]),isActive:eP().bool,canBegin:eP().bool,onAnimationEnd:eP().func,shouldReAnimate:eP().bool,onAnimationStart:eP().func,onAnimationReStart:eP().func};const CI=kI;function TI(e){return TI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TI(e)}function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(this,arguments)}function AI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return OI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(t){DI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=TI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MI=function(e,t,n,r,i){var s,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];s="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),s+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),s+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),s+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return s},RI=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,s=t.y,a=t.width,o=t.height;if(Math.abs(a)>0&&Math.abs(o)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(s,s+o),d=Math.max(s,s+o);return n>=l&&n<=c&&r>=u&&r<=d}return!1},LI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FI=function(e){var t=II(II({},LI),e),n=(0,i.useRef)(),r=AI((0,i.useState)(-1),2),s=r[0],a=r[1];(0,i.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(bQ){}},[]);var o=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=dT("recharts-rectangle",h);return y?i.createElement(CI,{canBegin:s>0,from:{width:c,height:u,x:o,y:l},to:{width:c,height:u,x:o,y:l},duration:p,animationEasing:f,isActive:y},function(e){var r=e.width,a=e.height,o=e.x,l=e.y;return i.createElement(CI,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},i.createElement("path",_I({},c_(t,!0),{className:v,d:MI(o,l,r,a,d),ref:n})))}):i.createElement("path",_I({},c_(t,!0),{className:v,d:MI(o,l,c,u,d)}))};function BI(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function UI(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class VI extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HI;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(zI(this,e))}has(e){return super.has(zI(this,e))}set(e,t){return super.set(qI(this,e),t)}delete(e){return super.delete(WI(this,e))}}Set;function zI(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function qI(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function WI(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function HI(e){return null!==e&&"object"===typeof e?e.valueOf():e}const KI=Symbol("implicit");function GI(){var e=new VI,t=[],n=[],r=KI;function i(i){let s=e.get(i);if(void 0===s){if(r!==KI)return r;e.set(i,s=t.push(i)-1)}return n[s%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new VI;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return GI(t,n).unknown(r)},BI.apply(i,arguments),i}function QI(){var e,t,n=GI().unknown(void 0),r=n.domain,i=n.range,s=0,a=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<s,h=d?a:s,f=d?s:a;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(i);++r<i;)s[r]=e+r*n;return s}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([s,a]=e,s=+s,a=+a,d()):[s,a]},n.rangeRound=function(e){return[s,a]=e,s=+s,a=+a,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return QI(r(),[s,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},BI.apply(d(),arguments)}function YI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YI(t())},e}function XI(){return YI(QI.apply(null,arguments).paddingInner(1))}function JI(e){return JI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JI(e)}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(t){eD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=JI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tD={widthCache:{},cacheCount:0},nD={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rD="recharts_measurement_span";var iD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||aA.isSsr)return{width:0,height:0};var n=function(e){var t=ZI({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(tD.widthCache[r])return tD.widthCache[r];try{var i=document.getElementById(rD);i||((i=document.createElement("span")).setAttribute("id",rD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=ZI(ZI({},nD),n);Object.assign(i.style,s),i.textContent="".concat(e);var a=i.getBoundingClientRect(),o={width:a.width,height:a.height};return tD.widthCache[r]=o,++tD.cacheCount>2e3&&(tD.cacheCount=0,tD.widthCache={}),o}catch(yQ){return{width:0,height:0}}};function sD(e){return sD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sD(e)}function aD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return oD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cD(r.key),r)}}function cD(e){var t=function(e,t){if("object"!=sD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sD(t)?t:t+""}var uD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hD=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fD=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},mD=Object.keys(pD),gD="NaN";var yD=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||hD.test(n)||(this.num=NaN,this.unit=""),mD.includes(n)&&(this.num=function(e,t){return e*pD[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=aD(null!==(n=fD.exec(t))&&void 0!==n?n:[],3),i=r[1],s=r[2];return new e(parseFloat(i),null!==s&&void 0!==s?s:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&lD(t.prototype,n),r&&lD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function vD(e){if(e.includes(gD))return gD;for(var t=e;t.includes("*")||t.includes("/");){var n,r=aD(null!==(n=uD.exec(t))&&void 0!==n?n:[],4),i=r[1],s=r[2],a=r[3],o=yD.parse(null!==i&&void 0!==i?i:""),l=yD.parse(null!==a&&void 0!==a?a:""),c="*"===s?o.multiply(l):o.divide(l);if(c.isNaN())return gD;t=t.replace(uD,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=aD(null!==(u=dD.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=yD.parse(null!==h&&void 0!==h?h:""),g=yD.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return gD;t=t.replace(dD,y.toString())}return t}var bD=/\(([^()]*)\)/;function xD(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=aD(bD.exec(t),2)[1];t=t.replace(bD,vD(n))}return t}(t),t=vD(t)}function wD(e){var t=function(e){try{return xD(e)}catch(yQ){return gD}}(e.slice(5,-1));return t===gD?"":t}var jD=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],SD=["dx","dy","angle","className","breakAll"];function ND(){return ND=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ND.apply(this,arguments)}function ED(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return CD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TD=/[ \f\n\r\t\v\u2028\u2029]+/,_D=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return ST()(t)||(i=n?t.toString().split(""):t.toString().split(TD)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:iD(e,r).width}}),spaceWidth:n?0:iD("\xa0",r).width}}catch(yQ){return null}},AD=function(e){return[{words:ST()(e)?[]:e.toString().split(TD)}]},OD=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,s=e.breakAll,a=e.maxLines;if((t||n)&&!aA.isSsr){var o=_D({breakAll:s,children:r,style:i});return o?function(e,t,n,r,i){var s=e.maxLines,a=e.children,o=e.style,l=e.breakAll,c=kT(s),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,a=t.width,o=e[e.length-1];if(o&&(null==r||i||o.width+a+n<Number(r)))o.words.push(s),o.width+=a+n;else{var l={words:[s],width:a};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=_D({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=kD(p(v-1),2),x=b[0],w=b[1],j=kD(p(v),1)[0];if(x||j||(m=v+1),x&&j&&(g=v-1),!x&&j){f=w;break}y++}return f||h}({breakAll:s,children:r,maxLines:a,style:i},o.wordsWithComputedWidth,o.spaceWidth,t,n):AD(r)}return AD(r)},PD="#808080",ID=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,s=void 0===r?0:r,a=e.lineHeight,o=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?PD:g,v=ED(e,jD),b=(0,i.useMemo)(function(){return OD({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,j=v.angle,S=v.className,N=v.breakAll,E=ED(v,SD);if(!CT(n)||!CT(s))return null;var k,C=n+(kT(x)?x:0),T=s+(kT(w)?w:0);switch(m){case"start":k=wD("calc(".concat(c,")"));break;case"middle":k=wD("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:k=wD("calc(".concat(b.length-1," * -").concat(o,")"))}var _=[];if(d){var A=b[0].width,O=v.width;_.push("scale(".concat((kT(O)?O/A:1)/A,")"))}return j&&_.push("rotate(".concat(j,", ").concat(C,", ").concat(T,")")),_.length&&(E.transform=_.join(" ")),i.createElement("text",ND({},c_(E,!0),{x:C,y:T,className:dT("recharts-text",S),textAnchor:f,fill:y.includes("url")?PD:y}),b.map(function(e,t){var n=e.words.join(N?"":" ");return i.createElement("tspan",{x:C,dy:0===t?k:o,key:"".concat(n,"-").concat(t)},n)}))};const DD=Math.sqrt(50),MD=Math.sqrt(10),RD=Math.sqrt(2);function LD(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=DD?10:s>=MD?5:s>=RD?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?LD(e,t,2*n):[o,l,c]}function FD(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,s,a]=r?LD(t,e,n):LD(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function BD(e,t,n){return LD(e=+e,t=+t,n=+n)[2]}function UD(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?BD(t,e,n):BD(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function VD(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zD(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qD(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<s){if(0!==t(r,r))return s;do{const t=i+s>>>1;n(e[t],r)<0?i=t+1:s=t}while(i<s)}return i}return 2!==e.length?(t=VD,n=(t,n)=>VD(e(t),n),r=(t,n)=>e(t)-n):(t=e===VD||e===zD?e:WD,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<s){if(0!==t(r,r))return s;do{const t=i+s>>>1;n(e[t],r)<=0?i=t+1:s=t}while(i<s)}return i}}}function WD(){return 0}function HD(e){return null===e?NaN:+e}const KD=qD(VD),GD=KD.right,QD=(KD.left,qD(HD).center,GD);function YD(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function XD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function JD(){}var $D=.7,ZD=1/$D,eM="\\s*([+-]?\\d+)\\s*",tM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rM=/^#([0-9a-f]{3,8})$/,iM=new RegExp("^rgb\\(".concat(eM,",").concat(eM,",").concat(eM,"\\)$")),sM=new RegExp("^rgb\\(".concat(nM,",").concat(nM,",").concat(nM,"\\)$")),aM=new RegExp("^rgba\\(".concat(eM,",").concat(eM,",").concat(eM,",").concat(tM,"\\)$")),oM=new RegExp("^rgba\\(".concat(nM,",").concat(nM,",").concat(nM,",").concat(tM,"\\)$")),lM=new RegExp("^hsl\\(".concat(tM,",").concat(nM,",").concat(nM,"\\)$")),cM=new RegExp("^hsla\\(".concat(tM,",").concat(nM,",").concat(nM,",").concat(tM,"\\)$")),uM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dM(){return this.rgb().formatHex()}function hM(){return this.rgb().formatRgb()}function fM(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pM(t):3===n?new yM(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?mM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?mM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=iM.exec(e))?new yM(t[1],t[2],t[3],1):(t=sM.exec(e))?new yM(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=aM.exec(e))?mM(t[1],t[2],t[3],t[4]):(t=oM.exec(e))?mM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=lM.exec(e))?SM(t[1],t[2]/100,t[3]/100,1):(t=cM.exec(e))?SM(t[1],t[2]/100,t[3]/100,t[4]):uM.hasOwnProperty(e)?pM(uM[e]):"transparent"===e?new yM(NaN,NaN,NaN,0):null}function pM(e){return new yM(e>>16&255,e>>8&255,255&e,1)}function mM(e,t,n,r){return r<=0&&(e=t=n=NaN),new yM(e,t,n,r)}function gM(e,t,n,r){return 1===arguments.length?((i=e)instanceof JD||(i=fM(i)),i?new yM((i=i.rgb()).r,i.g,i.b,i.opacity):new yM):new yM(e,t,n,null==r?1:r);var i}function yM(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function vM(){return"#".concat(jM(this.r)).concat(jM(this.g)).concat(jM(this.b))}function bM(){const e=xM(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(wM(this.r),", ").concat(wM(this.g),", ").concat(wM(this.b)).concat(1===e?")":", ".concat(e,")"))}function xM(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wM(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jM(e){return((e=wM(e))<16?"0":"")+e.toString(16)}function SM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new EM(e,t,n,r)}function NM(e){if(e instanceof EM)return new EM(e.h,e.s,e.l,e.opacity);if(e instanceof JD||(e=fM(e)),!e)return new EM;if(e instanceof EM)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(a=t===s?(n-r)/o+6*(n<r):n===s?(r-t)/o+2:(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new EM(a,o,l,e.opacity)}function EM(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function kM(e){return(e=(e||0)%360)<0?e+360:e}function CM(e){return Math.max(0,Math.min(1,e||0))}function TM(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function _M(e,t,n,r,i){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*n+(1+3*e+3*s-3*a)*r+a*i)/6}YD(JD,fM,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dM,formatHex:dM,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return NM(this).formatHsl()},formatRgb:hM,toString:hM}),YD(yM,gM,XD(JD,{brighter(e){return e=null==e?ZD:Math.pow(ZD,e),new yM(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?$D:Math.pow($D,e),new yM(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yM(wM(this.r),wM(this.g),wM(this.b),xM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vM,formatHex:vM,formatHex8:function(){return"#".concat(jM(this.r)).concat(jM(this.g)).concat(jM(this.b)).concat(jM(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:bM,toString:bM})),YD(EM,function(e,t,n,r){return 1===arguments.length?NM(e):new EM(e,t,n,null==r?1:r)},XD(JD,{brighter(e){return e=null==e?ZD:Math.pow(ZD,e),new EM(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?$D:Math.pow($D,e),new EM(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yM(TM(e>=240?e-240:e+120,i,r),TM(e,i,r),TM(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new EM(kM(this.h),CM(this.s),CM(this.l),xM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xM(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(kM(this.h),", ").concat(100*CM(this.s),"%, ").concat(100*CM(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const AM=e=>()=>e;function OM(e,t){return function(n){return e+n*t}}function PM(e){return 1===(e=+e)?IM:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):AM(isNaN(t)?n:t)}}function IM(e,t){var n=t-e;return n?OM(e,n):AM(isNaN(e)?t:e)}const DM=function e(t){var n=PM(t);function r(e,t){var r=n((e=gM(e)).r,(t=gM(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),a=IM(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=s(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function MM(e){return function(t){var n,r,i=t.length,s=new Array(i),a=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=gM(t[n]),s[n]=r.r||0,a[n]=r.g||0,o[n]=r.b||0;return s=e(s),a=e(a),o=e(o),r.opacity=1,function(e){return r.r=s(e),r.g=a(e),r.b=o(e),r+""}}}MM(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],a=r>0?e[r-1]:2*i-s,o=r<t-1?e[r+2]:2*s-i;return _M((n-r/t)*t,a,i,s,o)}}),MM(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],a=e[(r+1)%t],o=e[(r+2)%t];return _M((n-r/t)*t,i,s,a,o)}});function RM(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,s=new Array(i),a=new Array(r);for(n=0;n<i;++n)s[n]=WM(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=s[n](e);return a}}function LM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function FM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function BM(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=WM(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var UM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VM=new RegExp(UM.source,"g");function zM(e,t){var n,r,i,s=UM.lastIndex=VM.lastIndex=0,a=-1,o=[],l=[];for(e+="",t+="";(n=UM.exec(e))&&(r=VM.exec(t));)(i=r.index)>s&&(i=t.slice(s,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:FM(n,r)})),s=VM.lastIndex;return s<t.length&&(i=t.slice(s),o[a]?o[a]+=i:o[++a]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function qM(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(s){for(n=0;n<r;++n)i[n]=e[n]*(1-s)+t[n]*s;return i}}function WM(e,t){var n,r=typeof t;return null==t||"boolean"===r?AM(t):("number"===r?FM:"string"===r?(n=fM(t))?(t=n,DM):zM:t instanceof fM?DM:t instanceof Date?LM:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?qM:Array.isArray(t)?RM:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?BM:FM)(e,t)}function HM(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function KM(e){return+e}var GM=[0,1];function QM(e){return e}function YM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function XM(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=YM(i,r),s=n(a,s)):(r=YM(r,i),s=n(s,a)),function(e){return s(r(e))}}function JM(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=YM(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(t){var n=QD(e,t,1,r)-1;return s[n](i[n](t))}}function $M(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ZM(){var e,t,n,r,i,s,a=GM,o=GM,l=WM,c=QM;function u(){var e=Math.min(a.length,o.length);return c!==QM&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?JM:XM,i=s=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((s||(s=r(o,a.map(e),FM)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,KM),u()):a.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=HM,u()},d.clamp=function(e){return arguments.length?(c=!!e||QM,u()):c!==QM},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function eR(){return ZM()(QM,QM)}var tR,nR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rR(e){if(!(t=nR.exec(e)))throw new Error("invalid format: "+e);var t;return new iR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function iR(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function sR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function aR(e){return(e=sR(Math.abs(e)))?e[1]:NaN}function oR(e,t){var n=sR(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}rR.prototype=iR.prototype,iR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const lR={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oR(100*e,t),r:oR,s:function(e,t){var n=sR(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(tR=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+sR(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cR(e){return e}var uR,dR,hR,fR=Array.prototype.map,pR=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function mR(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?cR:(t=fR.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?cR:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(fR.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=rR(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):lR[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?s:/[%p]/.test(v)?l:"",w=lR[v],j=/[defgprs%]/.test(v);function S(e){var i,s,l,h=b,S=x;if("c"===v)S=w(e)+S,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?pR[8+tR/3]:"")+S+(N&&"("===d?")":""),j)for(i=-1,s=e.length;++i<s;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=h.length+e.length+S.length,k=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(k+e,k.length?p-S.length:1/0),k=""),n){case"<":e=h+e+S+k;break;case"=":e=h+k+e+S;break;case"^":e=k.slice(0,E=k.length>>1)+h+e+S+k.slice(E);break;default:e=k+h+e+S}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=rR(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(aR(t)/3))),i=Math.pow(10,-r),s=pR[8+r/3];return function(e){return n(i*e)+s}}}}function gR(e,t,n,r){var i,s=UD(e,t,n);switch((r=rR(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(aR(t)/3)))-aR(Math.abs(e)))}(s,a))||(r.precision=i),hR(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,aR(t)-aR(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-aR(Math.abs(e)))}(s))||(r.precision=i-2*("%"===r.type))}return dR(r)}function yR(e){var t=e.domain;return e.ticks=function(e){var n=t();return FD(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return gR(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,s=t(),a=0,o=s.length-1,l=s[a],c=s[o],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=o,o=i);u-- >0;){if((i=BD(l,c,n))===r)return s[a]=l,s[o]=c,t(s);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function vR(){var e=eR();return e.copy=function(){return $M(e,vR())},BI.apply(e,arguments),yR(e)}function bR(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,KM),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return bR(e).unknown(t)},e=arguments.length?Array.from(e,KM):[0,1],yR(n)}function xR(e,t){var n,r=0,i=(e=e.slice()).length-1,s=e[r],a=e[i];return a<s&&(n=r,r=i,i=n,n=s,s=a,a=n),e[r]=t.floor(s),e[i]=t.ceil(a),e}function wR(e){return Math.log(e)}function jR(e){return Math.exp(e)}function SR(e){return-Math.log(-e)}function NR(e){return-Math.exp(-e)}function ER(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kR(e){return(t,n)=>-e(-t,n)}function CR(e){const t=e(wR,jR),n=t.domain;let r,i,s=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),i=function(e){return 10===e?ER:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=kR(r),i=kR(i),e(SR,NR)):e(wR,jR),t}return t.base=function(e){return arguments.length?(s=+e,a()):s},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],o=t[t.length-1];const l=o<a;l&&([a,o]=[o,a]);let c,u,d=r(a),h=r(o);const f=null==e?10:+e;let p=[];if(!(s%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>o)break;p.push(u)}2*p.length<f&&(p=FD(a,o,f))}else p=FD(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=rR(n)).precision||(n.trim=!0),n=dR(n)),e===1/0)return n;const a=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=a?n(e):""}},t.nice=()=>n(xR(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function TR(){const e=CR(ZM()).domain([1,10]);return e.copy=()=>$M(e,TR()).base(e.base()),BI.apply(e,arguments),e}function _R(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function OR(e){var t=1,n=e(_R(t),AR(t));return n.constant=function(n){return arguments.length?e(_R(t=+n),AR(t)):t},yR(n)}function PR(){var e=OR(ZM());return e.copy=function(){return $M(e,PR()).constant(e.constant())},BI.apply(e,arguments)}function IR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MR(e){return e<0?-e*e:e*e}function RR(e){var t=e(QM,QM),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(QM,QM):.5===n?e(DR,MR):e(IR(n),IR(1/n)):n},yR(t)}function LR(){var e=RR(ZM());return e.copy=function(){return $M(e,LR()).exponent(e.exponent())},BI.apply(e,arguments),e}function FR(){return LR.apply(null,arguments).exponent(.5)}function BR(e){return Math.sign(e)*e*e}function UR(){var e,t=eR(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(BR(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,KM)).map(BR)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return UR(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},BI.apply(i,arguments),yR(i)}function VR(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function zR(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function qR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VD;if(e===VD)return WR;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function WR(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function HR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?WR:qR(i);r>n;){if(r-n>600){const s=r-n+1,a=t-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1);HR(e,t,Math.max(n,Math.floor(t-a*l/s+c)),Math.min(r,Math.floor(t+(s-a)*l/s+c)),i)}const s=e[t];let a=n,o=r;for(KR(e,n,t),i(e[r],s)>0&&KR(e,n,r);a<o;){for(KR(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}0===i(e[n],s)?KR(e,n,o):(++o,KR(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function KR(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function GR(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return zR(e);if(t>=1)return VR(e);var r,i=(r-1)*t,s=Math.floor(i),a=VR(HR(e,s).subarray(0,s+1));return a+(zR(e.subarray(s+1))-a)*(i-s)}}function QR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HD;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e);return a+(+n(e[s+1],s+1,e)-a)*(i-s)}}function YR(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=QR(t,e/i);return s}function s(t){return null==t||isNaN(t=+t)?e:n[QD(r,t)]}return s.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(VD),i()},s.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return YR().domain(t).range(n).unknown(e)},BI.apply(s,arguments)}function XR(){var e,t=0,n=1,r=1,i=[.5],s=[0,1];function a(t){return null!=t&&t<=t?s[QD(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},a.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,o()):s.slice()},a.invertExtent=function(e){var a=s.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return XR().domain([t,n]).range(s).unknown(e)},BI.apply(yR(a),arguments)}function JR(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[QD(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return JR().domain(t).range(n).unknown(e)},BI.apply(i,arguments)}uR=mR({thousands:",",grouping:[3],currency:["$",""]}),dR=uR.format,hR=uR.formatPrefix;const $R=1e3,ZR=6e4,eL=36e5,tL=864e5,nL=6048e5,rL=2592e6,iL=31536e6,sL=new Date,aL=new Date;function oL(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,s)=>{const a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return a;let o;do{a.push(o=new Date(+n)),t(n,s),e(n)}while(o<n&&n<r);return a},i.filter=n=>oL(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(sL.setTime(+t),aL.setTime(+r),e(sL),e(aL),Math.floor(n(sL,aL))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const lL=oL(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lL.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?oL(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):lL:null);lL.range;const cL=oL(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$R)},(e,t)=>(t-e)/$R,e=>e.getUTCSeconds()),uL=(cL.range,oL(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$R)},(e,t)=>{e.setTime(+e+t*ZR)},(e,t)=>(t-e)/ZR,e=>e.getMinutes())),dL=(uL.range,oL(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ZR)},(e,t)=>(t-e)/ZR,e=>e.getUTCMinutes())),hL=(dL.range,oL(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$R-e.getMinutes()*ZR)},(e,t)=>{e.setTime(+e+t*eL)},(e,t)=>(t-e)/eL,e=>e.getHours())),fL=(hL.range,oL(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*eL)},(e,t)=>(t-e)/eL,e=>e.getUTCHours())),pL=(fL.range,oL(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ZR)/tL,e=>e.getDate()-1)),mL=(pL.range,oL(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tL,e=>e.getUTCDate()-1)),gL=(mL.range,oL(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tL,e=>Math.floor(e/tL)));gL.range;function yL(e){return oL(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ZR)/nL)}const vL=yL(0),bL=yL(1),xL=yL(2),wL=yL(3),jL=yL(4),SL=yL(5),NL=yL(6);vL.range,bL.range,xL.range,wL.range,jL.range,SL.range,NL.range;function EL(e){return oL(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/nL)}const kL=EL(0),CL=EL(1),TL=EL(2),_L=EL(3),AL=EL(4),OL=EL(5),PL=EL(6),IL=(kL.range,CL.range,TL.range,_L.range,AL.range,OL.range,PL.range,oL(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),DL=(IL.range,oL(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),ML=(DL.range,oL(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));ML.every=e=>isFinite(e=Math.floor(e))&&e>0?oL(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;ML.range;const RL=oL(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());RL.every=e=>isFinite(e=Math.floor(e))&&e>0?oL(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;RL.range;function LL(e,t,n,r,i,s){const a=[[cL,1,$R],[cL,5,5e3],[cL,15,15e3],[cL,30,3e4],[s,1,ZR],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,eL],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,tL],[r,2,1728e5],[n,1,nL],[t,1,rL],[t,3,7776e6],[e,1,iL]];function o(t,n,r){const i=Math.abs(n-t)/r,s=qD(e=>{let[,,t]=e;return t}).right(a,i);if(s===a.length)return e.every(UD(t/iL,n/iL,r));if(0===s)return lL.every(Math.max(UD(t,n,r),1));const[o,l]=a[i/a[s-1][2]<a[s][2]/i?s-1:s];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:o(e,t,n),s=i?i.range(e,+t+1):[];return r?s.reverse():s},o]}const[FL,BL]=LL(RL,DL,kL,gL,fL,dL),[UL,VL]=LL(ML,IL,vL,pL,hL,uL);function zL(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qL(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function WL(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var HL,KL,GL,QL={"-":"",_:" ",0:"0"},YL=/^\s*\d+/,XL=/^%/,JL=/[\\^$*+?|[\]().{}]/g;function $L(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function ZL(e){return e.replace(JL,"\\$&")}function eF(e){return new RegExp("^(?:"+e.map(ZL).join("|")+")","i")}function tF(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function nF(e,t,n){var r=YL.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rF(e,t,n){var r=YL.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function aF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oF(e,t,n){var r=YL.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uF(e,t,n){var r=YL.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function dF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function fF(e,t,n){var r=YL.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function pF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gF(e,t,n){var r=YL.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yF(e,t,n){var r=YL.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vF(e,t,n){var r=YL.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bF(e,t,n){var r=XL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xF(e,t,n){var r=YL.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wF(e,t,n){var r=YL.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function jF(e,t){return $L(e.getDate(),t,2)}function SF(e,t){return $L(e.getHours(),t,2)}function NF(e,t){return $L(e.getHours()%12||12,t,2)}function EF(e,t){return $L(1+pL.count(ML(e),e),t,3)}function kF(e,t){return $L(e.getMilliseconds(),t,3)}function CF(e,t){return kF(e,t)+"000"}function TF(e,t){return $L(e.getMonth()+1,t,2)}function _F(e,t){return $L(e.getMinutes(),t,2)}function AF(e,t){return $L(e.getSeconds(),t,2)}function OF(e){var t=e.getDay();return 0===t?7:t}function PF(e,t){return $L(vL.count(ML(e)-1,e),t,2)}function IF(e){var t=e.getDay();return t>=4||0===t?jL(e):jL.ceil(e)}function DF(e,t){return e=IF(e),$L(jL.count(ML(e),e)+(4===ML(e).getDay()),t,2)}function MF(e){return e.getDay()}function RF(e,t){return $L(bL.count(ML(e)-1,e),t,2)}function LF(e,t){return $L(e.getFullYear()%100,t,2)}function FF(e,t){return $L((e=IF(e)).getFullYear()%100,t,2)}function BF(e,t){return $L(e.getFullYear()%1e4,t,4)}function UF(e,t){var n=e.getDay();return $L((e=n>=4||0===n?jL(e):jL.ceil(e)).getFullYear()%1e4,t,4)}function VF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$L(t/60|0,"0",2)+$L(t%60,"0",2)}function zF(e,t){return $L(e.getUTCDate(),t,2)}function qF(e,t){return $L(e.getUTCHours(),t,2)}function WF(e,t){return $L(e.getUTCHours()%12||12,t,2)}function HF(e,t){return $L(1+mL.count(RL(e),e),t,3)}function KF(e,t){return $L(e.getUTCMilliseconds(),t,3)}function GF(e,t){return KF(e,t)+"000"}function QF(e,t){return $L(e.getUTCMonth()+1,t,2)}function YF(e,t){return $L(e.getUTCMinutes(),t,2)}function XF(e,t){return $L(e.getUTCSeconds(),t,2)}function JF(e){var t=e.getUTCDay();return 0===t?7:t}function $F(e,t){return $L(kL.count(RL(e)-1,e),t,2)}function ZF(e){var t=e.getUTCDay();return t>=4||0===t?AL(e):AL.ceil(e)}function eB(e,t){return e=ZF(e),$L(AL.count(RL(e),e)+(4===RL(e).getUTCDay()),t,2)}function tB(e){return e.getUTCDay()}function nB(e,t){return $L(CL.count(RL(e)-1,e),t,2)}function rB(e,t){return $L(e.getUTCFullYear()%100,t,2)}function iB(e,t){return $L((e=ZF(e)).getUTCFullYear()%100,t,2)}function sB(e,t){return $L(e.getUTCFullYear()%1e4,t,4)}function aB(e,t){var n=e.getUTCDay();return $L((e=n>=4||0===n?AL(e):AL.ceil(e)).getUTCFullYear()%1e4,t,4)}function oB(){return"+0000"}function lB(){return"%"}function cB(e){return+e}function uB(e){return Math.floor(+e/1e3)}function dB(e){return new Date(e)}function hB(e){return e instanceof Date?+e:+new Date(+e)}function fB(e,t,n,r,i,s,a,o,l,c){var u=eR(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:a(e)<e?m:s(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,hB)):h().map(dB)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(xR(n,e)):u},u.copy=function(){return $M(u,fB(e,t,n,r,i,s,a,o,l,c))},u}function pB(){return BI.apply(fB(UL,VL,ML,IL,vL,pL,hL,uL,cL,KL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mB(){return BI.apply(fB(FL,BL,RL,DL,kL,mL,fL,dL,cL,GL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gB(){var e,t,n,r,i,s=0,a=1,o=QM,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([s,a]=i,e=r(s=+s),t=r(a=+a),n=e===t?0:1/(t-e),c):[s,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(WM),c.rangeRound=u(HM),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(s),t=i(a),n=e===t?0:1/(t-e),c}}function yB(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vB(){var e=yR(gB()(QM));return e.copy=function(){return yB(e,vB())},UI.apply(e,arguments)}function bB(){var e=CR(gB()).domain([1,10]);return e.copy=function(){return yB(e,bB()).base(e.base())},UI.apply(e,arguments)}function xB(){var e=OR(gB());return e.copy=function(){return yB(e,xB()).constant(e.constant())},UI.apply(e,arguments)}function wB(){var e=RR(gB());return e.copy=function(){return yB(e,wB()).exponent(e.exponent())},UI.apply(e,arguments)}function jB(){return wB.apply(null,arguments).exponent(.5)}function SB(){var e=[],t=QM;function n(n){if(null!=n&&!isNaN(n=+n))return t((QD(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(VD),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>GR(e,r/t))},n.copy=function(){return SB(t).domain(e)},UI.apply(n,arguments)}function NB(){var e,t,n,r,i,s,a,o=0,l=.5,c=1,u=1,d=QM,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+s(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=WM);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([o,l,c]=a,e=s(o=+o),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(WM),f.rangeRound=p(HM),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return s=a,e=a(o),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function EB(){var e=yR(NB()(QM));return e.copy=function(){return yB(e,EB())},UI.apply(e,arguments)}function kB(){var e=CR(NB()).domain([.1,1,10]);return e.copy=function(){return yB(e,kB()).base(e.base())},UI.apply(e,arguments)}function CB(){var e=OR(NB());return e.copy=function(){return yB(e,CB()).constant(e.constant())},UI.apply(e,arguments)}function TB(){var e=RR(NB());return e.copy=function(){return yB(e,TB()).exponent(e.exponent())},UI.apply(e,arguments)}function _B(){return TB.apply(null,arguments).exponent(.5)}function AB(e,t){if((i=e.length)>1)for(var n,r,i,s=1,a=e[t[0]],o=a.length;s<i;++s)for(r=a,a=e[t[s]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){HL=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,c=eF(i),u=tF(i),d=eF(s),h=tF(s),f=eF(a),p=tF(a),m=eF(o),g=tF(o),y=eF(l),v=tF(l),b={a:function(e){return a[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:jF,e:jF,f:CF,g:FF,G:UF,H:SF,I:NF,j:EF,L:kF,m:TF,M:_F,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:cB,s:uB,S:AF,u:OF,U:PF,V:DF,w:MF,W:RF,x:null,X:null,y:LF,Y:BF,Z:VF,"%":lB},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:zF,e:zF,f:GF,g:iB,G:aB,H:qF,I:WF,j:HF,L:KF,m:QF,M:YF,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:cB,s:uB,S:XF,u:JF,U:$F,V:eB,w:tB,W:nB,x:null,X:null,y:rB,Y:sB,Z:oB,"%":lB},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:hF,e:hF,f:vF,g:lF,G:oF,H:pF,I:pF,j:fF,L:yF,m:dF,M:mF,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:uF,Q:xF,s:wF,S:gF,u:rF,U:iF,V:sF,w:nF,W:aF,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:lF,Y:oF,Z:cF,"%":bF};function j(e,t){return function(n){var r,i,s,a=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(a.push(e.slice(l,o)),null!=(i=QL[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(s=t[r])&&(r=s(n,i)),a.push(r),l=o+1);return a.push(e.slice(l,o)),a.join("")}}function S(e,t){return function(n){var r,i,s=WL(1900,void 0,1);if(N(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=(r=qL(WL(s.y,0,1))).getUTCDay(),r=i>4||0===i?CL.ceil(r):CL(r),r=mL.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(i=(r=zL(WL(s.y,0,1))).getDay(),r=i>4||0===i?bL.ceil(r):bL(r),r=pL.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?qL(WL(s.y,0,1)).getUTCDay():zL(WL(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,qL(s)):zL(s)}}function N(e,t,n,r){for(var i,s,a=0,o=t.length,l=n.length;a<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(s=w[i in QL?t.charAt(a++):i])||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),KL=HL.format,HL.parse,GL=HL.utcFormat,HL.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function OB(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function PB(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function IB(e,t){return e[t]}function DB(e){const t=[];return t.key=e,t}var MB=n(539),RB=n.n(MB),LB=n(6745),FB=n.n(LB),BB=n(3538),UB=n.n(BB),VB=n(9853),zB=n.n(VB),qB=n(8210),WB=n.n(qB);function HB(e){return function(e){if(Array.isArray(e))return KB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return KB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GB=function(e){return e},QB={"@@functional/placeholder":!0},YB=function(e){return e===QB},XB=function(e){return function t(){return 0===arguments.length||1===arguments.length&&YB(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},JB=function e(t,n){return 1===t?n:XB(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(e){return e!==QB}).length;return a>=t?n.apply(void 0,i):e(t-a,XB(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=i.map(function(e){return YB(e)?t.shift():e});return n.apply(void 0,HB(s).concat(t))}))})},$B=function(e){return JB(e.length,e)},ZB=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},eU=$B(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),tU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return GB;var r=t.reverse(),i=r[0],s=r.slice(1);return function(){return s.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}},nU=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rU=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};var iU=$B(function(e,t,n){var r=+e;return r+n*(+t-r)}),sU=$B(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),aU=$B(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const oU={rangeStep:function(e,t,n){for(var r=new(WB())(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(WB())(e).abs().log(10).toNumber())+1},interpolateNumber:iU,uninterpolateNumber:sU,uninterpolateTruncation:aU};function lU(e){return function(e){if(Array.isArray(e))return dU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||uU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(bQ){i=!0,s=bQ}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return n}(e,t)||uU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uU(e,t){if(e){if("string"===typeof e)return dU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dU(e,t):void 0}}function dU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hU(e){var t=cU(e,2),n=t[0],r=t[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function fU(e,t,n){if(e.lte(0))return new(WB())(0);var r=oU.getDigitCount(e.toNumber()),i=new(WB())(10).pow(r),s=e.div(i),a=1!==r?.05:.1,o=new(WB())(Math.ceil(s.div(a).toNumber())).add(n).mul(a).mul(i);return t?o:new(WB())(Math.ceil(o))}function pU(e,t,n){var r=1,i=new(WB())(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new(WB())(10).pow(oU.getDigitCount(e)-1),i=new(WB())(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new(WB())(Math.floor(e)))}else 0===e?i=new(WB())(Math.floor((t-1)/2)):n||(i=new(WB())(Math.floor(e)));var a=Math.floor((t-1)/2);return tU(eU(function(e){return i.add(new(WB())(e-a).mul(r)).toNumber()}),ZB)(0,t)}function mU(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(WB())(0),tickMin:new(WB())(0),tickMax:new(WB())(0)};var s,a=fU(new(WB())(t).sub(e).div(n-1),r,i);s=e<=0&&t>=0?new(WB())(0):(s=new(WB())(e).add(t).div(2)).sub(new(WB())(s).mod(a));var o=Math.ceil(s.sub(e).div(a).toNumber()),l=Math.ceil(new(WB())(t).sub(s).div(a).toNumber()),c=o+l+1;return c>n?mU(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:a,tickMin:s.sub(new(WB())(o).mul(a)),tickMax:s.add(new(WB())(l).mul(a))})}var gU=rU(function(e){var t=cU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),o=cU(hU([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(lU(ZB(0,i-1).map(function(){return 1/0}))):[].concat(lU(ZB(0,i-1).map(function(){return-1/0})),[c]);return n>r?nU(u):u}if(l===c)return pU(l,i,s);var d=mU(l,c,a,s),h=d.step,f=d.tickMin,p=d.tickMax,m=oU.rangeStep(f,p.add(new(WB())(.1).mul(h)),h);return n>r?nU(m):m}),yU=(rU(function(e){var t=cU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),o=cU(hU([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return pU(l,i,s);var u=fU(new(WB())(c).sub(l).div(a-1),s,0),d=tU(eU(function(e){return new(WB())(l).add(new(WB())(e).mul(u)).toNumber()}),ZB)(0,a).filter(function(e){return e>=l&&e<=c});return n>r?nU(d):d}),rU(function(e,t){var n=cU(e,2),r=n[0],i=n[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=cU(hU([r,i]),2),o=a[0],l=a[1];if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var c=Math.max(t,2),u=fU(new(WB())(l).sub(o).div(c-1),s,0),d=[].concat(lU(oU.rangeStep(new(WB())(o),new(WB())(l).sub(new(WB())(.99).mul(u)),u)),[l]);return r>i?nU(d):d})),vU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bU(e){return bU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bU(e)}function xU(){return xU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xU.apply(this,arguments)}function wU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return jU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AU(r.key),r)}}function EU(e,t,n){return t=CU(t),function(e,t){if(t&&("object"===bU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kU()?Reflect.construct(t,n||[],CU(e).constructor):t.apply(e,n))}function kU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kU=function(){return!!e})()}function CU(e){return CU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CU(e)}function TU(e,t){return TU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TU(e,t)}function _U(e,t,n){return(t=AU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AU(e){var t=function(e,t){if("object"!=bU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bU(t)?t:t+""}var OU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EU(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TU(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,s=e.dataKey,a=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=SU(e,vU),d=c_(u,!1);"x"===this.props.direction&&"number"!==l.type&&E_(!1);var h=a.map(function(e){var a=o(e,s),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=wU(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=l.scale,x=h+t,w=x+r,j=x-r,S=b(f-m),N=b(f+g);y.push({x1:N,y1:w,x2:N,y2:j}),y.push({x1:S,y1:x,x2:N,y2:x}),y.push({x1:S,y1:w,x2:S,y2:j})}else if("horizontal"===n){var E=c.scale,k=u+t,C=k-r,T=k+r,_=E(f-m),A=E(f+g);y.push({x1:C,y1:A,x2:T,y2:A}),y.push({x1:k,y1:_,x2:k,y2:A}),y.push({x1:C,y1:_,x2:T,y2:_})}return i.createElement(I_,xU({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return i.createElement("line",xU({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return i.createElement(I_,{className:"recharts-errorBars"},h)}}],r&&NU(n.prototype,r),s&&NU(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.Component);function PU(e){return PU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PU(e)}function IU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IU(Object(n),!0).forEach(function(t){MU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=PU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_U(OU,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),_U(OU,"displayName","ErrorBar");var RU=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,s=s_(t,XO);if(!s)return null;var a,o=XO.defaultProps,l=void 0!==o?DU(DU({},o),s.props):{};return a=s.props&&s.props.payload?s.props&&s.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:s.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?DU(DU({},n),t.props):{},i=r.dataKey,s=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:HU(t),value:s||i,payload:r}}),DU(DU(DU({},l),XO.getWithHeight(s,r)),{},{payload:a,item:s})};function LU(e){return LU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LU(e)}function FU(e){return function(e){if(Array.isArray(e))return BU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return BU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UU(Object(n),!0).forEach(function(t){zU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qU(e,t,n){return ST()(e)||ST()(t)?n:CT(t)?bT()(e,t,n):LT()(t)?t(e):n}function WU(e,t,n,r){var i=UB()(e,function(e){return qU(e,t)});if("number"===n){var s=i.filter(function(e){return kT(e)||parseFloat(e)});return s.length?[FB()(s),RB()(s)]:[1/0,-1/0]}return(r?i.filter(function(e){return!ST()(e)}):i).map(function(e){return CT(e)||e instanceof Date?e:""})}var HU=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?VU(VU({},e.type.defaultProps),e.props):e.props,s=i.stroke,a=i.fill;switch(r){case"Line":n=s;break;case"Area":case"Radar":n=s&&"none"!==s?s:a;break;default:n=a}return n},KU=function(e,t,n,r,i){var s=i_(t.props.children,OU).filter(function(e){return function(e,t,n){return!!ST()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(s&&s.length){var a=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=qU(t,n);if(ST()(r))return e;var i=Array.isArray(r)?[FB()(r),RB()(r)]:[r,r],s=a.reduce(function(e,n){var r=qU(t,n,0),s=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(s,e[0]),Math.max(a,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},GU=function(e,t,n,r,i){var s=t.map(function(t){var s=t.props.dataKey;return"number"===n&&s&&KU(e,t,s,r)||WU(e,s,n,i)});if("number"===n)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var a={};return s.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e},[])},QU=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},YU=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,s,a=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(s=!0),e.coordinate});return i||a.push(t),s||a.push(n),a},XU=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,s=e.type,a=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===s&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*NT(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!yT()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},JU=new WeakMap,$U=function(e,t){if("function"!==typeof t)return e;JU.has(e)||JU.set(e,new WeakMap);var n=JU.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},ZU=1e-4,eV={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,a=0;a<t;++a){var o=yT()(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,s=0,a=e[0].length;s<a;++s){for(i=n=0;n<r;++n)i+=e[n][s][1]||0;if(i)for(n=0;n<r;++n)e[n][s][1]/=i}AB(e,t)}},none:AB,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],s=i.length;r<s;++r){for(var a=0,o=0;a<n;++a)o+=e[a][r][1]||0;i[r][1]+=i[r][0]=-o/2}AB(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,s=0,a=1;a<r;++a){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=s,l&&(s-=c/l)}n[a-1][1]+=n[a-1][0]=s,AB(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var a=yT()(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},tV=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=eV[n],s=function(){var e=KA([]),t=PB,n=AB,r=IB;function i(i){var s,a,o=Array.from(e.apply(this,arguments),DB),l=o.length,c=-1;for(const e of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(e,o[s].key,c,i)]).data=e;for(s=0,a=OB(t(o));s<l;++s)o[a[s]].index=s;return n(o,a),o}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:KA(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:KA(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?PB:"function"===typeof e?e:KA(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?AB:e,i):n},i}().keys(r).value(function(e,t){return+qU(e,t,0)}).order(PB).offset(i);return s(e)};function nV(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,s=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ST()(i[t.dataKey])){var o=IT(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=qU(i,ST()(a)?t.dataKey:a);return ST()(l)?null:t.scale(l)}var rV=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,s=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var o=qU(s,t.dataKey,t.domain[a]);return ST()(o)?null:t.scale(o)-i/2+r},iV=function(e,t,n){return Object.keys(e).reduce(function(r,i){var s=e[i].stackedData.reduce(function(e,r){var i=function(e){return e.reduce(function(e,t){return[FB()(t.concat([e[0]]).filter(kT)),RB()(t.concat([e[1]]).filter(kT))]},[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},sV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oV=function(e,t,n){if(LT()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(kT(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(sV.test(e[0])){var i=+sV.exec(e[0])[1];r[0]=t[0]-i}else LT()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(kT(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(aV.test(e[1])){var s=+aV.exec(e[1])[1];r[1]=t[1]+s}else LT()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},lV=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=S_()(t,function(e){return e.coordinate}),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},cV=function(e,t,n){return e&&e.length?zB()(e,bT()(n,"type.defaultProps.domain"))?t:e:t},uV=function(e,t){var n=e.type.defaultProps?VU(VU({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,s=n.unit,a=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return VU(VU({},c_(e,!1)),{},{dataKey:r,unit:s,formatter:a,name:i||r,color:HU(e),value:qU(t,r),type:o,payload:t,chartType:l,hide:c})};function dV(e){return dV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dV(e)}function hV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hV(Object(n),!0).forEach(function(t){pV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mV=["Webkit","Moz","O","ms"];function gV(e){return gV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gV(e)}function yV(){return yV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yV.apply(this,arguments)}function vV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vV(Object(n),!0).forEach(function(t){EV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kV(r.key),r)}}function wV(e,t,n){return t=SV(t),function(e,t){if(t&&("object"===gV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jV()?Reflect.construct(t,n||[],SV(e).constructor):t.apply(e,n))}function jV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jV=function(){return!!e})()}function SV(e){return SV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SV(e)}function NV(e,t){return NV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NV(e,t)}function EV(e,t,n){return(t=kV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kV(e){var t=function(e,t){if("object"!=gV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gV(t)?t:t+""}var CV=function(e){return e.changedTouches&&!!e.changedTouches.length},TV=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EV(n=wV(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),EV(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),EV(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),EV(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),EV(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),EV(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),EV(n,"handleSlideDragStart",function(e){var t=CV(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NV(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,s=this.props,a=s.gap,o=s.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===o?o:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,s=qU(n[e],i,e);return LT()(r)?r(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,s=this.props,a=s.x,o=s.width,l=s.travellerWidth,c=s.startIndex,u=s.endIndex,d=s.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+o-l-i,a+o-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=CV(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,s=t.startX,a=this.state[r],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,d=o.onChange,h=o.gap,f=o.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(EV(EV({},r,a+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>s?y%h===0:v%h===0)||i<s&&v===e||"endX"===r&&(i>s?v%h===0:y%h===0)||i>s&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,s=r.startX,a=r.endX,o=this.state[t],l=i.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=s||this.setState(EV({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,s=e.height,a=e.fill,o=e.stroke;return i.createElement("rect",{stroke:o,fill:a,x:t,y:n,width:r,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,s=e.height,a=e.data,o=e.children,l=e.padding,c=i.Children.only(o);return c?i.cloneElement(c,{x:t,y:n,width:r,height:s,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,s,a=this,o=this.props,l=o.y,c=o.travellerWidth,u=o.height,d=o.traveller,h=o.ariaLabel,f=o.data,p=o.startIndex,m=o.endIndex,g=Math.max(e,this.props.x),y=bV(bV({},c_(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(r=f[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(s=f[m])||void 0===s?void 0:s.name);return i.createElement(I_,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,s=n.height,a=n.stroke,o=n.travellerWidth,l=Math.min(e,t)+o,c=Math.max(Math.abs(t-e)-o,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:r,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,s=e.height,a=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:o};return i.createElement(I_,{className:"recharts-brush-texts"},i.createElement(ID,yV({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:r+s/2},d),this.getTextOfTick(t)),i.createElement(ID,yV({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:r+s/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,s=e.x,a=e.y,o=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!kT(s)||!kT(a)||!kT(o)||!kT(l)||o<=0||l<=0)return null;var y=dT("recharts-brush",n),v=1===i.Children.count(r),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=mV.reduce(function(e,r){return fV(fV({},e),{},pV({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return i.createElement(I_,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,s=e.height,a=e.stroke,o=Math.floor(n+s/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:s,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:o,x2:t+r-1,y2:o,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:o+2,x2:t+r-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return i.isValidElement(e)?i.cloneElement(e,n):LT()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,s=e.travellerWidth,a=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return bV({prevData:n,prevTravellerWidth:s,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,s=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=XI().domain(w_()(0,o)).range([i,i+s-a]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:s,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([i,i+r-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:s,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&xV(n.prototype,r),s&&xV(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.PureComponent);function _V(e){return _V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_V(e)}function AV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AV(Object(n),!0).forEach(function(t){PV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_V(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}EV(TV,"displayName","Brush"),EV(TV,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var IV=Math.PI/180,DV=function(e){return 180*e/Math.PI},MV=function(e,t,n,r){return{x:e+Math.cos(-IV*r)*n,y:t+Math.sin(-IV*r)*n}},RV=function(e,t){var n=e.x,r=e.y,i=t.cx,s=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,s=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-s,2))}({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:DV(l),angleInRadian:l}},LV=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(i,s)},FV=function(e,t){var n=e.x,r=e.y,i=RV({x:n,y:r},t),s=i.radius,a=i.angle,o=t.innerRadius,l=t.outerRadius;if(s<o||s>l)return!1;if(0===s)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-360*s,endAngle:n-360*s}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?OV(OV({},t),{},{radius:s,angle:LV(f,t)}):null};function BV(e){return BV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BV(e)}var UV=["offset"];function VV(e){return function(e){if(Array.isArray(e))return zV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WV(Object(n),!0).forEach(function(t){KV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=BV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(){return GV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GV.apply(this,arguments)}var QV=function(e,t,n){var r,s,a=e.position,o=e.viewBox,l=e.offset,c=e.className,u=o,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return NT(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===a?(r=m+x*l,s=y):"insideEnd"===a?(r=g-x*l,s=!y):"end"===a&&(r=g+x*l,s=y),s=b<=0?s:!s;var w=MV(d,h,v,r),j=MV(d,h,v,r+359*(s?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(j.x,",").concat(j.y),N=ST()(e.id)?_T("recharts-radial-line-"):e.id;return i.createElement("text",GV({},n,{dominantBaseline:"central",className:dT("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:N,d:S})),i.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function YV(e){var t,n=e.offset,r=HV({offset:void 0===n?5:n},qV(e,UV)),s=r.viewBox,a=r.position,o=r.value,l=r.children,c=r.content,u=r.className,d=void 0===u?"":u,h=r.textBreakAll;if(!s||ST()(o)&&ST()(l)&&!(0,i.isValidElement)(c)&&!LT()(c))return null;if((0,i.isValidElement)(c))return(0,i.cloneElement)(c,r);if(LT()(c)){if(t=(0,i.createElement)(c,r),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=ST()(e.children)?t:e.children;return LT()(n)?n(r):r}(r);var f=function(e){return"cx"in e&&kT(e.cx)}(s),p=c_(r,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return QV(r,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,s=i.cx,a=i.cy,o=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=MV(s,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=MV(s,a,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,s=t,a=s.x,o=s.y,l=s.width,c=s.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return HV(HV({},{x:a+l/2,y:o-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===i)return HV(HV({},{x:a+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return HV(HV({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return HV(HV({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?HV({x:a+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===i?HV({x:a+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?HV({x:a+l/2,y:o+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===i?HV({x:a+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===i?HV({x:a+m,y:o+d,textAnchor:y,verticalAnchor:f},x):"insideTopRight"===i?HV({x:a+l-m,y:o+d,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===i?HV({x:a+m,y:o+c-d,textAnchor:y,verticalAnchor:h},x):"insideBottomRight"===i?HV({x:a+l-m,y:o+c-d,textAnchor:g,verticalAnchor:h},x):BT()(i)&&(kT(i.x)||ET(i.x))&&(kT(i.y)||ET(i.y))?HV({x:a+AT(i.x,l),y:o+AT(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):HV({x:a+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return i.createElement(ID,GV({className:dT("recharts-label",d)},p,m,{breakAll:h}),t)}YV.displayName="Label";var XV=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,s=e.endAngle,a=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(kT(p)&&kT(m)){if(kT(u)&&kT(d))return{x:u,y:d,width:p,height:m};if(kT(h)&&kT(f))return{x:h,y:f,width:p,height:m}}return kT(u)&&kT(d)?{x:u,y:d,width:0,height:0}:kT(t)&&kT(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:c||o||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};YV.parseViewBox=XV,YV.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=XV(e),a=i_(r,YV).map(function(e,n){return(0,i.cloneElement)(e,{viewBox:t||s,key:"label-".concat(n)})});if(!n)return a;var o=function(e,t){return e?!0===e?i.createElement(YV,{key:"label-implicit",viewBox:t}):CT(e)?i.createElement(YV,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===YV?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(YV,{key:"label-implicit",content:e,viewBox:t}):LT()(e)?i.createElement(YV,{key:"label-implicit",content:e,viewBox:t}):BT()(e)?i.createElement(YV,GV({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||s);return[o].concat(VV(a))};var JV=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},$V=n(1733),ZV=n.n($V),ez=n(7002),tz=n.n(ez),nz=function(e){return null};nz.displayName="Cell";var rz=n(4065),iz=n.n(rz);function sz(e){return sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sz(e)}var az=["valueAccessor"],oz=["data","dataKey","clockWise","id","textBreakAll"];function lz(e){return function(e){if(Array.isArray(e))return cz(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cz(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uz(){return uz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uz.apply(this,arguments)}function dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dz(Object(n),!0).forEach(function(t){fz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mz=function(e){return Array.isArray(e.value)?iz()(e.value):e.value};function gz(e){var t=e.valueAccessor,n=void 0===t?mz:t,r=pz(e,az),s=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=pz(r,oz);return s&&s.length?i.createElement(I_,{className:"recharts-label-list"},s.map(function(e,t){var r=ST()(a)?n(e,t):qU(e&&e.payload,a),s=ST()(l)?{}:{id:"".concat(l,"-").concat(t)};return i.createElement(YV,uz({},c_(e,!0),u,s,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:YV.parseViewBox(ST()(o)?e:hz(hz({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}gz.displayName="LabelList",gz.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=i_(e.children,gz).map(function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});if(!n)return r;var s=function(e,t){return e?!0===e?i.createElement(gz,{key:"labelList-implicit",data:t}):i.isValidElement(e)||LT()(e)?i.createElement(gz,{key:"labelList-implicit",data:t,content:e}):BT()(e)?i.createElement(gz,uz({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[s].concat(lz(r))};var yz=n(2322),vz=n.n(yz),bz=n(6361),xz=n.n(bz);function wz(e){return wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wz(e)}function jz(){return jz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jz.apply(this,arguments)}function Sz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nz(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ez(Object(n),!0).forEach(function(t){Cz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tz=function(e,t,n,r,i){var s,a=n-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z")},_z={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Az=function(e){var t=kz(kz({},_z),e),n=(0,i.useRef)(),r=Sz((0,i.useState)(-1),2),s=r[0],a=r[1];(0,i.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(bQ){}},[]);var o=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=dT("recharts-trapezoid",h);return g?i.createElement(CI,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:o,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:o,y:l},duration:p,animationEasing:f,isActive:g},function(e){var r=e.upperWidth,a=e.lowerWidth,o=e.height,l=e.x,c=e.y;return i.createElement(CI,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},i.createElement("path",jz({},c_(t,!0),{className:y,d:Tz(l,c,r,a,o),ref:n})))}):i.createElement("g",null,i.createElement("path",jz({},c_(t,!0),{className:y,d:Tz(o,l,c,u,d)})))};function Oz(e){return Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oz(e)}function Pz(){return Pz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pz.apply(this,arguments)}function Iz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iz(Object(n),!0).forEach(function(t){Mz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Oz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rz=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,s=e.sign,a=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(a?1:-1)+r,u=Math.asin(o/c)/IV,d=l?i:i+s*u,h=l?i-s*u:i;return{center:MV(t,n,c,d),circleTangency:MV(t,n,r,d),lineTangency:MV(t,n,c*Math.cos(u*IV),h),theta:u}},Lz=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,s=e.startAngle,a=function(e,t){return NT(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+a,l=MV(t,n,i,s),c=MV(t,n,i,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(s>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=MV(t,n,r,s),h=MV(t,n,r,o);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(s<=o),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Fz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bz=function(e){var t=Dz(Dz({},Fz),e),n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<s||u===d)return null;var f,p=dT("recharts-sector",h),m=a-s,g=AT(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=NT(c-l),d=Rz({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=Rz({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=o?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):Lz({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=Rz({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),j=w.circleTangency,S=w.lineTangency,N=w.theta,E=Rz({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=E.circleTangency,C=E.lineTangency,T=E.theta,_=o?Math.abs(l-c):Math.abs(l-c)-N-T;if(_<0&&0===s)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(C.x,",").concat(C.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(_>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:s,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Lz({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d}),i.createElement("path",Pz({},c_(t,!0),{className:p,d:f,role:"img"}))},Uz=["option","shapeType","propTransformer","activeClassName","isActive"];function Vz(e){return Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vz(e)}function zz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qz(Object(n),!0).forEach(function(t){Hz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Vz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kz(e,t){return Wz(Wz({},t),e)}function Gz(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return i.createElement(FI,n);case"trapezoid":return i.createElement(Az,n);case"sector":return i.createElement(Bz,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(NO,n);break;default:return null}}function Qz(e){var t,n=e.option,r=e.shapeType,s=e.propTransformer,a=void 0===s?Kz:s,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,u=zz(e,Uz);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,Wz(Wz({},u),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if(LT()(n))t=n(u);else if(vz()(n)&&!xz()(n)){var d=a(n,u);t=i.createElement(Gz,{shapeType:r,elementProps:d})}else{var h=u;t=i.createElement(Gz,{shapeType:r,elementProps:h})}return c?i.createElement(I_,{className:l},t):t}function Yz(e,t){return null!=t&&"trapezoids"in e.props}function Xz(e,t){return null!=t&&"sectors"in e.props}function Jz(e,t){return null!=t&&"points"in e.props}function $z(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&s}function Zz(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function eq(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function tq(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return Yz(e,t)?n="trapezoids":Xz(e,t)?n="sectors":Jz(e,t)&&(n="points"),n}(n,t),s=function(e,t){var n,r;return Yz(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Xz(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Jz(e,t)?t.payload:{}}(n,t),a=r.filter(function(e,r){var a=zB()(s,e),o=n.props[i].filter(function(e){var r=function(e,t){var n;return Yz(e,t)?n=$z:Xz(e,t)?n=Zz:Jz(e,t)&&(n=eq),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(o[o.length-1]);return a&&r===l});return r.indexOf(a[a.length-1])}var nq=["x","y"];function rq(e){return rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rq(e)}function iq(){return iq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iq.apply(this,arguments)}function sq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sq(Object(n),!0).forEach(function(t){oq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cq(e,t){var n=e.x,r=e.y,i=lq(e,nq),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return aq(aq(aq(aq(aq({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function uq(e){return i.createElement(Qz,iq({shapeType:"rectangle",propTransformer:cq,activeClassName:"recharts-active-bar"},e))}var dq,hq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i=kT(n)||function(e){return ST()(e)}(n);return i?e(n,r):(i||E_(!1),t)}},fq=["value","background"];function pq(e){return pq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pq(e)}function mq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gq(){return gq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gq.apply(this,arguments)}function yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yq(Object(n),!0).forEach(function(t){Nq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eq(r.key),r)}}function xq(e,t,n){return t=jq(t),function(e,t){if(t&&("object"===pq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wq()?Reflect.construct(t,n||[],jq(e).constructor):t.apply(e,n))}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wq=function(){return!!e})()}function jq(e){return jq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jq(e)}function Sq(e,t){return Sq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sq(e,t)}function Nq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=function(e,t){if("object"!=pq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pq(t)?t:t+""}var kq=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Nq(e=xq(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),Nq(e,"id",_T("recharts-bar-")),Nq(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),Nq(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sq(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,s=n.dataKey,a=n.activeIndex,o=n.activeBar,l=c_(this.props,!1);return e&&e.map(function(e,n){var c=n===a,u=c?o:r,d=vq(vq(vq({},l),e),{},{isActive:c,option:u,index:n,dataKey:s,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(I_,gq({className:"recharts-bar-rectangle"},QT(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),i.createElement(uq,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,s=t.isAnimationActive,a=t.animationBegin,o=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return i.createElement(CI,{begin:a,duration:o,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var s=t.t,a=n.map(function(e,t){var n=u&&u[t];if(n){var i=PT(n.x,e.x),a=PT(n.y,e.y),o=PT(n.width,e.width),l=PT(n.height,e.height);return vq(vq({},e),{},{x:i(s),y:a(s),width:o(s),height:l(s)})}if("horizontal"===r){var c=PT(0,e.height)(s);return vq(vq({},e),{},{y:e.y+e.height-c,height:c})}var d=PT(0,e.width)(s);return vq(vq({},e),{},{width:d})});return i.createElement(I_,null,e.renderRectanglesStatically(a))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&zB()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,s=t.activeIndex,a=c_(this.props.background,!1);return n.map(function(t,n){t.value;var o=t.background,l=mq(t,fq);if(!o)return null;var c=vq(vq(vq(vq(vq({},l),{},{fill:"#eee"},o),a),QT(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(uq,gq({key:"background-bar-".concat(n),option:e.props.background,isActive:n===s},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,s=n.xAxis,a=n.yAxis,o=n.layout,l=i_(n.children,OU);if(!l)return null;var c="vertical"===o?r[0].height/2:r[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:qU(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(I_,d,l.map(function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:s,yAxis:a,layout:o,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,s=e.xAxis,a=e.yAxis,o=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=dT("recharts-bar",r),g=s&&s.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=ST()(f)?this.id:f;return i.createElement(I_,{className:m},g||y?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:g?o:o-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,i.createElement(I_,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&gz.renderCallByParent(this.props,n))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&bq(n.prototype,r),s&&bq(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.PureComponent);function Cq(e){return Cq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cq(e)}function Tq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pq(r.key),r)}}function _q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Aq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_q(Object(n),!0).forEach(function(t){Oq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oq(e,t,n){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=function(e,t){if("object"!=Cq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cq(t)?t:t+""}dq=kq,Nq(kq,"displayName","Bar"),Nq(kq,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!aA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Nq(kq,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,s=e.xAxis,a=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?vq(vq({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===p?a:s,w=c?x.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),S=i_(v,nz),N=d.map(function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!kT(t[0])||!kT(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!kT(e[0])||e[0]<n)&&(i[0]=n),(!kT(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=qU(e,y),Array.isArray(r)||(r=[j,r]));var x=hq(b,dq.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var N,E=[a.scale(r[0]),a.scale(r[1])],k=E[0],C=E[1];d=rV({axis:s,ticks:o,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(N=null!==C&&void 0!==C?C:k)&&void 0!==N?N:void 0,m=f.size;var T=k-C;if(g=Number.isNaN(T)?0:T,v={x:d,y:a.y,width:m,height:a.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var _=NT(g||x)*(Math.abs(x)-Math.abs(g));h-=_,g+=_}}else{var A=[s.scale(r[0]),s.scale(r[1])],O=A[0],P=A[1];if(d=O,h=rV({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=P-O,g=f.size,v={x:s.x,y:h,width:s.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=NT(m||x)*(Math.abs(x)-Math.abs(m))}return vq(vq(vq({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[uV(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return vq({data:N,layout:p},h)});var Iq=function(e,t){var n=e.x,r=e.y,i=t.x,s=t.y;return{x:Math.min(n,i),y:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(s-r)}},Dq=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&Tq(t.prototype,n),r&&Tq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Oq(Dq,"EPS",1e-4);var Mq=function(e){var t=Object.keys(e).reduce(function(t,n){return Aq(Aq({},t),{},Oq({},n,Dq.create(e[n])))},{});return Aq(Aq({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return ZV()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return tz()(e,function(e,n){return t[n].isInRange(e)})}})};function Rq(){return Rq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rq.apply(this,arguments)}function Lq(e){return Lq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lq(e)}function Fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fq(Object(n),!0).forEach(function(t){Hq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kq(r.key),r)}}function Vq(e,t,n){return t=qq(t),function(e,t){if(t&&("object"===Lq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zq()?Reflect.construct(t,n||[],qq(e).constructor):t.apply(e,n))}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zq=function(){return!!e})()}function qq(e){return qq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qq(e)}function Wq(e,t){return Wq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wq(e,t)}function Hq(e,t,n){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kq(e){var t=function(e,t){if("object"!=Lq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lq(t)?t:t+""}var Gq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wq(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,s=e.r,a=e.alwaysShow,o=e.clipPathId,l=CT(n),c=CT(r);if(MT(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,s=Mq({x:r.scale,y:i.scale}),a=s.apply({x:t,y:n},{bandAware:!0});return JV(e,"discard")&&!s.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=Bq(Bq({clipPath:JV(this.props,"hidden")?"url(#".concat(o,")"):void 0},c_(this.props,!0)),{},{cx:d,cy:h});return i.createElement(I_,{className:dT("recharts-reference-dot",m)},t.renderDot(p,g),YV.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}],r&&Uq(n.prototype,r),s&&Uq(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.Component);Hq(Gq,"displayName","ReferenceDot"),Hq(Gq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Hq(Gq,"renderDot",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):LT()(e)?e(t):i.createElement($O,Rq({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var Qq=n(4597),Yq=n.n(Qq),Xq=n(8990),Jq=n.n(Xq),$q=n(5797),Zq=n.n($q)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var eW=(0,i.createContext)(void 0),tW=(0,i.createContext)(void 0),nW=(0,i.createContext)(void 0),rW=(0,i.createContext)({}),iW=(0,i.createContext)(void 0),sW=(0,i.createContext)(0),aW=(0,i.createContext)(0),oW=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,s=t.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Zq(s);return i.createElement(eW.Provider,{value:n},i.createElement(tW.Provider,{value:r},i.createElement(rW.Provider,{value:s},i.createElement(nW.Provider,{value:u},i.createElement(iW.Provider,{value:a},i.createElement(sW.Provider,{value:c},i.createElement(aW.Provider,{value:l},o)))))))};var lW=function(e){var t=(0,i.useContext)(eW);null==t&&E_(!1);var n=t[e];return null==n&&E_(!1),n},cW=function(e){var t=(0,i.useContext)(tW);null==t&&E_(!1);var n=t[e];return null==n&&E_(!1),n},uW=function(){return(0,i.useContext)(aW)},dW=function(){return(0,i.useContext)(sW)};function hW(e){return hW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hW(e)}function fW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wW(r.key),r)}}function pW(e,t,n){return t=gW(t),function(e,t){if(t&&("object"===hW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mW()?Reflect.construct(t,n||[],gW(e).constructor):t.apply(e,n))}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mW=function(){return!!e})()}function gW(e){return gW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gW(e)}function yW(e,t){return yW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yW(e,t)}function vW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vW(Object(n),!0).forEach(function(t){xW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xW(e,t,n){return(t=wW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=function(e,t){if("object"!=hW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hW(t)?t:t+""}function jW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return SW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NW(){return NW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NW.apply(this,arguments)}function EW(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=(0,i.useContext)(iW),d=lW(s),h=cW(a),f=(0,i.useContext)(nW);if(!u||!f)return null;MT(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,s,a,o,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:s});if(JV(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===o?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:s});if(JV(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:s})});return JV(l,"discard")&&Yq()(b,function(t){return!e.isInRange(t)})?null:b}return null}(Mq({x:d.scale,y:h.scale}),CT(t),CT(n),r&&2===r.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=jW(p,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,j=bW(bW({clipPath:JV(e,"hidden")?"url(#".concat(u,")"):void 0},c_(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return i.createElement(I_,{className:dT("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):LT()(e)?e(t):i.createElement("line",NW({},t,{className:"recharts-reference-line-line"}))}(o,j),YV.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Iq({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:x,y2:w})))}var kW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pW(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(EW,this.props)}}])&&fW(n.prototype,r),s&&fW(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.Component);function CW(){return CW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CW.apply(this,arguments)}function TW(e){return TW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TW(e)}function _W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_W(Object(n),!0).forEach(function(t){RW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LW(r.key),r)}}function PW(e,t,n){return t=DW(t),function(e,t){if(t&&("object"===TW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,IW()?Reflect.construct(t,n||[],DW(e).constructor):t.apply(e,n))}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IW=function(){return!!e})()}function DW(e){return DW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DW(e)}function MW(e,t){return MW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MW(e,t)}function RW(e,t,n){return(t=LW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=function(e,t){if("object"!=TW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TW(t)?t:t+""}xW(kW,"displayName","ReferenceLine"),xW(kW,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var FW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PW(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,s=e.y1,a=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;MT(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=CT(n),d=CT(r),h=CT(s),f=CT(a),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var s=i.x1,a=i.x2,o=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=Mq({x:c.scale,y:u.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(o,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!JV(i,"discard")||d.isInRange(h)&&d.isInRange(f)?Iq(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=JV(this.props,"hidden")?"url(#".concat(c,")"):void 0;return i.createElement(I_,{className:dT("recharts-reference-area",o)},t.renderRect(p,AW(AW({clipPath:g},c_(this.props,!0)),m)),YV.renderCallByParent(this.props,m))}}])&&OW(n.prototype,r),s&&OW(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.Component);function BW(e){return function(e){if(Array.isArray(e))return UW(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return UW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}RW(FW,"displayName","ReferenceArea"),RW(FW,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),RW(FW,"renderRect",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):LT()(e)?e(t):i.createElement(FI,CW({},t,{className:"recharts-reference-area-rect"}))});var VW=function(e,t,n,r,i){var s=i_(e,kW),a=i_(e,Gq),o=[].concat(BW(s),BW(a)),l=i_(e,FW),c="".concat(r,"Id"),u=r[0],d=t;if(o.length&&(d=o.reduce(function(e,t){if(t.props[c]===n&&JV(t.props,"extendDomain")&&kT(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&JV(t.props,"extendDomain")&&kT(t.props[h])&&kT(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return kT(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},zW=n(7283),qW=new(n.n(zW)()),WW="recharts.syncMouseEvents";function HW(e){return HW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HW(e)}function KW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QW(r.key),r)}}function GW(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=function(e,t){if("object"!=HW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HW(t)?t:t+""}var YW=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GW(this,"activeIndex",0),GW(this,"coordinateList",[]),GW(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,s=void 0===i?null:i,a=e.layout,o=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,s=n.height,a=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+o,u=i+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&KW(e.prototype,t),n&&KW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function XW(){}function JW(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $W(e){this._context=e}function ZW(e){this._context=e}function eH(e){this._context=e}$W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:JW(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:JW(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ZW.prototype={areaStart:XW,areaEnd:XW,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:JW(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},eH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:JW(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class tH{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function nH(e){this._context=e}function rH(e){this._context=e}function iH(e){return new rH(e)}function sH(e){return e<0?-1:1}function aH(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(sH(s)+sH(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function oH(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function lH(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function cH(e){this._context=e}function uH(e){this._context=new dH(e)}function dH(e){this._context=e}function hH(e){this._context=e}function fH(e){var t,n,r=e.length-1,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function pH(e,t){this._context=e,this._t=t}function mH(e){return e[0]}function gH(e){return e[1]}function yH(e,t){var n=KA(!0),r=null,i=iH,s=null,a=pO(o);function o(o){var l,c,u,d=(o=OB(o)).length,h=!1;for(null==r&&(s=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(u)return s=null,u+""||null}return e="function"===typeof e?e:void 0===e?mH:KA(e),t="function"===typeof t?t:void 0===t?gH:KA(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:KA(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:KA(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:KA(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(s=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=s=null:s=i(r=e),o):r},o}function vH(e,t,n){var r=null,i=KA(!0),s=null,a=iH,o=null,l=pO(c);function c(c){var u,d,h,f,p,m=(c=OB(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==s&&(o=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),o.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return o=null,p+""||null}function u(){return yH().defined(i).curve(a).context(s)}return e="function"===typeof e?e:void 0===e?mH:KA(+e),t="function"===typeof t?t:KA(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?gH:KA(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:KA(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:KA(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:KA(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:KA(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:KA(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:KA(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:KA(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=s&&(o=a(s)),c):a},c.context=function(e){return arguments.length?(null==e?s=o=null:o=a(s=e),c):s},c}function bH(e){return bH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bH(e)}function xH(){return xH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xH.apply(this,arguments)}function wH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wH(Object(n),!0).forEach(function(t){SH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}nH.prototype={areaStart:XW,areaEnd:XW,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},rH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},cH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lH(this,this._t0,oH(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lH(this,oH(this,n=aH(this,e,t)),n);break;default:lH(this,this._t0,n=aH(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(uH.prototype=Object.create(cH.prototype)).point=function(e,t){cH.prototype.point.call(this,t,e)},dH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}},hH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=fH(e),i=fH(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},pH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var NH={curveBasisClosed:function(e){return new ZW(e)},curveBasisOpen:function(e){return new eH(e)},curveBasis:function(e){return new $W(e)},curveBumpX:function(e){return new tH(e,!0)},curveBumpY:function(e){return new tH(e,!1)},curveLinearClosed:function(e){return new nH(e)},curveLinear:iH,curveMonotoneX:function(e){return new cH(e)},curveMonotoneY:function(e){return new uH(e)},curveNatural:function(e){return new hH(e)},curveStep:function(e){return new pH(e,.5)},curveStepAfter:function(e){return new pH(e,1)},curveStepBefore:function(e){return new pH(e,0)}},EH=function(e){return e.x===+e.x&&e.y===+e.y},kH=function(e){return e.x},CH=function(e){return e.y},TH=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,s=void 0===i?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(LT()(e))return e;var n="curve".concat(SA()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?NH[n]||iH:NH["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),d=c?s.filter(function(e){return EH(e)}):s;if(Array.isArray(a)){var h=c?a.filter(function(e){return EH(e)}):a,f=d.map(function(e,t){return jH(jH({},e),{},{base:h[t]})});return t="vertical"===o?vH().y(CH).x1(kH).x0(function(e){return e.base.x}):vH().x(kH).y1(CH).y0(function(e){return e.base.y}),t.defined(EH).curve(u),t(f)}return(t="vertical"===o&&kT(a)?vH().y(CH).x1(kH).x0(a):kT(a)?vH().x(kH).y1(CH).y0(a):yH().x(kH).y(CH)).defined(EH).curve(u),t(d)},_H=function(e){var t=e.className,n=e.points,r=e.path,s=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?TH(e):r;return i.createElement("path",xH({},c_(e,!1),GT(e),{className:dT("recharts-curve",t),d:a,ref:s}))};function AH(e){return AH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AH(e)}var OH=["x","y","top","left","width","height","className"];function PH(){return PH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PH.apply(this,arguments)}function IH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=AH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var RH=function(e,t,n,r,i,s){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n)},LH=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,s=void 0===r?0:r,a=e.top,o=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IH(Object(n),!0).forEach(function(t){DH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:s,top:o,left:c,width:d,height:f},MH(e,OH));return kT(n)&&kT(s)&&kT(d)&&kT(f)&&kT(o)&&kT(c)?i.createElement("path",PH({},c_(m,!0),{className:dT("recharts-cross",p),d:RH(n,s,d,f,o,c)})):null};function FH(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,s=e.endAngle;return{points:[MV(t,n,r,i),MV(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function BH(e,t,n){var r,i,s,a;if("horizontal"===e)s=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return FH(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=MV(o,l,c,d),f=MV(o,l,u,d);r=h.x,i=h.y,s=f.x,a=f.y}return[{x:r,y:i},{x:s,y:a}]}function UH(e){return UH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UH(e)}function VH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VH(Object(n),!0).forEach(function(t){qH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WH(e){var t,n,r,s=e.element,a=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=s.props.cursor)&&void 0!==t?t:null===(n=s.type.defaultProps)||void 0===n?void 0:n.cursor;if(!s||!m||!o||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=_H;if("ScatterChart"===p)r=l,g=LH;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=FI;else if("radial"===f){var y=FH(l),v=y.cx,b=y.cy,x=y.radius;r={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=Bz}else r={points:BH(f,l,u)},g=_H;var w=zH(zH(zH(zH({stroke:"#ccc",pointerEvents:"none"},u),r),c_(m,!1)),{},{payload:c,payloadIndex:d,className:dT("recharts-tooltip-cursor",m.className)});return(0,i.isValidElement)(m)?(0,i.cloneElement)(m,w):(0,i.createElement)(g,w)}var HH=["item"],KH=["children","className","width","height","style","compact","title","desc"];function GH(e){return GH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GH(e)}function QH(){return QH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QH.apply(this,arguments)}function YH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||rK(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lK(r.key),r)}}function $H(e,t,n){return t=eK(t),function(e,t){if(t&&("object"===GH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZH()?Reflect.construct(t,n||[],eK(e).constructor):t.apply(e,n))}function ZH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZH=function(){return!!e})()}function eK(e){return eK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eK(e)}function tK(e,t){return tK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tK(e,t)}function nK(e){return function(e){if(Array.isArray(e))return iK(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rK(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rK(e,t){if(e){if("string"===typeof e)return iK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iK(e,t):void 0}}function iK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sK(Object(n),!0).forEach(function(t){oK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oK(e,t,n){return(t=lK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=function(e,t){if("object"!=GH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GH(t)?t:t+""}var cK={xAxis:["bottom","top"],yAxis:["left","right"]},uK={width:"100%",height:"100%"},dK={x:0,y:0};function hK(e){return e}var fK=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,s=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(nK(e),nK(n)):e},[]);return s.length>0?s:e&&e.length&&kT(r)&&kT(i)?e.slice(r,i+1):[]};function pK(e){return"number"===e?[0,"auto"]:void 0}var mK=function(e,t,n,r){var i=e.graphicalItems,s=e.tooltipAxis,a=fK(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce(function(i,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=IT(void 0===u?a:u,s.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(nK(i),[uV(o,c)]):i},[])},gK=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var o=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(NT(u-c)!==NT(d-u)){var f=[];if(NT(d-u)===NT(o[1]-o[0])){h=d;var p=u+o[1]-o[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+o[1]-o[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){s=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){s=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){s=n[b].index;break}return s}(s,a,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,d=mK(e,t,c,u),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var s=i.coordinate,a=r.radius;return aK(aK(aK({},r),MV(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,l=r.angle;return aK(aK(aK({},r),MV(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return dK}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},yK=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,s=t.axisIdKey,a=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=QU(c,i);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?aK(aK({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,j=p[s];if(t[j])return t;var S,N,E,k=fK(e.data,{graphicalItems:r.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===j}),dataStartIndex:o,dataEndIndex:l}),C=k.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&kT(r)&&kT(i))return!0}return!1})(p.domain,y,m)&&(S=oV(p.domain,null,y),!h||"number"!==m&&"auto"===b||(E=WU(k,g,"category")));var T=pK(m);if(!S||0===S.length){var _,A=null!==(_=p.domain)&&void 0!==_?_:T;if(g){if(S=WU(k,g,m),"category"===m&&h){var O=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&O?(N=S,S=w_()(0,C)):v||(S=cV(A,S,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(nK(e),[t])},[]))}else if("category"===m)S=v?S.filter(function(e){return""!==e&&!ST()(e)}):cV(A,S,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ST()(t)?e:[].concat(nK(e),[t])},[]);else if("number"===m){var P=function(e,t,n,r,i){var s=t.map(function(t){return KU(e,t,n,i,r)}).filter(function(e){return!ST()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(k,r.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!i)}),g,i,c);P&&(S=P)}!h||"number"!==m&&"auto"===b||(E=WU(k,g,"category"))}else S=h?w_()(0,C):a&&a[j]&&a[j].hasStack&&"number"===m?"expand"===d?[0,1]:iV(a[j].stackGroups,o,l):GU(k,r.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),m,c,!0);if("number"===m)S=VW(u,S,j,i,x),A&&(S=oV(A,S,y));else if("category"===m&&A){var I=A;S.every(function(e){return I.indexOf(e)>=0})&&(S=I)}}return aK(aK({},t),{},oK({},j,aK(aK({},p),{},{axisType:i,domain:S,categoricalDomain:E,duplicateDomain:N,originalDomain:null!==(f=p.domain)&&void 0!==f?f:T,isCategorical:h,layout:c})))},{})},vK=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,s=t.graphicalItems,a=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=i_(c,i),h={};return d&&d.length?h=yK(e,{axes:d,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:o,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,s=t.axisIdKey,a=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=fK(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),h=d.length,f=QU(c,i),p=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?aK(aK({},t.type.defaultProps),t.props):t.props)[s],y=pK("number");return e[g]?e:(p++,f?m=w_()(0,h):a&&a[g]&&a[g].hasStack?(m=iV(a[g].stackGroups,o,l),m=VW(u,m,g,i)):(m=oV(y,GU(d,n.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i}),"number",c),r.defaultProps.allowDataOverflow),m=VW(u,m,g,i)),aK(aK({},e),{},oK({},g,aK(aK({axisType:i},r.defaultProps),{},{hide:!0,orientation:bT()(cK,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:i,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:o,dataEndIndex:l})),h},bK=function(e){var t=e.children,n=e.defaultShowTooltip,r=s_(t,TV),i=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},xK=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wK=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,s=e.yAxisMap,a=void 0===s?{}:s,o=n.width,l=n.height,c=n.children,u=n.margin||{},d=s_(c,TV),h=s_(c,XO),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:aK(aK({},e),{},oK({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:aK(aK({},e),{},oK({},r,bT()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=aK(aK({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||TV.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,s=n.width,a=n.margin,o=s-(a.left||0)-(a.right||0),l=RU({children:i,legendWidth:o});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&kT(e[h]))return VU(VU({},e),{},zU({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&kT(e[f]))return VU(VU({},e),{},zU({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=o-m.left-m.right,v=l-m.top-m.bottom;return aK(aK({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},jK=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},SK=["type","layout","connectNulls","ref"],NK=["key"];function EK(e){return EK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EK(e)}function kK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CK(){return CK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CK.apply(this,arguments)}function TK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TK(Object(n),!0).forEach(function(t){LK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AK(e){return function(e){if(Array.isArray(e))return OK(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return OK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OK(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FK(r.key),r)}}function IK(e,t,n){return t=MK(t),function(e,t){if(t&&("object"===EK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DK()?Reflect.construct(t,n||[],MK(e).constructor):t.apply(e,n))}function DK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(DK=function(){return!!e})()}function MK(e){return MK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MK(e)}function RK(e,t){return RK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RK(e,t)}function LK(e,t,n){return(t=FK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FK(e){var t=function(e,t){if("object"!=EK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EK(t)?t:t+""}var BK=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return LK(e=IK(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),LK(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),LK(e,"getStrokeDasharray",function(n,r,i){var s=i.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/s),o=n%s,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>o){c=[].concat(AK(i.slice(0,u)),[o-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(AK(t.repeat(i,a)),AK(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),LK(e,"id",_T("recharts-line-")),LK(e,"pathRef",function(t){e.mainCurve=t}),LK(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),LK(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RK(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(bQ){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,s=n.xAxis,a=n.yAxis,o=n.layout,l=i_(n.children,OU);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:qU(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(I_,u,l.map(function(e){return i.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:s,yAxis:a,layout:o,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.dot,o=s.points,l=s.dataKey,c=c_(this.props,!1),u=c_(a,!0),d=o.map(function(e,n){var r=_K(_K(_K({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:o});return t.renderDotItem(a,r)}),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(I_,CK({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var s=this.props,a=s.type,o=s.layout,l=s.connectNulls,c=(s.ref,kK(s,SK)),u=_K(_K(_K({},c_(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:o,connectNulls:l});return i.createElement(_H,CK({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,s=r.points,a=r.strokeDasharray,o=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,u=r.animationEasing,d=r.animationId,h=r.animateNewValues,f=r.width,p=r.height,m=this.state,g=m.prevPoints,y=m.totalLength;return i.createElement(CI,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var i=r.t;if(g){var o=g.length/s.length,l=s.map(function(e,t){var n=Math.floor(t*o);if(g[n]){var r=g[n],s=PT(r.x,e.x),a=PT(r.y,e.y);return _K(_K({},e),{},{x:s(i),y:a(i)})}if(h){var l=PT(2*f,e.x),c=PT(p/2,e.y);return _K(_K({},e),{},{x:l(i),y:c(i)})}return _K(_K({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=PT(0,y)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(s,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,s=this.state,a=s.prevPoints,o=s.totalLength;return i&&r&&r.length&&(!a&&o>0||!zB()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,s=t.points,a=t.className,o=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!s||!s.length)return null;var m=this.state.isAnimationFinished,g=1===s.length,y=dT("recharts-line",a),v=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=ST()(p)?this.id:p,j=null!==(e=c_(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=j.r,N=void 0===S?3:S,E=j.strokeWidth,k=void 0===E?2:E,C=(function(e){return e&&"object"===$T(e)&&"clipDot"in e}(r)?r:{}).clipDot,T=void 0===C||C,_=2*N+k;return i.createElement(I_,{className:y},v||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(w)},i.createElement("rect",{x:v?u:u-d/2,y:b?c:c-h/2,width:v?d:2*d,height:b?h:2*h})),!T&&i.createElement("clipPath",{id:"clipPath-dots-".concat(w)},i.createElement("rect",{x:u-_/2,y:c-_/2,width:d+_,height:h+_}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||r)&&this.renderDots(x,T,w),(!f||m)&&gz.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(AK(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(AK(r),AK(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(LT()(e))n=e(t);else{var r=t.key,s=kK(t,NK),a=dT("recharts-line-dot","boolean"!==typeof e?e.className:"");n=i.createElement($O,CK({key:r},s,{className:a}))}return n}}],r&&PK(n.prototype,r),s&&PK(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.PureComponent);function UK(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function VK(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,s=Math.atan(n/t),a=i>s&&i<Math.PI-s?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function zK(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function qK(e){return qK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qK(e)}function WK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WK(Object(n),!0).forEach(function(t){KK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KK(e,t,n){return t=function(e){var t=function(e,t){if("object"!=qK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qK(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e,t,n){var r=e.tick,i=e.ticks,s=e.viewBox,a=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(kT(l)||aA.isSsr)return function(e,t){return UK(e,t+1)}(i,"number"===typeof l&&kT(l)?l:0);var h=[],f="top"===o||"bottom"===o?"width":"height",p=u&&"width"===f?iD(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=LT()(c)?c(e.value,r):e.value;return"width"===f?VK(iD(i,{fontSize:t,letterSpacing:n}),p,d):iD(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?NT(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,s=e.y,a=e.width,o=e.height;return 1===t?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}(s,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var s,a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:UK(r,u)};var s,a=c,h=function(){return void 0===s&&(s=n(t,a)),s},f=t.coordinate,p=0===c||zK(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(s=h())return s.v;return[]}(g,y,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end;if(s){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);a[o-1]=u=HK(HK({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),zK(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),a[o-1]=HK(HK({},u),{},{isShow:!0}))}for(var f=s?o-1:o,p=function(t){var r,s=a[t],o=function(){return void 0===r&&(r=n(s,t)),r};if(0===t){var u=e*(s.coordinate-e*o()/2-l);a[t]=s=HK(HK({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else a[t]=s=HK(HK({},s),{},{tickCoord:s.coordinate});zK(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+i),a[t]=HK(HK({},s),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=t.start,l=t.end,c=function(t){var r,c=s[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);s[t]=c=HK(HK({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else s[t]=c=HK(HK({},c),{},{tickCoord:c.coordinate});zK(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),s[t]=HK(HK({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}(g,y,m,i,a),h.filter(function(e){return e.isShow}))}LK(BK,"displayName","Line"),LK(BK,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!aA.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),LK(BK,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,a=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=qU(e,a);return"horizontal"===u?{x:nV({axis:n,ticks:i,bandSize:o,entry:e,index:t}),y:ST()(l)?null:r.scale(l),value:l,payload:e}:{x:ST()(l)?null:n.scale(l),y:nV({axis:r,ticks:s,bandSize:o,entry:e,index:t}),value:l,payload:e}});return _K({points:d,layout:u},c)});var QK=["viewBox"],YK=["viewBox"],XK=["ticks"];function JK(e){return JK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JK(e)}function $K(){return $K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$K.apply(this,arguments)}function ZK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZK(Object(n),!0).forEach(function(t){oG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lG(r.key),r)}}function rG(e,t,n){return t=sG(t),function(e,t){if(t&&("object"===JK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iG()?Reflect.construct(t,n||[],sG(e).constructor):t.apply(e,n))}function iG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iG=function(){return!!e})()}function sG(e){return sG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sG(e)}function aG(e,t){return aG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aG(e,t)}function oG(e,t,n){return(t=lG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=function(e,t){if("object"!=JK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JK(t)?t:t+""}var cG=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=rG(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aG(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=tG(e,QK),i=this.props,s=i.viewBox,a=tG(i,YK);return!VT(n,s)||!VT(r,a)||!VT(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,s,a,o=this.props,l=o.x,c=o.y,u=o.width,d=o.height,h=o.orientation,f=o.tickSize,p=o.mirror,m=o.tickMargin,g=p?-1:1,y=e.tickSize||f,v=kT(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*y)-g*m,s=v;break;case"left":r=i=e.coordinate,s=(t=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,s=(t=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*y)+g*m,s=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:s,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,s=e.height,a=e.orientation,o=e.mirror,l=e.axisLine,c=eG(eG(eG({},c_(this.props,!1)),c_(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!o||"bottom"===a&&o);c=eG(eG({},c),{},{x1:t,y1:n+u*s,x2:t+r,y2:n+u*s})}else{var d=+("left"===a&&!o||"right"===a&&o);c=eG(eG({},c),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+s})}return i.createElement("line",$K({},c,{className:dT("recharts-cartesian-axis-line",bT()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var s=this,a=this.props,o=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,h=GK(eG(eG({},this.props),{},{ticks:e}),n,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=c_(this.props,!1),g=c_(c,!1),y=eG(eG({},m),{},{fill:"none"},c_(o,!1)),v=h.map(function(e,n){var r=s.getTickLineCoord(e),a=r.line,v=r.tick,b=eG(eG(eG(eG({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return i.createElement(I_,$K({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},QT(s.props,e,n)),o&&i.createElement("line",$K({},y,a,{className:dT("recharts-cartesian-axis-tick-line",bT()(o,"className"))})),c&&t.renderTickItem(c,b,"".concat(LT()(u)?u(e.value,n):e.value).concat(d||"")))});return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,s=t.height,a=t.ticksGenerator,o=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=tG(l,XK),d=c;return LT()(a)&&(d=c&&c.length>0?a(this.props):a(u)),r<=0||s<=0||!d||!d.length?null:i.createElement(I_,{className:dT("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),YV.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,t,n){var r=dT(t.className,"recharts-cartesian-axis-tick-value");return i.isValidElement(e)?i.cloneElement(e,eG(eG({},t),{},{className:r})):LT()(e)?e(eG(eG({},t),{},{className:r})):i.createElement(ID,$K({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&nG(n.prototype,r),s&&nG(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.Component);function uG(e){return uG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uG(e)}function dG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yG(r.key),r)}}function hG(e,t,n){return t=pG(t),function(e,t){if(t&&("object"===uG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fG()?Reflect.construct(t,n||[],pG(e).constructor):t.apply(e,n))}function fG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fG=function(){return!!e})()}function pG(e){return pG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pG(e)}function mG(e,t){return mG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mG(e,t)}function gG(e,t,n){return(t=yG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yG(e){var t=function(e,t){if("object"!=uG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uG(t)?t:t+""}function vG(){return vG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vG.apply(this,arguments)}function bG(e){var t=e.xAxisId,n=uW(),r=dW(),s=lW(t);return null==s?null:i.createElement(cG,vG({},s,{className:dT("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return XU(e,!0)}}))}oG(cG,"displayName","CartesianAxis"),oG(cG,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hG(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mG(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(bG,this.props)}}])&&dG(n.prototype,r),s&&dG(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.Component);function wG(e){return wG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wG(e)}function jG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TG(r.key),r)}}function SG(e,t,n){return t=EG(t),function(e,t){if(t&&("object"===wG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NG()?Reflect.construct(t,n||[],EG(e).constructor):t.apply(e,n))}function NG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NG=function(){return!!e})()}function EG(e){return EG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EG(e)}function kG(e,t){return kG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kG(e,t)}function CG(e,t,n){return(t=TG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TG(e){var t=function(e,t){if("object"!=wG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wG(t)?t:t+""}function _G(){return _G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_G.apply(this,arguments)}gG(xG,"displayName","XAxis"),gG(xG,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var AG=function(e){var t=e.yAxisId,n=uW(),r=dW(),s=cW(t);return null==s?null:i.createElement(cG,_G({},s,{className:dT("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return XU(e,!0)}}))},OG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SG(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kG(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(AG,this.props)}}])&&jG(n.prototype,r),s&&jG(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(i.Component);CG(OG,"displayName","YAxis"),CG(OG,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var PG=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,s=void 0===r?"axis":r,a=e.validateTooltipEventTypes,o=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,s=t.updateId,a=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=xK(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=e_(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var b=fK(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:o}),x=void 0!==n.type.defaultProps?aK(aK({},n.type.defaultProps),n.props):n.props,w=x.dataKey,j=x.maxBarSize,S=x["".concat(m,"Id")],N=x["".concat(g,"Id")],E=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||E_(!1);var s=r[i];return aK(aK({},e),{},oK(oK({},n.axisType,s),"".concat(n.axisType,"Ticks"),XU(s)))},{}),k=E[g],C=E["".concat(g,"Ticks")],T=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?VU(VU({},e.type.defaultProps),e.props):e.props).stackId;if(CT(r)){var i=t[r];if(i){var s=i.items.indexOf(e);return s>=0?i.stackedData[s]:null}}return null}(n,r[S].stackGroups),_=e_(n.type).indexOf("Bar")>=0,A=lV(k,C),O=[],P=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var s={},a=Object.keys(i),o=0,l=a.length;o<l;o++)for(var c=i[a[o]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return e_(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?VU(VU({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];s[x]||(s[x]=[]);var w=ST()(b)?t:b;s[x].push({item:g[0],stackList:g.slice(1),barSize:ST()(w)?void 0:AT(w,n,0)})}}return s}({barSize:c,stackGroups:r,totalSize:jK(E,g)});if(_){var I,D,M=ST()(j)?f:j,R=null!==(I=null!==(D=lV(k,C,!0))&&void 0!==D?D:M)&&void 0!==I?I:0;O=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,s=void 0===i?[]:i,a=e.maxBarSize,o=s.length;if(o<1)return null;var l,c=AT(t,r,0,!0),u=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=r/o,f=s.reduce(function(e,t){return e+t.barSize||0},0);(f+=(o-1)*c)>=r&&(f-=(o-1)*c,c=0),f>=r&&h>0&&(d=!0,f=o*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=s.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(FU(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=AT(n,r,0,!0);r-2*m-(o-1)*c<=0&&(c=0);var g=(r-2*m-(o-1)*c)/o;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=s.reduce(function(e,t,n){var r=[].concat(FU(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==A?R:A,sizeList:P[N],maxBarSize:M}),R!==A&&(O=O.map(function(e){return aK(aK({},e),{},{position:aK(aK({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,B=n&&n.type&&n.type.getComposedData;B&&v.push({props:aK(aK({},B(aK(aK({},E),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:A,barPosition:O,offset:i,stackedData:T,layout:u,dataStartIndex:a,dataEndIndex:o}))),{},oK(oK(oK({key:n.key||"item-".concat(p)},m,E[m]),g,E[g]),"animationId",s)),childIndex:(L=n,F=e.children,r_(F).indexOf(L)),item:n})}),v},f=function(e,r){var i=e.props,s=e.dataStartIndex,a=e.dataEndIndex,o=e.updateId;if(!a_({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=xK(d),y=g.numericAxisName,v=g.cateAxisName,b=i_(c,n),x=function(e,t,n,r,i,s){if(!e)return null;var a=(s?t.reverse():t).reduce(function(e,t){var i,s=null!==(i=t.type)&&void 0!==i&&i.defaultProps?VU(VU({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(s.hide)return e;var o=s[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(CT(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[_T("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return VU(VU({},e),{},zU({},o,l))},{});return Object.keys(a).reduce(function(t,s){var o=a[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,s){var a=o.stackGroups[s];return VU(VU({},t),{},zU({},s,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:tV(e,a.items,i)}))},{})),VU(VU({},t),{},zU({},s,o))},{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return aK(aK({},e),{},oK({},n,vK(i,aK(aK({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:s,dataEndIndex:a}))))},{}),j=wK(aK(aK({},w),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(i,w[e],j,e.replace("Map",""),t)});var S=function(e){var t=OT(e),n=XU(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:S_()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:lV(t,n)}}(w["".concat(v,"Map")]),N=h(i,aK(aK({},w),{},{dataStartIndex:s,dataEndIndex:a,updateId:o,graphicalItems:b,stackGroups:x,offset:j}));return aK(aK({formattedGraphicalItems:N,graphicalItems:b,offset:j,stackGroups:x},S),w)},p=function(e){function n(e){var r,s,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),oK(a=$H(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oK(a,"accessibilityManager",new YW),oK(a,"handleLegendBBoxUpdate",function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(aK({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},aK(aK({},a.state),{},{legendBBox:e}))))}}),oK(a,"handleReceiveSyncEvent",function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}}),oK(a,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState(function(){return aK({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))}),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),oK(a,"handleMouseEnter",function(e){var t=a.getMouseInfo(e);if(t){var n=aK(aK({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;LT()(r)&&r(n,e)}}),oK(a,"triggeredAfterMouseMove",function(e){var t=a.getMouseInfo(e),n=t?aK(aK({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;LT()(r)&&r(n,e)}),oK(a,"handleItemMouseEnter",function(e){a.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),oK(a,"handleItemMouseLeave",function(){a.setState(function(){return{isTooltipActive:!1}})}),oK(a,"handleMouseMove",function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)}),oK(a,"handleMouseLeave",function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;LT()(n)&&n(t,e)}),oK(a,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&ZT[t]?ZT[t]:null}(e),r=bT()(a.props,"".concat(n));n&&LT()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)}),oK(a,"handleClick",function(e){var t=a.getMouseInfo(e);if(t){var n=aK(aK({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;LT()(r)&&r(n,e)}}),oK(a,"handleMouseDown",function(e){var t=a.props.onMouseDown;LT()(t)&&t(a.getMouseInfo(e),e)}),oK(a,"handleMouseUp",function(e){var t=a.props.onMouseUp;LT()(t)&&t(a.getMouseInfo(e),e)}),oK(a,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),oK(a,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])}),oK(a,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])}),oK(a,"handleDoubleClick",function(e){var t=a.props.onDoubleClick;LT()(t)&&t(a.getMouseInfo(e),e)}),oK(a,"handleContextMenu",function(e){var t=a.props.onContextMenu;LT()(t)&&t(a.getMouseInfo(e),e)}),oK(a,"triggerSyncEvent",function(e){void 0!==a.props.syncId&&qW.emit(WW,a.props.syncId,e,a.eventEmitterSymbol)}),oK(a,"applySyncEvent",function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(aK({dataStartIndex:s,dataEndIndex:o},f({props:a.props,dataStartIndex:s,dataEndIndex:o,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=aK(aK({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,x=mK(a.state,a.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:dK;a.setState(aK(aK({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else a.setState(e)}),oK(a,"renderCursor",function(e){var n,r=a.state,s=r.isTooltipActive,o=r.activeCoordinate,l=r.activePayload,c=r.offset,u=r.activeTooltipIndex,d=r.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:s,p=a.props.layout,m=e.key||"_recharts-cursor";return i.createElement(WH,{key:m,activeCoordinate:o,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),oK(a,"renderPolarAxis",function(e,t,n){var r=bT()(e,"type.axisType"),s=bT()(a.state,"".concat(r,"Map")),o=e.type.defaultProps,l=void 0!==o?aK(aK({},o),e.props):e.props,c=s&&s[l["".concat(r,"Id")]];return(0,i.cloneElement)(e,aK(aK({},c),{},{className:dT(r,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:XU(c,!0)}))}),oK(a,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,s=t.polarRadius,o=a.state,l=o.radiusAxisMap,c=o.angleAxisMap,u=OT(l),d=OT(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(r)?r:XU(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:XU(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),oK(a,"renderLegend",function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,s=t.height,o=a.props.margin||{},l=r-(o.left||0)-(o.right||0),u=RU({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=XH(u,HH);return(0,i.cloneElement)(d,aK(aK({},h),{},{chartWidth:r,chartHeight:s,margin:o,onBBoxUpdate:a.handleLegendBBoxUpdate}))}),oK(a,"renderTooltip",function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,s=s_(n,wA);if(!s)return null;var o=a.state,l=o.isTooltipActive,c=o.activeCoordinate,u=o.activePayload,d=o.activeLabel,h=o.offset,f=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,i.cloneElement)(s,{viewBox:aK(aK({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:r})}),oK(a,"renderBrush",function(e){var t=a.props,n=t.margin,r=t.data,s=a.state,o=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,u=s.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:$U(a.handleBrushChange,e.props.onChange),data:r,x:kT(e.props.x)?e.props.x:o.left,y:kT(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(n.bottom||0),width:kT(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),oK(a,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=a.clipPathId,s=a.state,o=s.xAxisMap,l=s.yAxisMap,c=s.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:o[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})}),oK(a,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,i=e.basePoint,s=e.childIndex,a=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?aK(aK({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=aK(aK({index:s,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:HU(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},c_(u,!1)),GT(u));return o.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(s))),i?o.push(n.renderActiveDot(u,aK(aK({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(s))):a&&o.push(null),o}),oK(a,"renderGraphicChild",function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var s=a.getTooltipEventType(),o=a.state,l=o.isTooltipActive,c=o.tooltipAxis,u=o.activeTooltipIndex,d=o.activeLabel,h=s_(a.props.children,wA),f=r.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==r.item.type.defaultProps?aK(aK({},r.item.type.defaultProps),r.item.props):r.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,j=Boolean(!b&&l&&h&&(v||x||w)),S={};"axis"!==s&&h&&"click"===h.props.trigger?S={onClick:$U(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(S={onMouseLeave:$U(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:$U(a.handleItemMouseEnter,e.props.onMouseEnter)});var N=(0,i.cloneElement)(e,aK(aK({},r.props),S));if(j){if(!(u>=0)){var E,k=(null!==(E=a.getItemByXY(a.state.activeCoordinate))&&void 0!==E?E:{graphicalItem:N}).graphicalItem,C=k.item,T=void 0===C?e:C,_=k.childIndex,A=aK(aK(aK({},r.props),S),{},{activeIndex:_});return[(0,i.cloneElement)(T,A),null,null]}var O,P;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());O=IT(p,I,d),P=m&&g&&IT(g,I,d)}else O=null===p||void 0===p?void 0:p[u],P=m&&g&&g[u];if(w||x){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,i.cloneElement)(e,aK(aK(aK({},r.props),S),{},{activeIndex:D})),null,null]}if(!ST()(O))return[N].concat(nK(a.renderActivePoints({item:r,activePoint:O,basePoint:P,childIndex:u,isRange:m})))}return m?[N,null,null]:[N,null]}),oK(a,"renderCustomized",function(e,t,n){return(0,i.cloneElement)(e,aK(aK({key:"recharts-customized-".concat(n)},a.props),a.state))}),oK(a,"renderMap",{CartesianGrid:{handler:hK,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:hK},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:hK},YAxis:{handler:hK},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:_T("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=fT()(a.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tK(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,s=s_(t,wA);if(s){var a=s.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=mK(this.state,n,a,o),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=aK(aK({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(s),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){u_([s_(e.children,wA)],[s_(this.props.children,wA)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=s_(this.props.children,wA);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,a);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=gK(this.state,this.props.data,this.props.layout,o);if("axis"!==d&&c&&u){var f=OT(c).scale,p=OT(u).scale,m=f&&f.invert?f.invert(s.chartX):null,g=p&&p.invert?p.invert(s.chartY):null;return aK(aK({},s),{},{xValue:m,yValue:g},h)}return h?aK(aK({},s),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,s=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&s>=a.top&&s<=a.top+a.height?{x:i,y:s}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=OT(l);return FV({x:i,y:s},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=s_(e,wA),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),aK(aK({},GT(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){qW.on(WW,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qW.removeListener(WW,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,s=r.length;i<s;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===e_(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,s=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:s,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=YH(t,2),r=n[0],i=n[1];return aK(aK({},e),{},oK({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=YH(t,2),r=n[0],i=n[1];return aK(aK({},e),{},oK({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,s=n.length;i<s;i++){var a=n[i],o=a.props,l=a.item,c=void 0!==l.type.defaultProps?aK(aK({},l.type.defaultProps),l.props):l.props,u=e_(l.type);if("Bar"===u){var d=(o.data||[]).find(function(t){return RI(e,t)});if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(o.data||[]).find(function(t){return FV(e,t)});if(h)return{graphicalItem:a,payload:h}}else if(Yz(a,r)||Xz(a,r)||Jz(a,r)){var f=tq({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:aK(aK({},a),{},{childIndex:p}),payload:Jz(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!a_(this))return null;var t,n,r=this.props,s=r.children,a=r.className,o=r.width,l=r.height,c=r.style,u=r.compact,d=r.title,h=r.desc,f=XH(r,KH),p=c_(f,!1);if(u)return i.createElement(oW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement(__,QH({},p,{width:o,height:l,title:d,desc:h}),this.renderClipPath(),h_(s,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(oW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",QH({className:dT("recharts-wrapper",a),style:aK({position:"relative",cursor:"default",width:o,height:l},c)},m,{ref:function(t){e.container=t}}),i.createElement(__,QH({},p,{width:o,height:l,title:d,desc:h,style:uK}),this.renderClipPath(),h_(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&JH(r.prototype,a),l&&JH(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,l}(i.Component);oK(p,"displayName",t),oK(p,"defaultProps",aK({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),oK(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,s=e.width,a=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=bK(e);return aK(aK(aK({},h),{},{updateId:0},f(aK(aK({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:a,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||s!==t.prevWidth||a!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!VT(c,t.prevMargin)){var p=bK(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=aK(aK({},gK(t,r,o)),{},{updateId:t.updateId+1}),y=aK(aK(aK({},p),m),g);return aK(aK(aK({},y),f(aK({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:a,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!u_(i,t.prevChildren)){var v,b,x,w,j=s_(i,TV),S=j&&null!==(v=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,N=j&&null!==(x=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,E=S!==u||N!==d,k=!ST()(r)&&!E?t.updateId:t.updateId+1;return aK(aK({updateId:k},f(aK(aK({props:e},t),{},{updateId:k,dataStartIndex:S,dataEndIndex:N}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:N})}return null}),oK(p,"renderActiveDot",function(e,t,n){var r;return r=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):LT()(e)?e(t):i.createElement($O,t),i.createElement(I_,{className:"recharts-active-dot",key:n},r)});var m=(0,i.forwardRef)(function(e,t){return i.createElement(p,QH({},e,{ref:t}))});return m.displayName=p.displayName,m}({chartName:"LineChart",GraphicalChild:BK,axisComponents:[{axisType:"xAxis",AxisComp:xG},{axisType:"yAxis",AxisComp:OG}],formatAxisMap:function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!s_(c,kq);return u.reduce(function(a,o){var c,u,f,p,m,g=n[o],y=g.orientation,v=g.domain,b=g.padding,x=void 0===b?{}:b,w=g.mirror,j=g.reversed,S="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var N=v[1]-v[0],E=1/0,k=g.categoricalDomain.sort(DT);if(k.forEach(function(e,t){t>0&&(E=Math.min((e||0)-(k[t-1]||0),E))}),Number.isFinite(E)){var C=E/N,T="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=C*T/2),"no-gap"===g.padding){var _=AT(e.barCategoryGap,C*T),A=C*T/2;c=A-_-(A-_)/T*_}}}u="xAxis"===i?[r.left+(x.left||0)+(c||0),r.left+r.width-(x.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(c||0),r.top+r.height-(x.bottom||0)-(c||0)]:g.range,j&&(u=[u[1],u[0]]);var O=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===o?{scale:QI(),realScaleType:"band"}:"radial"===a&&"angleAxis"===o?{scale:vR(),realScaleType:"linear"}:"category"===s&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:XI(),realScaleType:"point"}:"category"===s?{scale:QI(),realScaleType:"band"}:{scale:vR(),realScaleType:"linear"};if(mT()(i)){var l="scale".concat(SA()(i));return{scale:(t[l]||XI)(),realScaleType:t[l]?l:"point"}}return LT()(i)?{scale:i}:{scale:XI(),realScaleType:"point"}}(g,s,h),P=O.scale,I=O.realScaleType;P.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ZU,s=Math.max(r[0],r[1])+ZU,a=e(t[0]),o=e(t[n-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[n-1]])}}(P);var D=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,s=t.originalDomain,a=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(i&&"number"===r&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=gU(l,i,a);return e.domain([FB()(c),RB()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:yU(u,i,a)}}return null}(P,Aq(Aq({},g),{},{realScaleType:I}));"xAxis"===i?(m="top"===y&&!w||"bottom"===y&&w,f=r.left,p=d[S]-m*g.height):"yAxis"===i&&(m="left"===y&&!w||"right"===y&&w,f=d[S]-m*g.width,p=r.top);var M=Aq(Aq(Aq({},g),D),{},{realScaleType:I,x:f,y:p,scale:P,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return M.bandSize=lV(M,D),g.hide||"xAxis"!==i?g.hide||(d[S]+=(m?-1:1)*M.width):d[S]+=(m?-1:1)*M.height,Aq(Aq({},a),{},Oq({},o,M))},{})}}),IG=["x1","y1","x2","y2","key"],DG=["offset"];function MG(e){return MG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MG(e)}function RG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RG(Object(n),!0).forEach(function(t){FG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FG(e,t,n){return t=function(e){var t=function(e,t){if("object"!=MG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MG(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BG(){return BG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BG.apply(this,arguments)}function UG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var VG=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return i.createElement("rect",{x:r,y:s,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zG(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(LT()(e))n=e(t);else{var r=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=UG(t,IG),u=c_(c,!1),d=(u.offset,UG(u,DG));n=i.createElement("line",BG({},d,{x1:r,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function qG(e){var t=e.x,n=e.width,r=e.horizontal,s=void 0===r||r,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(r,i){var a=LG(LG({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return zG(s,a)});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function WG(e){var t=e.y,n=e.height,r=e.vertical,s=void 0===r||r,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(r,i){var a=LG(LG({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return zG(s,a)});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function HG(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?s+o-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function KG(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==d[0]&&d.unshift(0);var h=d.map(function(e,t){var n=!d[t+1]?a+l-e:d[t+1]-e;if(n<=0)return null;var u=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:n,height:c,stroke:"none",fill:r[u],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var GG=function(e,t){var n=e.xAxis,r=e.width,i=e.height,s=e.offset;return YU(GK(LG(LG(LG({},cG.defaultProps),n),{},{ticks:XU(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},QG=function(e,t){var n=e.yAxis,r=e.width,i=e.height,s=e.offset;return YU(GK(LG(LG(LG({},cG.defaultProps),n),{},{ticks:XU(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},YG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function XG(e){var t,n,r,s,a,o,l=uW(),c=dW(),u=(0,i.useContext)(rW),d=LG(LG({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:YG.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:YG.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:YG.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:YG.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:YG.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:YG.verticalFill,x:kT(e.x)?e.x:u.left,y:kT(e.y)?e.y:u.top,width:kT(e.width)?e.width:u.width,height:kT(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,i.useContext)(eW);return OT(e)}(),x=function(){var e=(0,i.useContext)(tW);return Jq()(e,function(e){return tz()(e.domain,Number.isFinite)})||OT(e)}();if(!kT(p)||p<=0||!kT(m)||m<=0||!kT(h)||h!==+h||!kT(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||GG,j=d.horizontalCoordinatesGenerator||QG,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&LT()(j)){var E=y&&y.length,k=j({yAxis:x?LG(LG({},x),{},{ticks:E?y:x.ticks}):void 0,width:l,height:c,offset:u},!!E||g);MT(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(MG(k),"]")),Array.isArray(k)&&(S=k)}if((!N||!N.length)&&LT()(w)){var C=v&&v.length,T=w({xAxis:b?LG(LG({},b),{},{ticks:C?v:b.ticks}):void 0,width:l,height:c,offset:u},!!C||g);MT(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(MG(T),"]")),Array.isArray(T)&&(N=T)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(VG,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),i.createElement(qG,BG({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:x})),i.createElement(WG,BG({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:x})),i.createElement(HG,BG({},d,{horizontalPoints:S})),i.createElement(KG,BG({},d,{verticalPoints:N})))}XG.displayName="CartesianGrid";const JG=function(e){let{size:t=120,stroke:n=10,value:r=0,color:i="#0d6efd",label:s=""}=e;const a=(t-n)/2,o=2*Math.PI*a,l=o-r/100*o;return(0,Fe.jsxs)("div",{className:"d-inline-flex flex-column align-items-center",children:[(0,Fe.jsxs)("svg",{width:t,height:t,children:[(0,Fe.jsx)("circle",{stroke:"#e9ecef",fill:"transparent",strokeWidth:n,r:a,cx:t/2,cy:t/2}),(0,Fe.jsx)(TN.circle,{stroke:i,fill:"transparent",strokeWidth:n,strokeLinecap:"round",r:a,cx:t/2,cy:t/2,initial:{strokeDasharray:o,strokeDashoffset:o},animate:{strokeDasharray:o,strokeDashoffset:l},transition:{duration:1,ease:"easeOut"}}),(0,Fe.jsxs)("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fw-semibold",style:{fontSize:16},children:[Math.round(r),"%"]})]}),s?(0,Fe.jsx)("div",{className:"small text-muted mt-1",children:s}):null]})};const $G=function(e){let{userRole:t,onSendDrillAnnouncement:n,onSendEmergencyAlert:r}=e;const[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);return(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-primary"}),"Real-time Communication"]}),(0,Fe.jsx)("p",{className:"text-muted small mb-3",children:"admin"===t?"Enable broadcast messaging to students, parents, and staff during incidents.":"Send drill announcements to your classes and students."}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Drill Announcement"}),(0,Fe.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter drill announcement message...",value:s,onChange:e=>a(e.target.value),disabled:c}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[s.length,"/500 characters"]}),(0,Fe.jsx)("button",{className:"btn btn-warning btn-sm",onClick:async()=>{if(s.trim()){u(!0);try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",t=await fetch("".concat(e,"/drill-announcements"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Drill Announcement",message:s,drillType:"fire",priority:"normal",targetClasses:["all"],teacherName:"Admin",institution:"BML Munjal University"})});(await t.json()).success&&(a(""),alert("Drill announcement sent successfully!"))}catch(e){console.error("Error sending drill announcement:",e),alert("Error sending drill announcement")}finally{u(!1)}}},disabled:!s.trim()||c,children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1",role:"status"}),"Sending..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-bell me-1"}),"Send Drill Announcement"]})})]})]}),"admin"===t&&(0,Fe.jsxs)("div",{className:"border-top pt-3",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold text-danger",children:"Emergency Alert"}),(0,Fe.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter emergency alert message...",value:o,onChange:e=>l(e.target.value),disabled:c}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[o.length,"/500 characters"]}),(0,Fe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:async()=>{if(o.trim()){u(!0);try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",t=await fetch("".concat(e,"/emergency-alerts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Emergency Alert",message:o,severity:"high",region:"All Regions",affectedAreas:["All Areas"]})});(await t.json()).success&&(l(""),alert("Emergency alert sent successfully!"))}catch(e){console.error("Error sending emergency alert:",e),alert("Error sending emergency alert")}finally{u(!1)}}},disabled:!o.trim()||c,children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1",role:"status"}),"Sending..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-1"}),"Send Emergency Alert"]})})]})]})]})})};const ZG=function(e){let{onSaveAlert:t,onCancel:n}=e;const[r,s]=(0,i.useState)({title:"",description:"",alertType:"earthquake",severity:"medium",region:"",coordinates:{lat:"",lng:""},affectedAreas:[],validFrom:"",validUntil:"",isActive:!0,priority:"normal"}),[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),u=[{value:"earthquake",label:"Earthquake",icon:"\ud83c\udf0d",color:"danger"},{value:"flood",label:"Flood",icon:"\ud83c\udf0a",color:"info"},{value:"fire",label:"Fire",icon:"\ud83d\udd25",color:"danger"},{value:"cyclone",label:"Cyclone",icon:"\ud83c\udf00",color:"warning"},{value:"landslide",label:"Landslide",icon:"\u26f0\ufe0f",color:"warning"},{value:"tsunami",label:"Tsunami",icon:"\ud83c\udf0a",color:"danger"},{value:"drought",label:"Drought",icon:"\u2600\ufe0f",color:"warning"},{value:"general",label:"General Alert",icon:"\ud83d\udce2",color:"secondary"}],d=[{value:"low",label:"Low",color:"success",description:"Minor risk, monitor situation"},{value:"medium",label:"Medium",color:"warning",description:"Moderate risk, take precautions"},{value:"high",label:"High",color:"danger",description:"Significant risk, immediate action required"},{value:"critical",label:"Critical",color:"dark",description:"Extreme risk, evacuate immediately"}],h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;if(t.includes(".")){const[e,r]=t.split(".");s(t=>ot(ot({},t),{},{[e]:ot(ot({},t[e]),{},{[r]:n})}))}else s(e=>ot(ot({},e),{},{[t]:"checkbox"===r?i:n}));a[t]&&o(e=>ot(ot({},e),{},{[t]:""}))},f=u.find(e=>e.value===r.alertType),p=d.find(e=>e.value===r.severity);return(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-danger"}),"Create New Alert"]}),(0,Fe.jsx)("p",{className:"text-muted small mb-4",children:"Create and configure disaster alerts for your region. All alerts will be sent to students, teachers, and staff in real-time."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return r.title.trim()||(e.title="Alert title is required"),r.description.trim()||(e.description="Alert description is required"),r.region||(e.region="Region is required"),r.validFrom||(e.validFrom="Valid from date is required"),r.validUntil||(e.validUntil="Valid until date is required"),r.validFrom&&r.validUntil&&new Date(r.validFrom)>=new Date(r.validUntil)&&(e.validUntil="Valid until must be after valid from date"),o(e),0===Object.keys(e).length})()){c(!0);try{const e=ot(ot({},r),{},{createdAt:(new Date).toISOString(),createdBy:"admin",status:"active"});await VC.createAlert(e);s({title:"",description:"",alertType:"earthquake",severity:"medium",region:"",coordinates:{lat:"",lng:""},affectedAreas:[],validFrom:"",validUntil:"",isActive:!0,priority:"normal"}),alert("Alert created successfully! It will be visible to all users in the alerts section.")}catch(t){console.error("Error saving alert:",t),alert("Error creating alert: "+t.message)}finally{c(!1)}}},children:[(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Type *"}),(0,Fe.jsx)("select",{className:"form-select ".concat(a.alertType?"is-invalid":""),name:"alertType",value:r.alertType,onChange:h,disabled:l,children:u.map(e=>(0,Fe.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))}),a.alertType&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.alertType})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Severity Level *"}),(0,Fe.jsx)("select",{className:"form-select ".concat(a.severity?"is-invalid":""),name:"severity",value:r.severity,onChange:h,disabled:l,children:d.map(e=>(0,Fe.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))}),a.severity&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.severity})]})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Title *"}),(0,Fe.jsx)("input",{type:"text",className:"form-control ".concat(a.title?"is-invalid":""),name:"title",value:r.title,onChange:h,placeholder:"e.g., Landslide Risk, Flood Warning, Earthquake Alert",maxLength:100,disabled:l}),a.title&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.title}),(0,Fe.jsxs)("small",{className:"text-muted",children:[r.title.length,"/100 characters"]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Description *"}),(0,Fe.jsx)("textarea",{className:"form-control ".concat(a.description?"is-invalid":""),rows:"3",name:"description",value:r.description,onChange:h,placeholder:"Provide detailed information about the alert, affected areas, and recommended actions...",maxLength:500,disabled:l}),a.description&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.description}),(0,Fe.jsxs)("small",{className:"text-muted",children:[r.description.length,"/500 characters"]})]})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Region *"}),(0,Fe.jsxs)("select",{className:"form-select ".concat(a.region?"is-invalid":""),name:"region",value:r.region,onChange:h,disabled:l,children:[(0,Fe.jsx)("option",{value:"",children:"Select Region"}),["Himachal Pradesh","Assam","Bihar","Uttarakhand","Kerala","Tamil Nadu","Gujarat","Maharashtra","West Bengal","Odisha","Andhra Pradesh","Karnataka","Rajasthan","Punjab","Haryana","Delhi","Uttar Pradesh","Madhya Pradesh","Jharkhand","Chhattisgarh"].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),a.region&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.region})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Coordinates (Optional)"}),(0,Fe.jsxs)("div",{className:"row g-2",children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("input",{type:"number",className:"form-control",name:"coordinates.lat",value:r.coordinates.lat,onChange:h,placeholder:"Latitude",step:"any",disabled:l})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("input",{type:"number",className:"form-control",name:"coordinates.lng",value:r.coordinates.lng,onChange:h,placeholder:"Longitude",step:"any",disabled:l})})]})]})]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Affected Areas"}),(0,Fe.jsxs)("div",{className:"d-flex gap-2 mb-2",children:[(0,Fe.jsx)("input",{type:"text",id:"affectedAreaInput",className:"form-control",placeholder:"Enter affected area (e.g., School Zone A, Building B)",disabled:l}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{const e=document.getElementById("affectedAreaInput").value.trim();e&&!r.affectedAreas.includes(e)&&(s(t=>ot(ot({},t),{},{affectedAreas:[...t.affectedAreas,e]})),document.getElementById("affectedAreaInput").value="")},disabled:l,children:(0,Fe.jsx)("i",{className:"bi bi-plus"})})]}),r.affectedAreas.length>0&&(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-1",children:r.affectedAreas.map((e,t)=>(0,Fe.jsxs)("span",{className:"badge bg-primary d-flex align-items-center gap-1",children:[e,(0,Fe.jsx)("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.7rem"},onClick:()=>(e=>{s(t=>ot(ot({},t),{},{affectedAreas:t.affectedAreas.filter(t=>t!==e)}))})(e),disabled:l})]},t))})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Valid From *"}),(0,Fe.jsx)("input",{type:"datetime-local",className:"form-control ".concat(a.validFrom?"is-invalid":""),name:"validFrom",value:r.validFrom,onChange:h,disabled:l}),a.validFrom&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.validFrom})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Valid Until *"}),(0,Fe.jsx)("input",{type:"datetime-local",className:"form-control ".concat(a.validUntil?"is-invalid":""),name:"validUntil",value:r.validUntil,onChange:h,disabled:l}),a.validUntil&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.validUntil})]})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Preview"}),(0,Fe.jsx)("div",{className:"card border",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-".concat((null===f||void 0===f?void 0:f.color)||"secondary","-subtle rounded-circle d-flex align-items-center justify-content-center"),style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:(null===f||void 0===f?void 0:f.icon)||"\ud83d\udce2"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-1",children:[(0,Fe.jsx)("h6",{className:"mb-0 fw-semibold",children:r.title||"Alert Title"}),(0,Fe.jsx)("span",{className:"badge bg-".concat((null===p||void 0===p?void 0:p.color)||"secondary"),children:(null===p||void 0===p?void 0:p.label)||"Medium"})]}),(0,Fe.jsx)("div",{className:"text-muted small mb-1",children:r.validFrom?new Date(r.validFrom).toLocaleString():"Date and time"}),(0,Fe.jsx)("div",{className:"text-muted small",children:r.description||"Alert description will appear here..."})]})]})})})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:n,disabled:l,children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-danger",disabled:l,children:l?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating Alert..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-2"}),"Create Alert"]})})]})]})]})})},eQ=e=>{const t=(new Date).getMonth(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=[];for(let l=5;l>=0;l--){const e=(t-l+12)%12;r.push(n[e])}const i=e.totalStudents||1,s=e.totalModulesCompleted||0,a=e.totalDrillsCompleted||0,o=(e.averagePreparedness,Math.min(Math.round(s/i*100),100));Math.min(Math.round(a/i*100),100);return r.map((e,t)=>{const n=(t+1)/6;return{month:e,completion:Math.min(Math.round(o*n),100)}})};const tQ=function(){const[e,t]=(0,i.useState)({line:getComputedStyle(document.documentElement).getPropertyValue("--chart-line").trim()||"#0d6efd",grid:getComputedStyle(document.documentElement).getPropertyValue("--chart-grid").trim()||"#e9ecef"}),[n,r]=(0,i.useState)({totalStudents:0,totalModulesCompleted:0,totalDrillsCompleted:0,averagePreparedness:0}),[s,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=()=>{const e=getComputedStyle(document.documentElement);t({line:e.getPropertyValue("--chart-line").trim(),grid:e.getPropertyValue("--chart-grid").trim()})};return window.addEventListener("themechange",e),()=>window.removeEventListener("themechange",e)},[]),(0,i.useEffect)(()=>{o()},[]);const o=async()=>{try{a(!0);const e=await PC.getPlatformStatistics();r(e)}catch(e){console.error("Failed to load platform statistics:",e)}finally{a(!1)}};return(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"alert alert-info d-flex align-items-center gap-2 py-2",role:"status","aria-live":"polite",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle","aria-hidden":"true"}),(0,Fe.jsx)("div",{className:"small",children:"Institute dashboard: track preparedness, drills, modules, and compliance. Configure alerts for your region."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-xl-8",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-graph-up text-success"}),"Preparedness Completion Over Time"]}),(0,Fe.jsx)("div",{style:{height:300},children:s?(0,Fe.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("div",{className:"text-muted mt-2",children:"Loading chart data..."})]})}):(0,Fe.jsx)(b_,{width:"100%",height:"100%",children:(0,Fe.jsxs)(PG,{data:eQ(n),children:[(0,Fe.jsx)(BK,{type:"monotone",dataKey:"completion",stroke:e.line||"#0d6efd",strokeWidth:3}),(0,Fe.jsx)(XG,{stroke:e.grid||"#e9ecef",strokeDasharray:"5 5"}),(0,Fe.jsx)(xG,{dataKey:"month"}),(0,Fe.jsx)(OG,{domain:[0,100],tickFormatter:e=>"".concat(e,"%")}),(0,Fe.jsx)(wA,{formatter:e=>"".concat(e,"%")})]})})})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-xl-4",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 text-primary"}),"Snapshot"]}),(0,Fe.jsx)("div",{className:"d-flex justify-content-around py-2",children:s?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("div",{className:"small text-muted mt-2",children:"Loading..."})]}),(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm text-success",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("div",{className:"small text-muted mt-2",children:"Loading..."})]}),(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm text-warning",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("div",{className:"small text-muted mt-2",children:"Loading..."})]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(JG,{value:n.averagePreparedness||0,label:"Preparedness",color:"#0d6efd"}),(0,Fe.jsx)(JG,{value:n.totalStudents>0?Math.min(Math.round(n.totalModulesCompleted/n.totalStudents*100),100):0,label:"Module Avg",color:"#198754"}),(0,Fe.jsx)(JG,{value:n.totalStudents>0?Math.min(Math.round(n.totalDrillsCompleted/n.totalStudents*100),100):0,label:"Drill Rate",color:"#ffc107"})]})})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)(ZG,{onSaveAlert:async e=>{console.log("Saving alert:",e);const t=new CustomEvent("emergencyAlert",{detail:{type:"emergency_alert",title:e.title,message:e.description,severity:e.severity,alertType:e.alertType,region:e.region,createdAt:e.createdAt}});window.dispatchEvent(t)},onCancel:()=>console.log("Alert creation cancelled")})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)($G,{userRole:"admin",onSendDrillAnnouncement:async e=>{console.log("Sending drill announcement:",e)},onSendEmergencyAlert:async e=>{console.log("Sending emergency alert:",e)}})})]})};const nQ=function(e){let{onSendDrillAnnouncement:t}=e;const[n,r]=(0,i.useState)({title:"",message:"",targetClasses:[],priority:"normal",scheduledFor:"",drillType:"fire"}),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),d=[{id:"class1",name:"B.Sc CS - II",studentCount:45},{id:"class2",name:"B.Com - I",studentCount:38},{id:"class3",name:"B.A. - III",studentCount:42},{id:"class4",name:"M.Sc Physics",studentCount:28}],h=e=>{const{name:t,value:n}=e.target;r(e=>ot(ot({},e),{},{[t]:n})),l(""),u("")},f=n.targetClasses.length,p=n.targetClasses.reduce((e,t)=>{const n=d.find(e=>e.id===t);return e+(n?n.studentCount:0)},0);return(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-primary"}),"Send Drill Announcement"]}),(0,Fe.jsx)("p",{className:"text-muted small mb-4",children:"Send drill announcements to your classes and students. They will receive real-time notifications."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.title.trim()&&n.message.trim())if(0!==n.targetClasses.length){a(!0),u(""),l("");try{var i,s,o;const e=ot(ot({},n),{},{teacherId:null===(i=_g())||void 0===i?void 0:i.uid,teacherName:null===(s=_g())||void 0===s?void 0:s.name,institution:null===(o=_g())||void 0===o?void 0:o.institution,createdAt:(new Date).toISOString(),status:"sent"});await t(e),l("Drill announcement sent successfully!"),r({title:"",message:"",targetClasses:[],priority:"normal",scheduledFor:"",drillType:"fire"})}catch(c){u(c.message||"Failed to send drill announcement")}finally{a(!1)}}else u("Please select at least one class");else u("Please fill in both title and message")},children:[(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Announcement Title *"}),(0,Fe.jsx)("input",{type:"text",className:"form-control",name:"title",value:n.title,onChange:h,placeholder:"e.g., Fire Safety Drill - Building A",maxLength:100,disabled:s,required:!0}),(0,Fe.jsxs)("small",{className:"text-muted",children:[n.title.length,"/100 characters"]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Message *"}),(0,Fe.jsx)("textarea",{className:"form-control",rows:"4",name:"message",value:n.message,onChange:h,placeholder:"Enter your drill announcement message...",maxLength:500,disabled:s,required:!0}),(0,Fe.jsxs)("small",{className:"text-muted",children:[n.message.length,"/500 characters"]})]})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Drill Type"}),(0,Fe.jsx)("select",{className:"form-select",name:"drillType",value:n.drillType,onChange:h,disabled:s,children:[{value:"fire",label:"Fire Safety Drill",icon:"\ud83d\udd25"},{value:"earthquake",label:"Earthquake Drill",icon:"\ud83c\udf0d"},{value:"flood",label:"Flood Safety Drill",icon:"\ud83c\udf0a"},{value:"evacuation",label:"General Evacuation",icon:"\ud83d\udea8"}].map(e=>(0,Fe.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Priority"}),(0,Fe.jsx)("select",{className:"form-select",name:"priority",value:n.priority,onChange:h,disabled:s,children:[{value:"low",label:"Low Priority",color:"success"},{value:"normal",label:"Normal Priority",color:"warning"},{value:"high",label:"High Priority",color:"danger"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold mb-0",children:"Target Classes *"}),(0,Fe.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{r(e=>ot(ot({},e),{},{targetClasses:d.map(e=>e.id)}))},disabled:s,children:"Select All"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{r(e=>ot(ot({},e),{},{targetClasses:[]}))},disabled:s,children:"Clear All"})]})]}),(0,Fe.jsx)("div",{className:"row g-2",children:d.map(e=>(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"form-check",children:[(0,Fe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"class-".concat(e.id),checked:n.targetClasses.includes(e.id),onChange:()=>{return t=e.id,void r(e=>ot(ot({},e),{},{targetClasses:e.targetClasses.includes(t)?e.targetClasses.filter(e=>e!==t):[...e.targetClasses,t]}));var t},disabled:s}),(0,Fe.jsx)("label",{className:"form-check-label",htmlFor:"class-".concat(e.id),children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsx)("span",{className:"fw-medium",children:e.name}),(0,Fe.jsxs)("small",{className:"text-muted",children:[e.studentCount," students"]})]})})]})},e.id))}),f>0&&(0,Fe.jsx)("div",{className:"mt-2 p-2 bg-light rounded",children:(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-1"}),"Selected ",f," class(es) with ",p," total students"]})})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Schedule for Later (Optional)"}),(0,Fe.jsx)("input",{type:"datetime-local",className:"form-control",name:"scheduledFor",value:n.scheduledFor,onChange:h,disabled:s}),(0,Fe.jsx)("small",{className:"text-muted",children:"Leave empty to send immediately"})]}),o&&(0,Fe.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-2"}),o,(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&(0,Fe.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),c,(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>r({title:"",message:"",targetClasses:[],priority:"normal",scheduledFor:"",drillType:"fire"}),disabled:s,children:"Reset"}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-warning",disabled:s||!n.title.trim()||!n.message.trim()||0===n.targetClasses.length,children:s?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Sending..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-bell me-2"}),"Send Drill Announcement"]})})]})]})]})})};const rQ=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",this.token=localStorage.getItem("token")}setToken(e){this.token=e,localStorage.setItem("token",e)}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=ot({headers:ot({"Content-Type":"application/json"},this.token&&{Authorization:"Bearer ".concat(this.token)})},t);try{const e=await fetch(n,r),t=await e.json();if(!e.ok)throw new Error(t.message||"Something went wrong");return t}catch(i){throw console.error("Drill Announcement API Error:",i),i}}async sendDrillAnnouncement(e){try{const t=await this.request("/drill-announcements",{method:"POST",body:JSON.stringify(e)});return this.simulateRealTimeNotification(t.data),t}catch(t){throw new Error("Failed to send drill announcement: "+t.message)}}async getTeacherAnnouncements(e){try{return(await this.request("/drill-announcements?teacherId=".concat(e))).data.announcements}catch(t){throw new Error("Failed to fetch announcements: "+t.message)}}async getStudentAnnouncements(e){try{return(await this.request("/drill-announcements")).data.announcements}catch(t){throw new Error("Failed to fetch announcements: "+t.message)}}simulateRealTimeNotification(e){const t=new CustomEvent("drillAnnouncement",{detail:{type:"drill_announcement",title:e.title,message:e.message,drillType:e.drillType,priority:e.priority,teacherName:e.teacherName,sentAt:e.sentAt}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("Drill Announcement: ".concat(e.title),{body:e.message,icon:"/favicon.ico",tag:"drill-announcement"})}async requestNotificationPermission(){if("Notification"in window){return"granted"===await Notification.requestPermission()}return!1}async getAnnouncementStats(e){try{const t=JSON.parse(localStorage.getItem("drillAnnouncements")||"[]").filter(t=>t.teacherId===e),n={total:t.length,thisWeek:t.filter(e=>{const t=new Date;return t.setDate(t.getDate()-7),new Date(e.sentAt)>t}).length,byType:{},byPriority:{}};return t.forEach(e=>{n.byType[e.drillType]=(n.byType[e.drillType]||0)+1,n.byPriority[e.priority]=(n.byPriority[e.priority]||0)+1}),n}catch(t){throw new Error("Failed to fetch announcement stats: "+t.message)}}};const iQ=function(e){let{onClose:t,onSuccess:n}=e;const[r,s]=(0,i.useState)({title:"",description:"",dueDate:"",estimatedTime:"25 minutes",targetClasses:[],videoFile:null,pdfFile:null}),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)({video:0,pdf:0}),[u,d]=(0,i.useState)({}),h=_g(),f=e=>{const{name:t,value:n}=e.target;s(e=>ot(ot({},e),{},{[t]:n})),u[t]&&d(e=>ot(ot({},e),{},{[t]:""}))},p=(e,t)=>{const n=e.target.files[0];if(n){const e="video"===t?52428800:10485760;if(n.size>e)return void d(e=>ot(ot({},e),{},{[t]:"File size must be less than ".concat("video"===t?"50MB":"10MB")}));if(!("video"===t?["video/mp4","video/avi","video/mov","video/wmv"]:["application/pdf"]).includes(n.type))return void d(e=>ot(ot({},e),{},{[t]:"Please select a valid ".concat("video"===t?"video":"PDF"," file")}));s(e=>ot(ot({},e),{},{["video"===t?"videoFile":"pdfFile"]:n})),d(e=>ot(ot({},e),{},{[t]:""}))}},m=async(e,t)=>{const n=new FormData;n.append("file",e),n.append("type",t);const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",i=await fetch("".concat(r,"/upload"),{method:"POST",body:n});if(!i.ok)throw new Error("Failed to upload ".concat(t));return i.json()},g=async e=>{if(e.preventDefault(),(()=>{const e={};return r.title.trim()||(e.title="Title is required"),r.description.trim()||(e.description="Description is required"),r.dueDate||(e.dueDate="Due date is required"),0===r.targetClasses.length&&(e.targetClasses="Please select at least one class"),r.videoFile||r.pdfFile||(e.files="Please upload at least one file (video or PDF)"),d(e),0===Object.keys(e).length})()){o(!0),c({video:0,pdf:0});try{const e={title:r.title,description:r.description,dueDate:r.dueDate,estimatedTime:r.estimatedTime,targetClasses:r.targetClasses,teacherName:(null===h||void 0===h?void 0:h.name)||"Teacher",teacherId:null===h||void 0===h?void 0:h.uid,institution:(null===h||void 0===h?void 0:h.institution)||"BML Munjal University",files:{video:null,pdf:null}};if(r.videoFile){c(e=>ot(ot({},e),{},{video:50}));const t=await m(r.videoFile,"video");e.files.video={filename:t.filename,originalName:r.videoFile.name,url:t.url,size:r.videoFile.size,type:r.videoFile.type},c(e=>ot(ot({},e),{},{video:100}))}if(r.pdfFile){c(e=>ot(ot({},e),{},{pdf:50}));const t=await m(r.pdfFile,"pdf");e.files.pdf={filename:t.filename,originalName:r.pdfFile.name,url:t.url,size:r.pdfFile.size,type:r.pdfFile.type},c(e=>ot(ot({},e),{},{pdf:100}))}await _C.assignModule(e),n("Module assigned successfully with files!"),t()}catch(i){console.error("Error assigning module:",i),alert("Error assigning module: "+i.message)}finally{o(!1)}}},y=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-plus me-2"}),"Assign Module with Files"]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:t})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsx)("form",{onSubmit:g,children:(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Module Title *"}),(0,Fe.jsx)("input",{type:"text",className:"form-control ".concat(u.title?"is-invalid":""),name:"title",value:r.title,onChange:f,placeholder:"Enter module title"}),u.title&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:u.title})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Description *"}),(0,Fe.jsx)("textarea",{className:"form-control ".concat(u.description?"is-invalid":""),name:"description",value:r.description,onChange:f,rows:"3",placeholder:"Enter module description"}),u.description&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:u.description})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Due Date *"}),(0,Fe.jsx)("input",{type:"date",className:"form-control ".concat(u.dueDate?"is-invalid":""),name:"dueDate",value:r.dueDate,onChange:f,min:(new Date).toISOString().split("T")[0]}),u.dueDate&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:u.dueDate})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Estimated Time"}),(0,Fe.jsxs)("select",{className:"form-select",name:"estimatedTime",value:r.estimatedTime,onChange:f,children:[(0,Fe.jsx)("option",{value:"15 minutes",children:"15 minutes"}),(0,Fe.jsx)("option",{value:"25 minutes",children:"25 minutes"}),(0,Fe.jsx)("option",{value:"30 minutes",children:"30 minutes"}),(0,Fe.jsx)("option",{value:"45 minutes",children:"45 minutes"}),(0,Fe.jsx)("option",{value:"1 hour",children:"1 hour"}),(0,Fe.jsx)("option",{value:"1.5 hours",children:"1.5 hours"}),(0,Fe.jsx)("option",{value:"2 hours",children:"2 hours"})]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Target Classes *"}),(0,Fe.jsx)("div",{className:"row g-2",children:["B.Sc CS - II","B.Com - I","B.A. - III"].map(e=>(0,Fe.jsx)("div",{className:"col-md-4",children:(0,Fe.jsxs)("div",{className:"form-check",children:[(0,Fe.jsx)("input",{className:"form-check-input",type:"checkbox",id:e,checked:r.targetClasses.includes(e),onChange:()=>(e=>{s(t=>ot(ot({},t),{},{targetClasses:t.targetClasses.includes(e)?t.targetClasses.filter(t=>t!==e):[...t.targetClasses,e]}))})(e)}),(0,Fe.jsx)("label",{className:"form-check-label",htmlFor:e,children:e})]})},e))}),u.targetClasses&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.targetClasses})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Upload Files *"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded p-3",children:[(0,Fe.jsxs)("h6",{className:"text-primary",children:[(0,Fe.jsx)("i",{className:"bi bi-camera-video me-2"}),"Video File"]}),(0,Fe.jsx)("input",{type:"file",className:"form-control",accept:"video/*",onChange:e=>p(e,"video")}),r.videoFile&&(0,Fe.jsxs)("div",{className:"mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-file-earmark-play me-1"}),r.videoFile.name," (",y(r.videoFile.size),")"]}),l.video>0&&(0,Fe.jsx)("div",{className:"progress mt-1",style:{height:"4px"},children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat(l.video,"%")}})})]}),u.video&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.video})]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded p-3",children:[(0,Fe.jsxs)("h6",{className:"text-danger",children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf me-2"}),"PDF File"]}),(0,Fe.jsx)("input",{type:"file",className:"form-control",accept:".pdf",onChange:e=>p(e,"pdf")}),r.pdfFile&&(0,Fe.jsxs)("div",{className:"mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-file-earmark-pdf me-1"}),r.pdfFile.name," (",y(r.pdfFile.size),")"]}),l.pdf>0&&(0,Fe.jsx)("div",{className:"progress mt-1",style:{height:"4px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-danger",style:{width:"".concat(l.pdf,"%")}})})]}),u.pdf&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.pdf})]})})]}),u.files&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.files}),(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-1"}),"Upload at least one file. Video files (max 50MB), PDF files (max 10MB)."]})]})]})})}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:a,children:"Cancel"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-primary",onClick:g,disabled:a,children:a?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Assigning Module..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-send me-2"}),"Assign Module"]})})]})]})})})};const sQ=function(e){let{onClose:t,onAssignmentCreated:n}=e;const[r,s]=(0,i.useState)({title:"",description:"",classId:"",dueDate:"",instructions:"",pdfFile:null}),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),u=e=>{const{name:t,value:n}=e.target;s(e=>ot(ot({},e),{},{[t]:n}))};return(0,Fe.jsx)("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h5",{className:"modal-title",children:"Create Assignment"}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:t,disabled:a})]}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),c("");try{const e=ot(ot({},r),{},{teacherName:"Dr. Sarah Johnson"});console.log("Creating assignment with data:",e);const i=await AC.createAssignment(e);console.log("Assignment creation response:",i),c("Assignment created successfully!"),s({title:"",description:"",classId:"",dueDate:"",instructions:"",pdfFile:null}),n&&n(i.data),setTimeout(()=>{t()},1500)}catch(i){console.error("Assignment creation error:",i),i.message.includes("Unexpected token")||i.message.includes("<!DOCTYPE")?c("Error: Server is not responding properly. Please check if the backend server is running on port 5000."):c("Error: ".concat(i.message))}finally{o(!1)}},children:[(0,Fe.jsxs)("div",{className:"modal-body",children:[l&&(0,Fe.jsx)("div",{className:"alert ".concat(l.includes("Error")?"alert-danger":"alert-success"),children:l}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Assignment Title *"}),(0,Fe.jsx)("input",{type:"text",name:"title",value:r.title,onChange:u,className:"form-control",required:!0,placeholder:"e.g., Earthquake Safety Assignment"})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Description"}),(0,Fe.jsx)("textarea",{name:"description",value:r.description,onChange:u,className:"form-control",rows:"3",placeholder:"Brief description of the assignment..."})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Class *"}),(0,Fe.jsxs)("select",{name:"classId",value:r.classId,onChange:u,className:"form-select",required:!0,children:[(0,Fe.jsx)("option",{value:"",children:"Select Class"}),["B.Sc CS - I","B.Sc CS - II","B.Sc CS - III","B.Com - I","B.Com - II","B.Com - III","B.A - I","B.A - II","B.A - III","M.Sc CS - I","M.Sc CS - II","M.Com - I","M.Com - II"].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Due Date *"}),(0,Fe.jsx)("input",{type:"date",name:"dueDate",value:r.dueDate,onChange:u,className:"form-control",required:!0,min:(new Date).toISOString().split("T")[0]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Instructions"}),(0,Fe.jsx)("textarea",{name:"instructions",value:r.instructions,onChange:u,className:"form-control",rows:"4",placeholder:"Detailed instructions for students..."})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"PDF File (Optional)"}),(0,Fe.jsx)("input",{type:"file",name:"pdfFile",onChange:e=>{s(t=>ot(ot({},t),{},{pdfFile:e.target.files[0]}))},className:"form-control",accept:".pdf"}),(0,Fe.jsx)("div",{className:"form-text",children:"Upload a PDF file with additional materials or instructions"})]})]})]}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:a,children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating..."]}):"Create Assignment"})]})]})]})})})};const aQ=function(){const[e,t]=(0,i.useState)("overview"),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[b,x]=(0,i.useState)({platformStats:null,userStats:null,loading:!1}),[w,j]=(0,i.useState)({date:(new Date).toISOString().split("T")[0],time:"10:00",venue:"",drillType:"Fire Safety",description:""}),S=(()=>{if(!b.platformStats)return[{name:"B.Sc CS - II",completion:0,lastDrill:"No drills",participation:0},{name:"B.Com - I",completion:0,lastDrill:"No drills",participation:0},{name:"B.A. - III",completion:0,lastDrill:"No drills",participation:0}];const e=b.platformStats.totalStudents||0,t=b.platformStats.totalModulesCompleted||0,n=b.platformStats.totalDrillsCompleted||0;b.platformStats.averagePreparedness;return[{name:"B.Sc CS - II",completion:Math.min(Math.round(t/Math.max(e,1)*100),100),lastDrill:n>0?"Fire Evacuation":"No drills",participation:Math.min(Math.round(n/Math.max(e,1)*100),100)},{name:"B.Com - I",completion:Math.min(Math.round(t/Math.max(e,1)*.8*100),100),lastDrill:n>0?"Earthquake Drill":"No drills",participation:Math.min(Math.round(n/Math.max(e,1)*.9*100),100)},{name:"B.A. - III",completion:Math.min(Math.round(t/Math.max(e,1)*.7*100),100),lastDrill:n>0?"Flood Safety":"No drills",participation:Math.min(Math.round(n/Math.max(e,1)*.8*100),100)}]})(),N=_g();(0,i.useEffect)(()=>{"assignments"===e?E():"analytics"===e&&k()},[e]);const E=async()=>{try{g(!0);const e=await AC.getAllAssignments();p(e)}catch(e){console.error("Failed to load assignments:",e)}finally{g(!1)}},k=async()=>{try{x(e=>ot(ot({},e),{},{loading:!0}));const e=PC.getCurrentUserId(),[t,n]=await Promise.all([PC.getPlatformStatistics(),PC.getUserStatistics(e)]);x({platformStats:t,userStats:n,loading:!1})}catch(e){console.error("Failed to load analytics data:",e),x(e=>ot(ot({},e),{},{loading:!1}))}},C=()=>{h(!0)},T=e=>{const{name:t,value:n}=e.target;j(e=>ot(ot({},e),{},{[t]:n}))};return(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-xxl-8",children:(0,Fe.jsx)("div",{className:"card shadow-sm h-100",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2 mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-person-video3 text-success"}),"Teacher Dashboard"]}),(0,Fe.jsx)("div",{className:"d-flex gap-2",children:(0,Fe.jsxs)(Ie,{className:"btn btn-outline-primary btn-sm",to:"/learn","aria-label":"Assign a learning module to classes",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-plus me-1"}),"Assign module"]})})]}),(0,Fe.jsxs)("ul",{className:"nav nav-pills small mb-3",children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("overview"===e?"active":""),onClick:()=>t("overview"),children:"Overview"})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("assignments"===e?"active":""),onClick:()=>t("assignments"),children:"Assignments"})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("communication"===e?"active":""),onClick:()=>t("communication"),children:"Send Announcement"})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("analytics"===e?"active":""),onClick:()=>t("analytics"),children:"Analytics"})})]}),o&&(0,Fe.jsxs)("div",{className:"alert alert-success alert-dismissible fade show mb-3",role:"alert",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-2"}),o,(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),"overview"===e&&(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Recommended next module"}),(0,Fe.jsx)("div",{className:"text-muted small mb-2",children:"Flood preparedness \u2022 Estimated 25 min"}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:()=>{u(!0)},"aria-label":"Assign recommended module to selected classes",children:[(0,Fe.jsx)("i",{className:"bi bi-send me-1"}),"Assign to classes"]})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-3",children:"Confirm Drill Slot"}),y?(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(!0),l("");try{const e={title:"".concat(w.drillType," Drill - ").concat(w.venue),description:w.description||"Emergency ".concat(w.drillType.toLowerCase()," drill for all students and staff."),scheduledDate:w.date,scheduledTime:w.time,location:w.venue,drillType:w.drillType,targetClasses:["B.Sc CS - II","B.Com - I","B.A. - III"],teacherName:(null===N||void 0===N?void 0:N.name)||"Teacher",teacherId:null===N||void 0===N?void 0:N.uid,institution:(null===N||void 0===N?void 0:N.institution)||"BML Munjal University"};await _C.confirmDrill(e),l("Drill confirmed successfully! Students will be notified."),v(!1),j({date:"",time:"",venue:"",drillType:"Fire Safety",description:""}),setTimeout(()=>l(""),3e3)}catch(t){console.error("Error confirming drill:",t),alert("Error confirming drill: "+t.message)}finally{a(!1)}},children:[(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label small fw-semibold",children:"Drill Type"}),(0,Fe.jsxs)("select",{name:"drillType",value:w.drillType,onChange:T,className:"form-select form-select-sm",required:!0,children:[(0,Fe.jsx)("option",{value:"Fire Safety",children:"Fire Safety"}),(0,Fe.jsx)("option",{value:"Earthquake",children:"Earthquake"}),(0,Fe.jsx)("option",{value:"Flood",children:"Flood"}),(0,Fe.jsx)("option",{value:"Cyclone",children:"Cyclone"}),(0,Fe.jsx)("option",{value:"Landslide",children:"Landslide"})]})]}),(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("label",{className:"form-label small fw-semibold",children:"Date"}),(0,Fe.jsx)("input",{type:"date",name:"date",value:w.date,onChange:T,className:"form-control form-control-sm",required:!0})]}),(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("label",{className:"form-label small fw-semibold",children:"Time"}),(0,Fe.jsx)("input",{type:"time",name:"time",value:w.time,onChange:T,className:"form-control form-control-sm",required:!0})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label small fw-semibold",children:"Venue"}),(0,Fe.jsx)("input",{type:"text",name:"venue",value:w.venue,onChange:T,placeholder:"e.g., Building A, Main Hall, Playground",className:"form-control form-control-sm",required:!0})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label small fw-semibold",children:"Description (Optional)"}),(0,Fe.jsx)("textarea",{name:"description",value:w.description,onChange:T,placeholder:"Brief description of the drill...",className:"form-control form-control-sm",rows:"2"})]})]}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsx)("button",{type:"submit",className:"btn btn-success btn-sm",disabled:s,children:s?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1",role:"status"}),"Confirming..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-calendar-check me-1"}),"Confirm Drill"]})}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>v(!1),disabled:s,children:"Cancel"})]})]}):(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-muted small mb-3",children:"Schedule a new drill for your classes"}),(0,Fe.jsxs)("button",{className:"btn btn-success btn-sm",type:"button",onClick:async()=>{v(!0)},"aria-label":"Open drill confirmation form",children:[(0,Fe.jsx)("i",{className:"bi bi-calendar-plus me-1"}),"Schedule Drill"]})]})]})})]}),"assignments"===e&&(0,Fe.jsxs)("div",{className:"border rounded-3 p-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Assignments"}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:C,"aria-label":"Create a new assignment",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-lg me-1"}),"Create assignment"]})]}),m?(0,Fe.jsxs)("div",{className:"text-center py-4",children:[(0,Fe.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("p",{className:"text-muted mt-2",children:"Loading assignments..."})]}):0===f.length?(0,Fe.jsxs)("div",{className:"text-center py-4 text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard-x fs-1"}),(0,Fe.jsx)("p",{className:"mt-2",children:"No assignments created yet"}),(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:C,children:"Create your first assignment"})]}):(0,Fe.jsx)("div",{className:"table-responsive",children:(0,Fe.jsxs)("table",{className:"table table-sm align-middle",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Title"}),(0,Fe.jsx)("th",{children:"Class"}),(0,Fe.jsx)("th",{children:"Due Date"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{className:"text-end",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:f.map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-medium",children:e.title}),e.description&&(0,Fe.jsx)("small",{className:"text-muted",children:e.description})]})}),(0,Fe.jsx)("td",{children:e.classId}),(0,Fe.jsx)("td",{children:new Date(e.dueDate).toLocaleDateString()}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("span",{className:"badge ".concat("open"===e.status?"bg-warning-subtle text-warning border":"completed"===e.status?"bg-success-subtle text-success border":"bg-secondary-subtle text-secondary border"),children:e.status})}),(0,Fe.jsx)("td",{className:"text-end",children:(0,Fe.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,Fe.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>(async(e,t)=>{try{await AC.updateAssignmentStatus(e,t),p(n=>n.map(n=>n._id===e?ot(ot({},n),{},{status:t}):n)),l("Assignment status updated!"),setTimeout(()=>l(""),3e3)}catch(n){console.error("Failed to update assignment status:",n)}})(e._id,"open"===e.status?"completed":"open"),children:"open"===e.status?"Mark Complete":"Reopen"}),(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",children:"View"})]})})]},e._id))})]})})]}),"communication"===e&&(0,Fe.jsx)("div",{className:"border rounded-3 p-3",children:(0,Fe.jsx)(nQ,{onSendDrillAnnouncement:async e=>{try{const t=await rQ.sendDrillAnnouncement(e);return console.log("Drill announcement sent:",t),t}catch(t){throw console.error("Error sending drill announcement:",t),t}}})}),"analytics"===e&&(0,Fe.jsx)("div",{className:"row g-3",children:b.loading?(0,Fe.jsxs)("div",{className:"col-12 text-center py-4",children:[(0,Fe.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("p",{className:"text-muted mt-2",children:"Loading analytics data..."})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Module Completion"}),(0,Fe.jsx)("div",{className:"text-muted small",children:b.platformStats?"".concat(b.platformStats.totalModulesCompleted," modules completed"):"No data available"})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Drill Participation"}),(0,Fe.jsx)("div",{className:"text-muted small",children:b.platformStats?"".concat(b.platformStats.totalDrillsCompleted," drills completed"):"No data available"})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Total Students"}),(0,Fe.jsx)("div",{className:"text-muted small",children:b.platformStats?"".concat(b.platformStats.totalStudents," active students"):"No data available"})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Your Points"}),(0,Fe.jsx)("div",{className:"text-muted small",children:b.userStats?"".concat(b.userStats.totalPoints," points earned"):"No data available"}),b.userStats&&(0,Fe.jsxs)("div",{className:"text-info small mt-1",children:["Preparedness: ",b.userStats.preparednessScore,"%"]})]})})]})})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-xxl-4",children:(0,Fe.jsx)("div",{className:"card shadow-sm h-100",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-people text-primary"}),"Class Snapshot"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column small gap-2",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Total Students"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:b.platformStats?b.platformStats.totalStudents:"0"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Modules Completed"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:b.platformStats?b.platformStats.totalModulesCompleted:"0"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Drills Completed"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:b.platformStats?b.platformStats.totalDrillsCompleted:"0"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Avg Preparedness"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:b.platformStats?"".concat(b.platformStats.averagePreparedness,"%"):"0%"})]})]})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard-data text-warning"}),"Your Classes"]}),(0,Fe.jsx)("div",{className:"table-responsive",children:(0,Fe.jsxs)("table",{className:"table align-middle small",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Class"}),(0,Fe.jsx)("th",{children:"Avg Completion"}),(0,Fe.jsx)("th",{children:"Last Drill"}),(0,Fe.jsx)("th",{children:"Participation"}),(0,Fe.jsx)("th",{})]})}),(0,Fe.jsx)("tbody",{children:S.map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"fw-semibold",children:e.name}),(0,Fe.jsxs)("td",{children:[e.completion,"%"]}),(0,Fe.jsx)("td",{children:e.lastDrill}),(0,Fe.jsxs)("td",{children:[e.participation,"%"]}),(0,Fe.jsxs)("td",{className:"text-end",children:[(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm me-2","aria-label":"Assign module to ".concat(e.name),children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text me-1"}),"Assign module"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-success btn-sm","aria-label":"Schedule drill for ".concat(e.name),children:[(0,Fe.jsx)("i",{className:"bi bi-flag me-1"}),"Schedule drill"]})]})]},e.name))})]})})]})})}),c&&(0,Fe.jsx)(iQ,{onClose:()=>u(!1),onSuccess:e=>{l(e),u(!1),setTimeout(()=>l(""),3e3)}}),d&&(0,Fe.jsx)(sQ,{onClose:()=>h(!1),onAssignmentCreated:e=>{p(t=>[e,...t]),l("Assignment created successfully!"),setTimeout(()=>l(""),3e3)}})]})};const oQ=function(){const e=ee(),[t,n]=(0,i.useState)("login"),[r,s]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[x,w]=(0,i.useState)(""),[j,S]=(0,i.useState)(!1);return(0,Fe.jsx)("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"radial-gradient(1200px 500px at 10% 10%, #e3f2fd 0%, rgba(227,242,253,0) 70%), radial-gradient(1000px 400px at 90% 20%, #fff3cd 0%, rgba(255,243,205,0) 60%), linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)"},children:(0,Fe.jsx)("div",{className:"container",style:{maxWidth:1040},children:(0,Fe.jsxs)("div",{className:"row g-3 align-items-center",children:[(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"p-4 p-md-5 rounded-4 bg-white border shadow h-100",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger"}),(0,Fe.jsx)("h4",{className:"mb-0",children:"D-Prep"})]}),(0,Fe.jsx)("span",{className:"badge bg-primary-subtle text-primary border small",children:"Secure Access"})]}),(0,Fe.jsxs)("div",{className:"btn-group mb-3 w-100",role:"group",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-".concat("login"===t?"primary":"outline-primary"),onClick:()=>n("login"),children:"Login"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-".concat("signup"===t?"primary":"outline-primary"),onClick:()=>n("signup"),children:"Sign up"})]}),v&&(0,Fe.jsx)("div",{className:"alert alert-danger py-2",children:v}),x&&(0,Fe.jsx)("div",{className:"alert alert-success py-2",children:x}),(0,Fe.jsxs)("form",{className:"d-grid gap-3",onSubmit:async n=>{n.preventDefault(),b(""),w("");try{if("login"===t){const t=await Pg(a.trim(),l);console.log("Auth.jsx - User after login:",t),console.log("Auth.jsx - User role:",t.role),"admin"===t.role?(console.log("Auth.jsx - Redirecting to admin dashboard"),e("/admin",{replace:!0})):"teacher"===t.role?(console.log("Auth.jsx - Redirecting to teacher dashboard"),e("/teacher",{replace:!0})):(console.log("Auth.jsx - Redirecting to home (student)"),e("/",{replace:!0}))}else{if(l!==u)throw new Error("Passwords do not match");await async function(e,t,n,r){let{institution:i,phone:s}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e||!t||!n)throw new Error("Missing details");try{const a=(await Ss(Sg,t,n)).user,o=r||Dg(t),l={name:e,email:t,role:o,institution:i||"",phone:s||"",createdAt:(new Date).toISOString()};await bg(Im(Ng,"users",a.uid),l);const c={uid:a.uid,email:a.email,role:o,name:e,institution:i||"",phone:s||""};return Tg(c),c}catch(v){throw new Error(v.message)}}(r.trim(),a.trim(),l,"student",{institution:p.trim(),phone:g.trim()});e("/",{replace:!0})}}catch(bQ){b(bQ.message||"Authentication failed")}},children:["signup"===t&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Name ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{className:"form-control",value:r,onChange:e=>s(e.target.value),required:!0})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Email ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{type:"email",className:"form-control",value:a,onChange:e=>o(e.target.value),required:!0})]}),(0,Fe.jsxs)("div",{className:"row g-2",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Password ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsxs)("div",{className:"input-group",children:[(0,Fe.jsx)("input",{type:h?"text":"password",className:"form-control",value:l,onChange:e=>c(e.target.value),required:!0}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>f(!h),"aria-label":"Toggle password visibility",children:(0,Fe.jsx)("i",{className:"bi ".concat(h?"bi-eye-slash":"bi-eye")})})]})]}),"signup"===t&&(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Confirm Password ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{type:h?"text":"password",className:"form-control",value:u,onChange:e=>d(e.target.value),required:!0})]})]}),"signup"===t&&(0,Fe.jsxs)("div",{className:"row g-2",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Institution ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{className:"form-control",value:p,onChange:e=>m(e.target.value),placeholder:"College/School",required:!0})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Phone ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{className:"form-control",value:g,onChange:e=>y(e.target.value),placeholder:"10-digit",required:!0})]})]}),(0,Fe.jsx)("button",{className:"btn btn-primary",type:"submit",children:"login"===t?"Login":"Create account"})]}),"login"===t&&(0,Fe.jsx)("div",{className:"text-center mt-3",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-link text-decoration-none p-0",onClick:()=>S(!j),children:"Forgot your password?"})}),j&&(0,Fe.jsxs)("div",{className:"mt-3 p-3 border rounded-3 bg-light",children:[(0,Fe.jsx)("h6",{className:"mb-2",children:"Reset Password"}),(0,Fe.jsx)("p",{className:"small text-muted mb-3",children:"Enter your email address and we'll send you a link to reset your password."}),(0,Fe.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),b(""),w(""),a.trim())try{await async function(e,t,n){const r=Pi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ws(r,i,n),await zi(r,i,"getOobCode",Ji,"EMAIL_PASSWORD_PROVIDER")}(Sg,a.trim()),w("Password reset email sent! Check your inbox."),S(!1)}catch(bQ){b(bQ.message||"Failed to send password reset email")}else b("Please enter your email address first")},children:(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsx)("input",{type:"email",className:"form-control",value:a,onChange:e=>o(e.target.value),placeholder:"Enter your email",required:!0}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"Send Reset Link"})]})}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-link text-decoration-none p-0 mt-2",onClick:()=>S(!1),children:"Cancel"})]})]})}),(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"h-100 p-4 p-md-5 rounded-4 border bg-white shadow",children:[(0,Fe.jsxs)("h5",{className:"mb-2 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-radar text-primary"}),"Disaster-ready campuses"]}),(0,Fe.jsx)("div",{className:"text-muted small mb-3",children:"Interactive education, region-specific alerts, and virtual drills for students and staff."}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard text-primary"}),"Interactive Learning"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Videos, quizzes, and badges."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick text-success"}),"Virtual Drills"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Practice safely with simulations."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-danger"}),"Region Alerts"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Stay updated and prepared."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy text-warning"}),"Gamified"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Points, badges, leaderboard."})]})})]})]})})]})})})},lQ=[{email:"teacher1@d-prep.edu",password:"teacher123",name:"Dr. Sarah Johnson",role:"teacher",institution:"Delhi University",phone:"9876543210"},{email:"teacher2@d-prep.edu",password:"teacher123",name:"Prof. Rajesh Kumar",role:"teacher",institution:"IIT Delhi",phone:"9876543211"},{email:"teacher3@d-prep.edu",password:"teacher123",name:"Ms. Priya Sharma",role:"teacher",institution:"JNU",phone:"9876543212"},{email:"admin@d-prep.edu",password:"admin123",name:"System Administrator",role:"admin",institution:"D-Prep Platform",phone:"9876543213"}];async function cQ(e,t){try{console.log("Fixing role for ".concat(e," to ").concat(t));const n=Im(Ng,"users","DBzAVovpvfTcnPTnbGgnAyu2WDrl"),r=(await yg(n)).data();return r?(console.log("Current user data:",r),await bg(n,ot(ot({},r),{},{role:t,updatedAt:(new Date).toISOString()}),{merge:!0}),console.log("\u2705 Successfully updated role for ".concat(e," to ").concat(t)),!0):(console.log("No user data found, creating new profile"),await bg(n,{name:"Dr. Sarah Johnson",email:e,role:t,institution:"Delhi University",phone:"9876543210",createdAt:(new Date).toISOString(),isPredefined:!0}),console.log("\u2705 Created new profile for ".concat(e," with role ").concat(t)),!0)}catch(n){return console.error("\u274c Error fixing role for ".concat(e,":"),n),!1}}const uQ=function(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)("");return(0,Fe.jsx)("div",{className:"container py-5",children:(0,Fe.jsx)("div",{className:"row justify-content-center",children:(0,Fe.jsx)("div",{className:"col-md-8",children:(0,Fe.jsx)("div",{className:"card shadow",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h3",{className:"card-title mb-4",children:[(0,Fe.jsx)("i",{className:"bi bi-people-fill text-primary me-2"}),"Setup Predefined Users"]}),(0,Fe.jsxs)("div",{className:"alert alert-info",children:[(0,Fe.jsx)("h5",{children:"Predefined Accounts:"}),(0,Fe.jsxs)("div",{className:"row",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Teachers:"}),(0,Fe.jsxs)("ul",{className:"list-unstyled",children:[(0,Fe.jsx)("li",{children:"teacher1@d-prep.edu / teacher123"}),(0,Fe.jsx)("li",{children:"teacher2@d-prep.edu / teacher123"}),(0,Fe.jsx)("li",{children:"teacher3@d-prep.edu / teacher123"})]})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Admin:"}),(0,Fe.jsx)("ul",{className:"list-unstyled",children:(0,Fe.jsx)("li",{children:"admin@d-prep.edu / admin123"})})]})]})]}),(0,Fe.jsxs)("div",{className:"d-flex gap-3 flex-wrap",children:[(0,Fe.jsx)("button",{className:"btn btn-primary btn-lg",onClick:async()=>{t(!0),r("Creating predefined users...");try{await async function(){console.log("Creating predefined users...");for(const t of lQ)try{const e=(await Ss(Sg,t.email,t.password)).user;await bg(Im(Ng,"users",e.uid),{name:t.name,email:t.email,role:t.role,institution:t.institution,phone:t.phone,createdAt:(new Date).toISOString(),isPredefined:!0}),console.log("\u2705 Created ".concat(t.role,": ").concat(t.email))}catch(e){"auth/email-already-in-use"===e.code?console.log("\u26a0\ufe0f  User already exists: ".concat(t.email)):console.error("\u274c Error creating ".concat(t.email,":"),e.message)}console.log("Predefined users creation completed!")}(),r("\u2705 Predefined users created successfully!")}catch(e){r("\u274c Error: ".concat(e.message))}finally{t(!1)}},disabled:e,children:e?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating Users..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-person-plus me-2"}),"Create Predefined Users"]})}),(0,Fe.jsx)("button",{className:"btn btn-warning btn-lg",onClick:async()=>{t(!0),r("Fixing user roles...");try{await async function(){const e=[{email:"teacher1@d-prep.edu",role:"teacher",name:"Dr. Sarah Johnson"},{email:"teacher2@d-prep.edu",role:"teacher",name:"Prof. Rajesh Kumar"},{email:"teacher3@d-prep.edu",role:"teacher",name:"Ms. Priya Sharma"},{email:"admin@d-prep.edu",role:"admin",name:"System Administrator"}];console.log("Fixing all predefined users...");for(const t of e)await cQ(t.email,t.role);console.log("All predefined users fixed!")}(),r("\u2705 User roles fixed successfully! Please refresh the page and login again.")}catch(e){r("\u274c Error: ".concat(e.message))}finally{t(!1)}},disabled:e,children:e?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Fixing Roles..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-tools me-2"}),"Fix User Roles"]})})]}),n&&(0,Fe.jsx)("div",{className:"alert ".concat(n.includes("\u2705")?"alert-success":"alert-danger"," mt-3"),children:n}),(0,Fe.jsxs)("div",{className:"mt-4",children:[(0,Fe.jsx)("h6",{children:"Instructions:"}),(0,Fe.jsxs)("ol",{children:[(0,Fe.jsx)("li",{children:'Click "Create Predefined Users" button above'}),(0,Fe.jsx)("li",{children:"Wait for the creation to complete"}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("strong",{children:"If roles are wrong:"}),' Click "Fix User Roles" button']}),(0,Fe.jsx)("li",{children:"Go to login page and use any of the predefined accounts"}),(0,Fe.jsx)("li",{children:"Teachers will see teacher dashboard, admin will see admin dashboard"})]}),(0,Fe.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,Fe.jsx)("strong",{children:"Note:"}),' If you see "Role: student" in the debug panel, click "Fix User Roles" to correct the roles in Firestore.']})]})]})})})})})};const dQ=function(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(!1),c=$();return(0,i.useEffect)(()=>{let e;if(Ag()){const e=_g();r(e),l(!0),a(!1)}const t=Og(e=>{console.log("RequireAuth - Auth changed:",e),r(e),l(!0),a(!1)});return e=setTimeout(()=>{o||(console.log("RequireAuth - Auth initialization timeout"),l(!0),a(!1))},3e3),()=>{t(),e&&clearTimeout(e)}},[o]),s||!o?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Fe.jsx)("p",{className:"text-muted",children:"Initializing authentication..."})]})}):n?t:(console.log("RequireAuth - No user found, redirecting to login"),(0,Fe.jsx)(ge,{to:"/login",state:{from:c},replace:!0}))};const hQ=function(e){let{role:t,children:n}=e;const[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=_g();s(e),o(!1);const t=Og(e=>{s(e),o(!1)});return t},[]),a?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):r&&r.role===t?n:(0,Fe.jsx)(ge,{to:"/",replace:!0})};function fQ(e){let{roles:t,children:n}=e;const[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=_g();s(e),o(!1);const t=Og(e=>{s(e),o(!1)});return t},[]),a?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):r&&null!==t&&void 0!==t&&t.includes(r.role)?n:(0,Fe.jsx)(ge,{to:"/",replace:!0})}function pQ(){const e=$(),t=()=>(0,Fe.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[(0,Fe.jsx)(Lg,{}),(0,Fe.jsx)("div",{className:"app-bg flex-grow-1",children:(0,Fe.jsx)("div",{className:"container py-3",children:(0,Fe.jsx)(ye,{})})}),(0,Fe.jsx)(Fg,{}),(0,Fe.jsx)(jE,{})]}),n=()=>(0,Fe.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[(0,Fe.jsx)("div",{className:"flex-grow-1",children:(0,Fe.jsx)(ye,{})}),(0,Fe.jsx)(Fg,{})]});return(0,Fe.jsx)($e,{mode:"wait",children:(0,Fe.jsxs)(xe,{location:e,children:[(0,Fe.jsxs)(ve,{element:(0,Fe.jsx)(n,{}),children:[(0,Fe.jsx)(ve,{path:"/login",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(oQ,{})})}),(0,Fe.jsx)(ve,{path:"/signup",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(oQ,{})})}),(0,Fe.jsx)(ve,{path:"/setup",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(uQ,{})})})]}),(0,Fe.jsxs)(ve,{element:(0,Fe.jsx)(dQ,{children:(0,Fe.jsx)(t,{})}),children:[(0,Fe.jsx)(ve,{path:"/",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(IC,{})})}),(0,Fe.jsx)(ve,{path:"/learn",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(fQ,{roles:["student","teacher"],children:(0,Fe.jsx)(UC,{})})})}),(0,Fe.jsx)(ve,{path:"/alerts",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(fQ,{roles:["student","teacher","admin"],children:(0,Fe.jsx)(zC,{})})})}),(0,Fe.jsx)(ve,{path:"/drills",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(fQ,{roles:["student","teacher"],children:(0,Fe.jsx)(HC,{})})})}),(0,Fe.jsx)(ve,{path:"/simulation",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(fQ,{roles:["student","teacher"],children:(0,Fe.jsx)(cT,{})})})}),(0,Fe.jsx)(ve,{path:"/leaderboard",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(fQ,{roles:["student"],children:(0,Fe.jsx)(KC,{})})})}),(0,Fe.jsx)(ve,{path:"/emergency",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(fQ,{roles:["student","teacher"],children:(0,Fe.jsx)(QC,{})})})}),(0,Fe.jsx)(ve,{path:"/admin",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(hQ,{role:"admin",children:(0,Fe.jsx)(tQ,{})})})}),(0,Fe.jsx)(ve,{path:"/teacher",element:(0,Fe.jsx)(_N,{children:(0,Fe.jsx)(hQ,{role:"teacher",children:(0,Fe.jsx)(aQ,{})})})})]})]},e.pathname)})}function mQ(){const e=$();return["/login","/signup","/setup"].includes(e.pathname)?null:(0,Fe.jsx)(jE,{})}const gQ=function(){return(0,Fe.jsxs)(Ae,{children:[(0,Fe.jsx)(pQ,{}),(0,Fe.jsx)(mQ,{}),(0,Fe.jsx)(Gk,{})]})};a.createRoot(document.getElementById("root")).render((0,Fe.jsx)(i.StrictMode,{children:(0,Fe.jsx)(gQ,{})}))})()})();
//# sourceMappingURL=main.2f26c9cc.js.map